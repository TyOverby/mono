<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (core_kernel.Tuple_pool.S)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">core_kernel</a> &#x00BB; <a href="../index.html">Tuple_pool</a> &#x00BB; S</nav><header class="odoc-preamble"><h1>Module type <code><span>Tuple_pool.S</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Slots" class="anchored"><a href="#module-Slots" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Slots/index.html">Slots</a></span><span> : <a href="../Tuple_type/module-type-Slots/index.html">Tuple_type.Slots</a></span></code></div><div class="spec-doc"><p><code>Slots</code> has types <code>t1</code>, ..., <code>t12</code> of arities 1 to 12 that are isomorphic to tuple types of the corresponding arities. Type <code>('a0, ..., 'a&lt;N-1&gt;) t&lt;N&gt;</code> corresponds to <code>'a0 * ... * 'a&lt;N-1&gt;</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Slot" class="anchored"><a href="#module-Slot" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Slot/index.html">Slot</a></span><span> : <a href="../Tuple_type/module-type-Slot/index.html">Tuple_type.Slot</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Pointer" class="anchored"><a href="#module-Pointer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Pointer/index.html">Pointer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'slots t</span></span></code></div><div class="spec-doc"><p>A pool. <code>'slots</code> will look like <code>('a1, ..., 'an) Slots.tn</code>, and the pool holds tuples of type <code>'a1 * ... * 'an</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><span>( <span><span class="type-var">'slots</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'slots</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../base/Base/Invariant/module-type-S1/index.html">Core.Invariant.S1</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../base/Base/Invariant/module-type-S1/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-invariant" class="anchored"><a href="#val-invariant" class="anchor"></a><code><span><span class="keyword">val</span> invariant : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-pointer_is_valid" class="anchored"><a href="#val-pointer_is_valid" class="anchor"></a><code><span><span class="keyword">val</span> pointer_is_valid : <span><span><span class="type-var">'slots</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>pointer_is_valid t pointer</code> returns <code>true</code> iff <code>pointer</code> points to a live tuple in <code>t</code>, i.e. <code>pointer</code> is not null, not free, and is in the range of <code>t</code>.</p><p>A pointer might not be in the range of a pool if it comes from another pool for example. In this case unsafe_get/set functions would cause a segfault.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-id_of_pointer" class="anchored"><a href="#val-id_of_pointer" class="anchor"></a><code><span><span class="keyword">val</span> id_of_pointer : <span><span><span class="type-var">'slots</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="Pointer/Id/index.html#type-t">Pointer.Id.t</a></span></code></div><div class="spec-doc"><p><code>id_of_pointer t pointer</code> returns an id that is unique for the lifetime of <code>pointer</code>'s tuple. When the tuple is freed, the id is no longer valid, and <code>pointer_of_id_exn</code> will fail on it. <code>Pointer.null ()</code> has a distinct id from all non-null pointers.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pointer_of_id_exn" class="anchored"><a href="#val-pointer_of_id_exn" class="anchor"></a><code><span><span class="keyword">val</span> pointer_of_id_exn : <span><span><span class="type-var">'slots</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="Pointer/Id/index.html#type-t">Pointer.Id.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div><div class="spec-doc"><p><code>pointer_of_id_exn t id</code> returns the pointer corresponding to <code>id</code>. It fails if the tuple corresponding to <code>id</code> was already <code>free</code>d.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : 
  <span><span><span>( <span class="type-var">'tuple</span>, <span class="type-var">_</span> )</span> <a href="Slots/index.html#type-t">Slots.t</a></span> <span class="keyword">as</span> 'slots <span class="arrow">&#45;&gt;</span></span>
  <span>capacity:int <span class="arrow">&#45;&gt;</span></span>
  <span>dummy:<span class="type-var">'tuple</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>create slots ~capacity ~dummy</code> creates an empty pool that can hold up to <code>capacity</code> N-tuples. The slots of <code>dummy</code> are stored in free tuples. <code>create</code> raises if <code>capacity &lt; 0 || capacity &gt; max_capacity ~slots_per_tuple</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_capacity" class="anchored"><a href="#val-max_capacity" class="anchor"></a><code><span><span class="keyword">val</span> max_capacity : <span>slots_per_tuple:int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>max_capacity</code> returns the maximum capacity allowed when creating a pool.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-capacity" class="anchored"><a href="#val-capacity" class="anchor"></a><code><span><span class="keyword">val</span> capacity : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>capacity</code> returns the maximum number of tuples that the pool can hold.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>length</code> returns the number of tuples currently in the pool.</p><pre><code>0 &lt;= length t &lt;= capacity t</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-grow" class="anchored"><a href="#val-grow" class="anchor"></a><code><span><span class="keyword">val</span> grow : <span>?capacity:int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>grow t ~capacity</code> returns a new pool <code>t'</code> with the supplied capacity. The new pool is to be used as a replacement for <code>t</code>. All live tuples in <code>t</code> are now live in <code>t'</code>, and valid pointers to tuples in <code>t</code> are now valid pointers to the identical tuple in <code>t'</code>. It is an error to use <code>t</code> after calling <code>grow t</code>.</p><p><code>grow</code> raises if the supplied capacity isn't larger than <code>capacity t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_full" class="anchored"><a href="#val-is_full" class="anchor"></a><code><span><span class="keyword">val</span> is_full : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_full t</code> returns <code>true</code> if no more tuples can be allocated in <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-free" class="anchored"><a href="#val-free" class="anchor"></a><code><span><span class="keyword">val</span> free : <span><span><span class="type-var">'slots</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>free t pointer</code> frees the tuple pointed to by <code>pointer</code> from <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_free" class="anchored"><a href="#val-unsafe_free" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_free : <span><span><span class="type-var">'slots</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>unsafe_free t pointer</code> frees the tuple pointed to by <code>pointer</code> without checking <code>pointer_is_valid</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-new1" class="anchored"><a href="#val-new1" class="anchor"></a><code><span><span class="keyword">val</span> new1 : <span><span><span><span class="type-var">'a0</span> <a href="Slots/index.html#type-t1">Slots.t1</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div><div class="spec-doc"><p><code>new&lt;N&gt; t a0 ... a&lt;N-1&gt;</code> returns a new tuple from the pool, with the tuple's slots initialized to <code>a0</code> ... <code>a&lt;N-1&gt;</code>. <code>new</code> raises if <code>is_full t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new2" class="anchored"><a href="#val-new2" class="anchor"></a><code><span><span class="keyword">val</span> new2 : <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span> )</span> <a href="Slots/index.html#type-t2">Slots.t2</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new3" class="anchored"><a href="#val-new3" class="anchor"></a><code><span><span class="keyword">val</span> new3 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span> )</span> <a href="Slots/index.html#type-t3">Slots.t3</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new4" class="anchored"><a href="#val-new4" class="anchor"></a><code><span><span class="keyword">val</span> new4 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span> )</span> <a href="Slots/index.html#type-t4">Slots.t4</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new5" class="anchored"><a href="#val-new5" class="anchor"></a><code><span><span class="keyword">val</span> new5 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span> )</span> <a href="Slots/index.html#type-t5">Slots.t5</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new6" class="anchored"><a href="#val-new6" class="anchor"></a><code><span><span class="keyword">val</span> new6 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span> )</span> <a href="Slots/index.html#type-t6">Slots.t6</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new7" class="anchored"><a href="#val-new7" class="anchor"></a><code><span><span class="keyword">val</span> new7 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span> )</span> <a href="Slots/index.html#type-t7">Slots.t7</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new8" class="anchored"><a href="#val-new8" class="anchor"></a><code><span><span class="keyword">val</span> new8 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span>, <span class="type-var">'a7</span> )</span> <a href="Slots/index.html#type-t8">Slots.t8</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new9" class="anchored"><a href="#val-new9" class="anchor"></a><code><span><span class="keyword">val</span> new9 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span>, <span class="type-var">'a7</span>, <span class="type-var">'a8</span> )</span> <a href="Slots/index.html#type-t9">Slots.t9</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new10" class="anchored"><a href="#val-new10" class="anchor"></a><code><span><span class="keyword">val</span> new10 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span>, <span class="type-var">'a7</span>, <span class="type-var">'a8</span>, <span class="type-var">'a9</span> )</span> <a href="Slots/index.html#type-t10">Slots.t10</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new11" class="anchored"><a href="#val-new11" class="anchor"></a><code><span><span class="keyword">val</span> new11 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span>, <span class="type-var">'a7</span>, <span class="type-var">'a8</span>, <span class="type-var">'a9</span>, <span class="type-var">'a10</span> )</span> <a href="Slots/index.html#type-t11">Slots.t11</a></span> <span class="keyword">as</span> 'slots
    <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new12" class="anchored"><a href="#val-new12" class="anchor"></a><code><span><span class="keyword">val</span> new12 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span>, <span class="type-var">'a7</span>, <span class="type-var">'a8</span>, <span class="type-var">'a9</span>, <span class="type-var">'a10</span>, <span class="type-var">'a11</span> )</span> <a href="Slots/index.html#type-t12">Slots.t12</a></span> <span class="keyword">as</span> 'slots
    <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new13" class="anchored"><a href="#val-new13" class="anchor"></a><code><span><span class="keyword">val</span> new13 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span>, <span class="type-var">'a7</span>, <span class="type-var">'a8</span>, <span class="type-var">'a9</span>, <span class="type-var">'a10</span>, <span class="type-var">'a11</span>, <span class="type-var">'a12</span> )</span>
    <a href="Slots/index.html#type-t13">Slots.t13</a></span> <span class="keyword">as</span> 'slots
    <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a12</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-new14" class="anchored"><a href="#val-new14" class="anchor"></a><code><span><span class="keyword">val</span> new14 : 
  <span><span><span><span>( <span class="type-var">'a0</span>, <span class="type-var">'a1</span>, <span class="type-var">'a2</span>, <span class="type-var">'a3</span>, <span class="type-var">'a4</span>, <span class="type-var">'a5</span>, <span class="type-var">'a6</span>, <span class="type-var">'a7</span>, <span class="type-var">'a8</span>, <span class="type-var">'a9</span>, <span class="type-var">'a10</span>, <span class="type-var">'a11</span>, <span class="type-var">'a12</span>, <span class="type-var">'a13</span> )</span>
    <a href="Slots/index.html#type-t14">Slots.t14</a></span> <span class="keyword">as</span> 'slots
    <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a12</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a13</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_tuple" class="anchored"><a href="#val-get_tuple" class="anchor"></a><code><span><span class="keyword">val</span> get_tuple : <span><span><span><span>( <span class="type-var">'tuple</span>, <span class="type-var">_</span> )</span> <a href="Slots/index.html#type-t">Slots.t</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'tuple</span></span></code></div><div class="spec-doc"><p><code>get_tuple t pointer</code> allocates an OCaml tuple isomorphic to the pool <code>t</code>'s tuple pointed to by <code>pointer</code>. The tuple gets copied, but its slots do not.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : 
  <span><span><span><span>( <span class="type-var">_</span>, <span class="type-var">'variant</span> )</span> <a href="Slots/index.html#type-t">Slots.t</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'variant</span>, <span class="type-var">'slot</span> )</span> <a href="Slot/index.html#type-t">Slot.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'slot</span></span></code></div><div class="spec-doc"><p><code>get t pointer slot</code> gets <code>slot</code> of the tuple pointed to by <code>pointer</code> in pool <code>t</code>.</p><p><code>set t pointer slot a</code> sets to <code>a</code> the <code>slot</code> of the tuple pointed to by <code>pointer</code> in pool <code>t</code>.</p><p>In <code>get</code> and <code>set</code>, it is an error to refer to a pointer that has been <code>free</code>d. It is also an error to use a pointer with any pool other than the one the pointer was <code>new</code>'d from or <code>grow</code>n to. These errors will lead to undefined behavior, but will not segfault.</p><p><code>unsafe_get</code> is comparable in speed to <code>get</code> for immediate values, and 5%-10% faster for pointers.</p><p><code>unsafe_get</code> and <code>unsafe_set</code> skip bounds checking, and can thus segfault.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get" class="anchored"><a href="#val-unsafe_get" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get : 
  <span><span><span><span>( <span class="type-var">_</span>, <span class="type-var">'variant</span> )</span> <a href="Slots/index.html#type-t">Slots.t</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'variant</span>, <span class="type-var">'slot</span> )</span> <a href="Slot/index.html#type-t">Slot.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'slot</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : 
  <span><span><span><span>( <span class="type-var">_</span>, <span class="type-var">'variant</span> )</span> <a href="Slots/index.html#type-t">Slots.t</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'variant</span>, <span class="type-var">'slot</span> )</span> <a href="Slot/index.html#type-t">Slot.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slot</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set" class="anchored"><a href="#val-unsafe_set" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set : 
  <span><span><span><span>( <span class="type-var">_</span>, <span class="type-var">'variant</span> )</span> <a href="Slots/index.html#type-t">Slots.t</a></span> <span class="keyword">as</span> 'slots <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'slots</span> <a href="Pointer/index.html#type-t">Pointer.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'variant</span>, <span class="type-var">'slot</span> )</span> <a href="Slot/index.html#type-t">Slot.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'slot</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div></div></body></html>