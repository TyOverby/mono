<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Text_block (textutils_kernel.Text_block)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">textutils_kernel</a> &#x00BB; Text_block</nav><header class="odoc-preamble"><h1>Module <code><span>Text_block</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Two dimensional blocks of text</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../base/Base/Invariant/module-type-S/index.html">Core.Invariant.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Invariant/module-type-S/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-invariant" class="anchored"><a href="#val-invariant" class="anchor"></a><code><span><span class="keyword">val</span> invariant : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-nil" class="anchored"><a href="#val-nil" class="anchor"></a><code><span><span class="keyword">val</span> nil : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The empty block. a left and right unit to both <code>hcat</code> and <code>vcat</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill" class="anchored"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span>char <span class="arrow">&#45;&gt;</span></span> <span>width:int <span class="arrow">&#45;&gt;</span></span> <span>height:int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>fill</code> and <code>space</code> assume width and height are non-negative</p></div></div><div class="odoc-spec"><div class="spec value" id="val-space" class="anchored"><a href="#val-space" class="anchor"></a><code><span><span class="keyword">val</span> space : <span>width:int <span class="arrow">&#45;&gt;</span></span> <span>height:int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_uchar" class="anchored"><a href="#val-fill_uchar" class="anchor"></a><code><span><span class="keyword">val</span> fill_uchar : <span><a href="../../base/Base/Uchar/index.html#type-t">Core.Uchar.t</a> <span class="arrow">&#45;&gt;</span></span> <span>width:int <span class="arrow">&#45;&gt;</span></span> <span>height:int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Fill a space with a Unicode character</p></div></div><div class="odoc-spec"><div class="spec type" id="type-valign" class="anchored"><a href="#type-valign" class="anchor"></a><code><span><span class="keyword">type</span> valign</span><span> = </span><span>[ </span></code><table><tr id="type-valign.Top" class="anchored"><td class="def constructor"><a href="#type-valign.Top" class="anchor"></a><code><span>| </span></code><code><span>`Top</span></code></td></tr><tr id="type-valign.Bottom" class="anchored"><td class="def constructor"><a href="#type-valign.Bottom" class="anchor"></a><code><span>| </span></code><code><span>`Bottom</span></code></td></tr><tr id="type-valign.Center" class="anchored"><td class="def constructor"><a href="#type-valign.Center" class="anchor"></a><code><span>| </span></code><code><span>`Center</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Vertical and horizontal alignment specifications</p></div></div><div class="odoc-spec"><div class="spec type" id="type-halign" class="anchored"><a href="#type-halign" class="anchor"></a><code><span><span class="keyword">type</span> halign</span><span> = </span><span>[ </span></code><table><tr id="type-halign.Left" class="anchored"><td class="def constructor"><a href="#type-halign.Left" class="anchor"></a><code><span>| </span></code><code><span>`Left</span></code></td></tr><tr id="type-halign.Right" class="anchored"><td class="def constructor"><a href="#type-halign.Right" class="anchor"></a><code><span>| </span></code><code><span>`Right</span></code></td></tr><tr id="type-halign.Center" class="anchored"><td class="def constructor"><a href="#type-halign.Center" class="anchor"></a><code><span>| </span></code><code><span>`Center</span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-text" class="anchored"><a href="#val-text" class="anchor"></a><code><span><span class="keyword">val</span> text : <span>?align:<a href="#type-halign">halign</a> <span class="arrow">&#45;&gt;</span></span> <span>?max_width:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>A basic block of text, split on newlines and horizontally aligned as specified.</p><p>If <code>max_width</code> is provided, split each line of the input on whitespace and wrap words to respect the request. So long as no words are longer than <code>max_width</code>, the resulting text block will be no wider than <code>max_width</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-textf" class="anchored"><a href="#val-textf" class="anchor"></a><code><span><span class="keyword">val</span> textf : 
  <span>?align:<a href="#type-halign">halign</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?max_width:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'r</span>, unit, string, <a href="#type-t">t</a> )</span> <a href="../../core/Core/index.html#type-format4">Core.format4</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'r</span></span></code></div><div class="spec-doc"><p>Like <code>text</code>, but takes a format string like printf</p></div></div><div class="odoc-spec"><div class="spec value" id="val-vcat" class="anchored"><a href="#val-vcat" class="anchor"></a><code><span><span class="keyword">val</span> vcat : <span>?align:<a href="#type-halign">halign</a> <span class="arrow">&#45;&gt;</span></span> <span>?sep:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Vertical concatenation with alignment</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hcat" class="anchored"><a href="#val-hcat" class="anchor"></a><code><span><span class="keyword">val</span> hcat : <span>?align:<a href="#type-valign">valign</a> <span class="arrow">&#45;&gt;</span></span> <span>?sep:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Horizontal concatenation with alignment</p></div></div><p>Text block dimensions</p><div class="odoc-spec"><div class="spec value" id="val-width" class="anchored"><a href="#val-width" class="anchor"></a><code><span><span class="keyword">val</span> width : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-height" class="anchored"><a href="#val-height" class="anchor"></a><code><span><span class="keyword">val</span> height : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><p>Vertical and horizontal sequence alignment. Both <code>valign</code> and <code>halign</code> return a list of the same length as the input, with the corresponding elements padded to the appropriate alignment.</p><p>If you have a list of a statically known length, using <code>With_static_lengths.valign</code> or <code>With_static_lengths.halign</code> below will let the type checker know that the length of the returned list is equal to the length of the input list.</p><div class="odoc-spec"><div class="spec value" id="val-valign" class="anchored"><a href="#val-valign" class="anchor"></a><code><span><span class="keyword">val</span> valign : <span><a href="#type-valign">valign</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-halign" class="anchored"><a href="#val-halign" class="anchor"></a><code><span><span class="keyword">val</span> halign : <span><a href="#type-halign">halign</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div></div><p>Empty blocks with either horizontal or vertical extent -- useful for specifying a minimum width or height in conjunction with valign or halign, respectively</p><div class="odoc-spec"><div class="spec value" id="val-hstrut" class="anchored"><a href="#val-hstrut" class="anchor"></a><code><span><span class="keyword">val</span> hstrut : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-vstrut" class="anchored"><a href="#val-vstrut" class="anchor"></a><code><span><span class="keyword">val</span> vstrut : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ansi_escape" class="anchored"><a href="#val-ansi_escape" class="anchor"></a><code><span><span class="keyword">val</span> ansi_escape : <span>?prefix:string <span class="arrow">&#45;&gt;</span></span> <span>?suffix:string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Wrap a block with an ANSI escape sequence. The <code>prefix</code> and <code>suffix</code> arguments should render with zero width and height.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-render" class="anchored"><a href="#val-render" class="anchor"></a><code><span><span class="keyword">val</span> render : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>render a block of text as a string</p></div></div><div class="odoc-spec"><div class="spec value" id="val-table" class="anchored"><a href="#val-table" class="anchor"></a><code><span><span class="keyword">val</span> table : 
  <span>?sep_width:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>[ <span>`Cols of <span><span>(<span><a href="#type-t">t</a> list</span> * <a href="#type-halign">halign</a>)</span> list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>[ <span>`Rows of <span><a href="#type-t">t</a> list</span></span> ]</span></span></code></div><div class="spec-doc"><p>Alignment of a 2D grid of blocks</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compress_table_header" class="anchored"><a href="#val-compress_table_header" class="anchor"></a><code><span><span class="keyword">val</span> compress_table_header : 
  <span>?sep_width:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>[ <span>`Cols of <span><span>(<a href="#type-t">t</a> * <span><a href="#type-t">t</a> list</span> * <a href="#type-halign">halign</a>)</span> list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>[ <span>`Header of <a href="#type-t">t</a></span> ]</span> * <span>[ <span>`Rows of <span><a href="#type-t">t</a> list</span></span> ]</span></span></code></div><div class="spec-doc"><p>Compress table header according to column widths.</p><p>Input: a list of columns of the form (title, values, column alignment). Output: one header block and row sequence. Raises: if the <code>values</code> lists are not the same length in each column. Example:</p><pre>                                                 first name
      age  first name  last name            age  |     last name
      |    |           |            ==&gt;     |    |     |
      30   sue         smith                30   sue   smith
      18   bill        rodriguez            18   bill  rodriguez
      76   rick        jones                76   rick  jones</pre></div></div><div class="odoc-spec"><div class="spec module" id="module-Boxed" class="anchored"><a href="#module-Boxed" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Boxed/index.html">Boxed</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Combinators for building up cell structures separated by box characters: e.g.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-boxed" class="anchored"><a href="#val-boxed" class="anchor"></a><code><span><span class="keyword">val</span> boxed : <span><a href="Boxed/index.html#type-t">Boxed.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>See comment for <code>Boxed</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-vsep" class="anchored"><a href="#val-vsep" class="anchor"></a><code><span><span class="keyword">val</span> vsep : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>vsep = vstrut 1</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-hsep" class="anchored"><a href="#val-hsep" class="anchor"></a><code><span><span class="keyword">val</span> hsep : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>hsep = hstrut 1</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-indent" class="anchored"><a href="#val-indent" class="anchor"></a><code><span><span class="keyword">val</span> indent : <span>?n:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>indent ~n t = hcat [hstrut n; t]</code>. <code>n</code> defaults to <code>2</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp" class="anchored"><a href="#val-sexp" class="anchor"></a><code><span><span class="keyword">val</span> sexp : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Sexp/index.html#type-t">Core.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sexp sexp_of_a a = sexp_of_a a |&gt; Sexp.to_string |&gt; text</code></p></div></div><div class="odoc-spec"><div class="spec module" id="module-With_static_lengths" class="anchored"><a href="#module-With_static_lengths" class="anchor"></a><code><span><span class="keyword">module</span> <a href="With_static_lengths/index.html">With_static_lengths</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Versions of halign and valign with the invariant about list length encoded into the types.</p></div></div></div></body></html>