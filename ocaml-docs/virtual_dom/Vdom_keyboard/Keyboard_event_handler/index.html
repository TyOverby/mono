<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Keyboard_event_handler (virtual_dom.Vdom_keyboard.Keyboard_event_handler)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">virtual_dom</a> &#x00BB; <a href="../index.html">Vdom_keyboard</a> &#x00BB; Keyboard_event_handler</nav><header class="odoc-preamble"><h1>Module <code><span>Vdom_keyboard.Keyboard_event_handler</span></code></h1><p>A <code>Keyboard_event_handler.t</code> is a collections of actions (commands and disabled keys) that can be used to handle keyboard events and to produce help text.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Condition" class="anchored"><a href="#module-Condition" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Condition/index.html">Condition</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A <code>Condition.t</code> is a condition based on a keyboard event (which importantly includes the event's focus). This is intended to be used in keyboard event handlers that look at the keyboard event to determine whether or not to take a certain action.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Handler" class="anchored"><a href="#module-Handler" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Handler/index.html">Handler</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A <code>Handler.t</code> handles a keyboard event by returning a <code>unit Vdom.Effect.t</code>. These should be used as building blocks for keyboard event handlers, for instance to handle a specific set of keys.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Command" class="anchored"><a href="#module-Command" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Command/index.html">Command</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Action" class="anchored"><a href="#module-Action" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Action/index.html">Action</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-of_action_list_exn" class="anchored"><a href="#val-of_action_list_exn" class="anchor"></a><code><span><span class="keyword">val</span> of_action_list_exn : <span><span><a href="Action/index.html#type-t">Action.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_action_list_exn</code> and <code>of_command_list_exn</code> create a keyboard event handler from a list of actions. If the same key appears in multiple actions, an exception is raised.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_command_list_exn" class="anchored"><a href="#val-of_command_list_exn" class="anchor"></a><code><span><span class="keyword">val</span> of_command_list_exn : <span><span><a href="Command/index.html#type-t">Command.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_action_exn" class="anchored"><a href="#val-add_action_exn" class="anchor"></a><code><span><span class="keyword">val</span> add_action_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Action/index.html#type-t">Action.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>add_action_exn</code> adds a new action to a keyboard event handler. If any key from the new action already exists in the handler, an exception is raised.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_command_exn" class="anchored"><a href="#val-add_command_exn" class="anchor"></a><code><span><span class="keyword">val</span> add_command_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Command/index.html#type-t">Command.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Like <a href="#val-add_action_exn"><code>add_action_exn</code></a>, but restricted to command actions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_disabled_key_exn" class="anchored"><a href="#val-add_disabled_key_exn" class="anchor"></a><code><span><span class="keyword">val</span> add_disabled_key_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keystroke/index.html#type-t">Keystroke.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Like <a href="#val-add_action_exn"><code>add_action_exn</code></a>, but restricted to disabled key actions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_action" class="anchored"><a href="#val-set_action" class="anchor"></a><code><span><span class="keyword">val</span> set_action : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Action/index.html#type-t">Action.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Like <a href="#val-add_action_exn"><code>add_action_exn</code></a>, but overrides old actions in the case of a conflict.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_command" class="anchored"><a href="#val-set_command" class="anchor"></a><code><span><span class="keyword">val</span> set_command : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Command/index.html#type-t">Command.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Like <a href="#val-set_action"><code>set_action</code></a>, but restricted to command actions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_disabled_key" class="anchored"><a href="#val-set_disabled_key" class="anchor"></a><code><span><span class="keyword">val</span> set_disabled_key : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keystroke/index.html#type-t">Keystroke.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Like <a href="#val-set_action"><code>set_action</code></a>, but restricted to disabled key actions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-merge" class="anchored"><a href="#val-merge" class="anchor"></a><code><span><span class="keyword">val</span> merge : <span>on_dup:<span>[ `Override_with_right <span>| `Both</span> <span>| `Throw</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>merge t1 t2 ~on_dup</code> creates new keyboard event handlers containing the actions from <code>t1</code> and <code>t2</code>. <code>on_dup</code> dictates how to deal with keys that have actions in both <code>t1</code> and <code>t2</code>:</p><ul><li><code>`Override_with_right</code> uses the action from <code>t2</code>.</li><li><code>`Both</code> uses both actions, and combines them into a single line if used with <code>get_help_text</code>. Note that if the actions belong to different groups in the help text, it will use the first group.</li><li><code>`Throw</code> raises.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-handle_event" class="anchored"><a href="#val-handle_event" class="anchor"></a><code><span><span class="keyword">val</span> handle_event : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Keyboard_event/index.html#type-t">Keyboard_event.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="../../Virtual_dom/Vdom/Effect/index.html#type-t">Virtual_dom.Vdom.Effect.t</a></span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-handle_or_ignore_event" class="anchored"><a href="#val-handle_or_ignore_event" class="anchor"></a><code><span><span class="keyword">val</span> handle_or_ignore_event : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Keyboard_event/index.html#type-t">Keyboard_event.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../Virtual_dom/Vdom/Effect/index.html#type-t">Virtual_dom.Vdom.Effect.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_help_text" class="anchored"><a href="#val-get_help_text" class="anchor"></a><code><span><span class="keyword">val</span> get_help_text : <span>?include_disabled_keys:unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Help_text/index.html#type-t">Help_text.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_grouped_help_text" class="anchored"><a href="#val-get_grouped_help_text" class="anchor"></a><code><span><span class="keyword">val</span> get_grouped_help_text : 
  <span>?include_disabled_keys:unit <span class="arrow">&#45;&gt;</span></span>
  <span>?custom_group_order:<span><a href="../Grouped_help_text/Group_name/index.html#type-t">Grouped_help_text.Group_name.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>default_group:<a href="../Grouped_help_text/Group_name/index.html#type-t">Grouped_help_text.Group_name.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Grouped_help_text/index.html#type-t">Grouped_help_text.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_grouped_help_text_exn" class="anchored"><a href="#val-get_grouped_help_text_exn" class="anchor"></a><code><span><span class="keyword">val</span> get_grouped_help_text_exn : 
  <span>?include_disabled_keys:unit <span class="arrow">&#45;&gt;</span></span>
  <span>?custom_group_order:<span><a href="../Grouped_help_text/Group_name/index.html#type-t">Grouped_help_text.Group_name.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Grouped_help_text/index.html#type-t">Grouped_help_text.t</a></span></code></div></div></div></body></html>