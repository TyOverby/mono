<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Variable_keyboard_event_handler (virtual_dom.Vdom_keyboard.Variable_keyboard_event_handler)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">virtual_dom</a> &#x00BB; <a href="../index.html">Vdom_keyboard</a> &#x00BB; Variable_keyboard_event_handler</nav><header class="odoc-preamble"><h1>Module <code><span>Vdom_keyboard.Variable_keyboard_event_handler</span></code></h1><p>A <code>Variable_keyboard_event_handler.t</code> provides a way of representing a keyboard event handler that contains both a (possibly empty) constant set of actions and a variable set of actions that depends on some <code>'env</code> variable. In order to handle keyboard events or produce help text, it must first be converted to a <code>Keyboard_event_handler.t</code> using the function <code>to_const_handler</code>.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Action" class="anchored"><a href="#module-Action" class="anchor"></a><code><span><span class="keyword">module</span> Action</span><span> = <a href="../Keyboard_event_handler/Action/index.html">Keyboard_event_handler.Action</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Command" class="anchored"><a href="#module-Command" class="anchor"></a><code><span><span class="keyword">module</span> Command</span><span> = <a href="../Keyboard_event_handler/Command/index.html">Keyboard_event_handler.Command</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'env t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><span>( <span><span class="type-var">'env</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-of_const_handler" class="anchored"><a href="#val-of_const_handler" class="anchor"></a><code><span><span class="keyword">val</span> of_const_handler : 
  <span>?variable_actions:<span>( <span><span class="type-var">'env</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keyboard_event_handler/Action/index.html#type-t">Action.t</a> list</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Keyboard_event_handler/index.html#type-t">Keyboard_event_handler.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_variable_actions" class="anchored"><a href="#val-add_variable_actions" class="anchor"></a><code><span><span class="keyword">val</span> add_variable_actions : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'env</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keyboard_event_handler/Action/index.html#type-t">Action.t</a> list</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>add_variable_actions</code>, <code>add_variable_commands</code>, and <code>add_variable_disabled_keys</code> add a new variable set of actions to a variable keyboard event handler. This does not replace any existing variable actions in the handler, but instead adds to them.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_variable_commands" class="anchored"><a href="#val-add_variable_commands" class="anchor"></a><code><span><span class="keyword">val</span> add_variable_commands : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'env</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keyboard_event_handler/Command/index.html#type-t">Command.t</a> list</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_variable_disabled_keys" class="anchored"><a href="#val-add_variable_disabled_keys" class="anchor"></a><code><span><span class="keyword">val</span> add_variable_disabled_keys : 
  <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'env</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keystroke/index.html#type-t">Keystroke.t</a> list</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_action_exn" class="anchored"><a href="#val-add_action_exn" class="anchor"></a><code><span><span class="keyword">val</span> add_action_exn : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keyboard_event_handler/Action/index.html#type-t">Action.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The <code>add_*_exn</code> and <code>set_*</code> functions below behave in the same was as the corresponding functions in <code>Keyboard_event_handler</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_command_exn" class="anchored"><a href="#val-add_command_exn" class="anchor"></a><code><span><span class="keyword">val</span> add_command_exn : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keyboard_event_handler/Command/index.html#type-t">Command.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_disabled_key_exn" class="anchored"><a href="#val-add_disabled_key_exn" class="anchor"></a><code><span><span class="keyword">val</span> add_disabled_key_exn : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keystroke/index.html#type-t">Keystroke.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_action" class="anchored"><a href="#val-set_action" class="anchor"></a><code><span><span class="keyword">val</span> set_action : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keyboard_event_handler/Action/index.html#type-t">Action.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_command" class="anchored"><a href="#val-set_command" class="anchor"></a><code><span><span class="keyword">val</span> set_command : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keyboard_event_handler/Command/index.html#type-t">Command.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_disabled_key" class="anchored"><a href="#val-set_disabled_key" class="anchor"></a><code><span><span class="keyword">val</span> set_disabled_key : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Keystroke/index.html#type-t">Keystroke.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_const_handler" class="anchored"><a href="#val-to_const_handler" class="anchor"></a><code><span><span class="keyword">val</span> to_const_handler : <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'env</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Keyboard_event_handler/index.html#type-t">Keyboard_event_handler.t</a></span></code></div><div class="spec-doc"><p><code>to_const_handler</code> evaluates the variable set of actions for the given <code>'env</code> value, and combines them with the constant set of actions to create a keyboard event handler.</p><p>It is possible that for a given <code>'env</code> value, multiple actions are defined for the same key. In that case, the latest variable action is used when creating the constant keyboard event handler.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Variable_handler_command" class="anchored"><a href="#module-Variable_handler_command" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Variable_handler_command/index.html">Variable_handler_command</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>Variable_handler_command</code> and <code>Variable_handler_action</code> provide a way of representing commands whose keys, description and group are constant, but whose handler varies with the <code>'env</code> variable.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Variable_handler_action" class="anchored"><a href="#module-Variable_handler_action" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Variable_handler_action/index.html">Variable_handler_action</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_variable_handler_action" class="anchored"><a href="#val-add_variable_handler_action" class="anchor"></a><code><span><span class="keyword">val</span> add_variable_handler_action : 
  <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'env</span> <a href="Variable_handler_action/index.html#type-t">Variable_handler_action.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>add_variable_handler_action</code> and <code>add_variable_handler_command</code> are utility functions for adding variable handler actions to an existing variable keyboard event handler. Under the hood, the variable handler action is converted to a variable action of the form <code>'env -&gt; Action.t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_variable_handler_command" class="anchored"><a href="#val-add_variable_handler_command" class="anchor"></a><code><span><span class="keyword">val</span> add_variable_handler_command : 
  <span><span><span class="type-var">'env</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'env</span> <a href="Variable_handler_command/index.html#type-t">Variable_handler_command.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'env</span> <a href="#type-t">t</a></span></span></code></div></div></div></body></html>