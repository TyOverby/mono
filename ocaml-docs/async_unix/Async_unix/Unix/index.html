<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Unix (async_unix.Async_unix.Unix)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">async_unix</a> &#x00BB; <a href="../index.html">Async_unix</a> &#x00BB; Unix</nav><header class="odoc-preamble"><h1>Module <code><span>Async_unix.Unix</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Fd" class="anchored"><a href="#module-Fd" class="anchor"></a><code><span><span class="keyword">module</span> Fd</span><span> = <a href="../Fd/index.html">Fd</a></span></code></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec module" id="module-Syscall_result" class="anchored"><a href="#module-Syscall_result" class="anchor"></a><code><span><span class="keyword">module</span> Syscall_result</span><span> = <a href="../../../core_unix/Core_unix/Syscall_result/index.html">Core_unix.Syscall_result</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Exit" class="anchored"><a href="#module-Exit" class="anchor"></a><code><span><span class="keyword">module</span> Exit</span><span> = <a href="../../../core_unix/Core_unix/Exit/index.html">Core_unix.Exit</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Exit_or_signal" class="anchored"><a href="#module-Exit_or_signal" class="anchor"></a><code><span><span class="keyword">module</span> Exit_or_signal</span><span> = <a href="../../../core_unix/Core_unix/Exit_or_signal/index.html">Core_unix.Exit_or_signal</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Exit_or_signal_or_stop" class="anchored"><a href="#module-Exit_or_signal_or_stop" class="anchor"></a><code><span><span class="keyword">module</span> Exit_or_signal_or_stop</span><span> = <a href="../../../core_unix/Core_unix/Exit_or_signal_or_stop/index.html">Core_unix.Exit_or_signal_or_stop</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-system" class="anchored"><a href="#val-system" class="anchor"></a><code><span><span class="keyword">val</span> system : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../core_unix/Core_unix/Exit_or_signal/index.html#type-t">Exit_or_signal.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-system_exn" class="anchored"><a href="#val-system_exn" class="anchor"></a><code><span><span class="keyword">val</span> system_exn : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getpid" class="anchored"><a href="#val-getpid" class="anchor"></a><code><span><span class="keyword">val</span> getpid : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getppid" class="anchored"><a href="#val-getppid" class="anchor"></a><code><span><span class="keyword">val</span> getppid : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getppid_exn" class="anchored"><a href="#val-getppid_exn" class="anchor"></a><code><span><span class="keyword">val</span> getppid_exn : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-this_process_became_child_of_init" class="anchored"><a href="#val-this_process_became_child_of_init" class="anchor"></a><code><span><span class="keyword">val</span> this_process_became_child_of_init : 
  <span>?poll_delay:<a href="../../../core_unix/Time_unix/Span/index.html#type-t">Time_unix.Span.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>this_process_became_child_of_init</code> returns a deferred that becomes determined when the current process becomes a child of <code>init(8)</code>. This is useful for determining whether one's parent has died, because in that case <code>init</code> will become one's parent.</p><p>See <code>Linux_ext.pr_set_pdeathsig : Signal.t -&gt; unit</code> for a related way to get information about parent death.</p><p><code>?poll_delay</code> controls how often to check.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nice" class="anchored"><a href="#val-nice" class="anchor"></a><code><span><span class="keyword">val</span> nice : <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cores" class="anchored"><a href="#val-cores" class="anchor"></a><code><span><span class="keyword">val</span> cores : <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span> )</span> <a href="../../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>cores ()</code> Returns the number of cores.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-open_flag" class="anchored"><a href="#type-open_flag" class="anchor"></a><code><span><span class="keyword">type</span> open_flag</span><span> = </span><span>[ </span></code><table><tr id="type-open_flag.Rdonly" class="anchored"><td class="def constructor"><a href="#type-open_flag.Rdonly" class="anchor"></a><code><span>| </span></code><code><span>`Rdonly</span></code></td></tr><tr id="type-open_flag.Wronly" class="anchored"><td class="def constructor"><a href="#type-open_flag.Wronly" class="anchor"></a><code><span>| </span></code><code><span>`Wronly</span></code></td></tr><tr id="type-open_flag.Rdwr" class="anchored"><td class="def constructor"><a href="#type-open_flag.Rdwr" class="anchor"></a><code><span>| </span></code><code><span>`Rdwr</span></code></td></tr><tr id="type-open_flag.Nonblock" class="anchored"><td class="def constructor"><a href="#type-open_flag.Nonblock" class="anchor"></a><code><span>| </span></code><code><span>`Nonblock</span></code></td></tr><tr id="type-open_flag.Append" class="anchored"><td class="def constructor"><a href="#type-open_flag.Append" class="anchor"></a><code><span>| </span></code><code><span>`Append</span></code></td></tr><tr id="type-open_flag.Creat" class="anchored"><td class="def constructor"><a href="#type-open_flag.Creat" class="anchor"></a><code><span>| </span></code><code><span>`Creat</span></code></td></tr><tr id="type-open_flag.Trunc" class="anchored"><td class="def constructor"><a href="#type-open_flag.Trunc" class="anchor"></a><code><span>| </span></code><code><span>`Trunc</span></code></td></tr><tr id="type-open_flag.Excl" class="anchored"><td class="def constructor"><a href="#type-open_flag.Excl" class="anchor"></a><code><span>| </span></code><code><span>`Excl</span></code></td></tr><tr id="type-open_flag.Noctty" class="anchored"><td class="def constructor"><a href="#type-open_flag.Noctty" class="anchor"></a><code><span>| </span></code><code><span>`Noctty</span></code></td></tr><tr id="type-open_flag.Dsync" class="anchored"><td class="def constructor"><a href="#type-open_flag.Dsync" class="anchor"></a><code><span>| </span></code><code><span>`Dsync</span></code></td></tr><tr id="type-open_flag.Sync" class="anchored"><td class="def constructor"><a href="#type-open_flag.Sync" class="anchor"></a><code><span>| </span></code><code><span>`Sync</span></code></td></tr><tr id="type-open_flag.Rsync" class="anchored"><td class="def constructor"><a href="#type-open_flag.Rsync" class="anchor"></a><code><span>| </span></code><code><span>`Rsync</span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-file_perm" class="anchored"><a href="#type-file_perm" class="anchor"></a><code><span><span class="keyword">type</span> file_perm</span><span> = int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-openfile" class="anchored"><a href="#val-openfile" class="anchor"></a><code><span><span class="keyword">val</span> openfile : 
  <span>?info:<a href="../../../core/Core/Info/index.html#type-t">Core.Info.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-open_flag">open_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Fd/index.html#type-t">Fd.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Lock_mode" class="anchored"><a href="#module-Lock_mode" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Lock_mode/index.html">Lock_mode</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Lock_mechanism" class="anchored"><a href="#module-Lock_mechanism" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Lock_mechanism/index.html">Lock_mechanism</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Lock" class="anchored"><a href="#module-Lock" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Lock/index.html">Lock</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-with_file" class="anchored"><a href="#val-with_file" class="anchor"></a><code><span><span class="keyword">val</span> with_file : 
  <span>?lock:<a href="Lock/index.html#type-t">Lock.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-open_flag">open_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>with_file file ~mode ~perm ~f</code> opens <code>file</code>, and applies <code>f</code> to the resulting file descriptor. When the result of <code>f</code> becomes determined, it closes the descriptor and returns the result of <code>f</code>.</p><p>If <code>lock</code> is supplied, then the file descriptor is locked before calling <code>f</code> with the specified <code>lock_mechanism</code>. Note that it is not unlocked before close, which might be significant if this file descriptor is held elsewhere (e.g., by fork() or dup()).</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Open_flags" class="anchored"><a href="#module-Open_flags" class="anchor"></a><code><span><span class="keyword">module</span> Open_flags</span><span> = <a href="../../../core_unix/Core_unix/Open_flags/index.html">Core_unix.Open_flags</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fcntl_getfl" class="anchored"><a href="#val-fcntl_getfl" class="anchor"></a><code><span><span class="keyword">val</span> fcntl_getfl : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../core_unix/Core_unix/Open_flags/index.html#type-t">Open_flags.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>fcntl_getfl</code> and <code>fcntl_setf</code> are deferred wrappers around the corresponding functions in <code>Core_unix</code> for accessing the open-file-descriptor table.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fcntl_setfl" class="anchored"><a href="#val-fcntl_setfl" class="anchor"></a><code><span><span class="keyword">val</span> fcntl_setfl : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../core_unix/Core_unix/Open_flags/index.html#type-t">Open_flags.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../Fd/Close/index.html">Fd.Close</a></span></code></summary><p>The <code>Close</code> module exists to collect <code>close</code> and its associated types, so they can be easily reused elsewhere, e.g., <code>Unix_syscalls</code>.</p><div class="odoc-spec"><div class="spec type" id="type-socket_handling" class="anchored"><a href="#type-socket_handling" class="anchor"></a><code><span><span class="keyword">type</span> socket_handling</span><span> = </span></code><table><tr id="type-socket_handling.Shutdown_socket" class="anchored"><td class="def variant constructor"><a href="#type-socket_handling.Shutdown_socket" class="anchor"></a><code><span>| </span><span><span class="constructor">Shutdown_socket</span></span></code></td></tr><tr id="type-socket_handling.Do_not_shutdown_socket" class="anchored"><td class="def variant constructor"><a href="#type-socket_handling.Do_not_shutdown_socket" class="anchor"></a><code><span>| </span><span><span class="constructor">Do_not_shutdown_socket</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-file_descriptor_handling" class="anchored"><a href="#type-file_descriptor_handling" class="anchor"></a><code><span><span class="keyword">type</span> file_descriptor_handling</span><span> = </span></code><table><tr id="type-file_descriptor_handling.Close_file_descriptor" class="anchored"><td class="def variant constructor"><a href="#type-file_descriptor_handling.Close_file_descriptor" class="anchor"></a><code><span>| </span><span><span class="constructor">Close_file_descriptor</span> <span class="keyword">of</span> <a href="#type-socket_handling">socket_handling</a></span></code></td></tr><tr id="type-file_descriptor_handling.Do_not_close_file_descriptor" class="anchored"><td class="def variant constructor"><a href="#type-file_descriptor_handling.Do_not_close_file_descriptor" class="anchor"></a><code><span>| </span><span><span class="constructor">Do_not_close_file_descriptor</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-close" class="anchored"><a href="#val-close" class="anchor"></a><code><span><span class="keyword">val</span> close : 
  <span>?file_descriptor_handling:<a href="#type-file_descriptor_handling">file_descriptor_handling</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Async_unix__Fd.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>close t</code> prevents further use of <code>t</code>, and makes <code>shutdown()</code> and <code>close()</code> system calls on <code>t</code>'s underlying file descriptor according to the <code>file_descriptor_handling</code> argument and whether or not <code>t</code> is a socket, i.e., <code>kind
      t = Socket `Active</code>:</p><pre>        | file_descriptor_handling                     | shutdown() | close() |
        |----------------------------------------------+------------+---------|
        | Do_not_close_file_descriptor                 | no         | no      |
        | Close_file_descriptor Shutdown_socket        | if socket  | yes     |
        | Close_file_descriptor Do_not_shutdown_socket | no         | yes     |</pre><p>The result of <code>close</code> becomes determined once the system calls complete. It is OK to call <code>close</code> multiple times on the same <code>t</code>; calls subsequent to the initial call will have no effect, but will return the same deferred as the original call.</p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-lseek" class="anchored"><a href="#val-lseek" class="anchor"></a><code><span><span class="keyword">val</span> lseek : 
  <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int64 <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span>[&lt; `Set <span>| `Cur</span> <span>| `End</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>int64 <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-truncate" class="anchored"><a href="#val-truncate" class="anchor"></a><code><span><span class="keyword">val</span> truncate : <span>string <span class="arrow">&#45;&gt;</span></span> <span>len:int64 <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ftruncate" class="anchored"><a href="#val-ftruncate" class="anchor"></a><code><span><span class="keyword">val</span> ftruncate : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>len:int64 <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fsync" class="anchored"><a href="#val-fsync" class="anchor"></a><code><span><span class="keyword">val</span> fsync : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fdatasync" class="anchored"><a href="#val-fdatasync" class="anchor"></a><code><span><span class="keyword">val</span> fdatasync : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sync" class="anchored"><a href="#val-sync" class="anchor"></a><code><span><span class="keyword">val</span> sync : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lockf" class="anchored"><a href="#val-lockf" class="anchor"></a><code><span><span class="keyword">val</span> lockf : 
  <span>?len:<a href="../../../core/Core/Int64/index.html#type-t">Core.Int64.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Lock_mode/index.html#type-t">Lock_mode.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>lockf fd lock_mode ?len</code> locks the section of the open file <code>fd</code> specified by the current file position and <code>len</code> (see man lockf). It returns when the lock has been acquired. It raises if <code>fd</code> is closed.</p><p>Warning: <code>lockf</code> locks are held per-process, so taking the lock on the same file multiple times in the same process is going to break in terrible ways.</p><p>Note that, despite the name, this function does not call the UNIX lockf() system call; rather it calls fcntl() with F_SETLKW</p></div></div><div class="odoc-spec"><div class="spec value" id="val-try_lockf" class="anchored"><a href="#val-try_lockf" class="anchor"></a><code><span><span class="keyword">val</span> try_lockf : <span>?len:<a href="../../../core/Core/Int64/index.html#type-t">Core.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Lock_mode/index.html#type-t">Lock_mode.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>try_lockf fd lock_mode ?len</code> attempts to lock the section of the open file <code>fd</code> specified by the current file position and <code>len</code> (see man lockf). It returns <code>true</code> if it acquired the lock. It raises if <code>fd</code> is closed.</p><p>Note that, despite the name, this function does not call the UNIX lockf() system call; rather it calls fcntl() with F_SETLK</p></div></div><div class="odoc-spec"><div class="spec value" id="val-test_lockf" class="anchored"><a href="#val-test_lockf" class="anchor"></a><code><span><span class="keyword">val</span> test_lockf : <span>?len:<a href="../../../core/Core/Int64/index.html#type-t">Core.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>test_lockf fd ?len</code> checks the lock on section of the open file <code>fd</code> specified by the current file position and <code>len</code>. If the section is unlocked or locked by this process, it returns true, else it returns false. It raises if <code>fd</code> is closed.</p><p>Note that, despite the name, this function does not call the UNIX lockf() system call; rather it calls fcntl() with F_GETLK</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unlockf" class="anchored"><a href="#val-unlockf" class="anchor"></a><code><span><span class="keyword">val</span> unlockf : <span>?len:<a href="../../../core/Core/Int64/index.html#type-t">Core.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>unlockf fd ?len</code> unlocks the section of the open file <code>fd</code> specified by the current file position and <code>len</code>. It raises if <code>fd</code> is closed.</p><p>Note that, despite the name, this function does not call the UNIX lockf() system call; rather it calls fcntl() with F_UNLCK</p></div></div><div class="odoc-spec"><div class="spec value" id="val-flock" class="anchored"><a href="#val-flock" class="anchor"></a><code><span><span class="keyword">val</span> flock : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Lock_mode/index.html#type-t">Lock_mode.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>flock fd lock_mode</code> locks the open file <code>fd</code> (see man 2 flock). It returns when the lock has been acquired. It raises if <code>fd</code> is closed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-try_flock" class="anchored"><a href="#val-try_flock" class="anchor"></a><code><span><span class="keyword">val</span> try_flock : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Lock_mode/index.html#type-t">Lock_mode.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>try_flock fd lock_mode</code> attempts to lock the open file <code>fd</code> (see man 2 flock). It returns <code>true</code> if it acquired the lock or <code>false</code> if a conflicting lock was already present. It raises if <code>fd</code> is closed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-funlock" class="anchored"><a href="#val-funlock" class="anchor"></a><code><span><span class="keyword">val</span> funlock : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>funlock fd</code> unlocks the open file <code>fd</code> (see <code>man 2 flock</code>). It raises if <code>fd</code> is closed.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-File_kind" class="anchored"><a href="#module-File_kind" class="anchor"></a><code><span><span class="keyword">module</span> <a href="File_kind/index.html">File_kind</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Stats" class="anchored"><a href="#module-Stats" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stats/index.html">Stats</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fstat" class="anchored"><a href="#val-fstat" class="anchor"></a><code><span><span class="keyword">val</span> fstat : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Stats/index.html#type-t">Stats.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-stat" class="anchored"><a href="#val-stat" class="anchor"></a><code><span><span class="keyword">val</span> stat : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="Stats/index.html#type-t">Stats.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lstat" class="anchored"><a href="#val-lstat" class="anchor"></a><code><span><span class="keyword">val</span> lstat : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="Stats/index.html#type-t">Stats.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-isatty" class="anchored"><a href="#val-isatty" class="anchor"></a><code><span><span class="keyword">val</span> isatty : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unlink" class="anchored"><a href="#val-unlink" class="anchor"></a><code><span><span class="keyword">val</span> unlink : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span><span class="keyword">val</span> remove : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rename" class="anchored"><a href="#val-rename" class="anchor"></a><code><span><span class="keyword">val</span> rename : <span>src:string <span class="arrow">&#45;&gt;</span></span> <span>dst:string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-link" class="anchored"><a href="#val-link" class="anchor"></a><code><span><span class="keyword">val</span> link : 
  <span>?force:bool <span class="arrow">&#45;&gt;</span></span>
  <span>target:string <span class="arrow">&#45;&gt;</span></span>
  <span>link_name:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-chmod" class="anchored"><a href="#val-chmod" class="anchor"></a><code><span><span class="keyword">val</span> chmod : <span>string <span class="arrow">&#45;&gt;</span></span> <span>perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fchmod" class="anchored"><a href="#val-fchmod" class="anchor"></a><code><span><span class="keyword">val</span> fchmod : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-chown" class="anchored"><a href="#val-chown" class="anchor"></a><code><span><span class="keyword">val</span> chown : <span>string <span class="arrow">&#45;&gt;</span></span> <span>uid:int <span class="arrow">&#45;&gt;</span></span> <span>gid:int <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fchown" class="anchored"><a href="#val-fchown" class="anchor"></a><code><span><span class="keyword">val</span> fchown : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>uid:int <span class="arrow">&#45;&gt;</span></span> <span>gid:int <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-access" class="anchored"><a href="#val-access" class="anchor"></a><code><span><span class="keyword">val</span> access : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>[ `Read <span>| `Write</span> <span>| `Exec</span> <span>| `Exists</span> ]</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( unit, exn )</span> <a href="../../../core/Core/Result/index.html#type-t">Core.Result.t</a></span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-access_exn" class="anchored"><a href="#val-access_exn" class="anchor"></a><code><span><span class="keyword">val</span> access_exn : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>[ `Read <span>| `Write</span> <span>| `Exec</span> <span>| `Exists</span> ]</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_close_on_exec" class="anchored"><a href="#val-set_close_on_exec" class="anchor"></a><code><span><span class="keyword">val</span> set_close_on_exec : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-clear_close_on_exec" class="anchored"><a href="#val-clear_close_on_exec" class="anchor"></a><code><span><span class="keyword">val</span> clear_close_on_exec : <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mkdir" class="anchored"><a href="#val-mkdir" class="anchor"></a><code><span><span class="keyword">val</span> mkdir : 
  <span>?p:unit <span class="arrow">&#45;&gt;</span></span>
  <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rmdir" class="anchored"><a href="#val-rmdir" class="anchor"></a><code><span><span class="keyword">val</span> rmdir : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-chdir" class="anchored"><a href="#val-chdir" class="anchor"></a><code><span><span class="keyword">val</span> chdir : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getcwd" class="anchored"><a href="#val-getcwd" class="anchor"></a><code><span><span class="keyword">val</span> getcwd : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-chroot" class="anchored"><a href="#val-chroot" class="anchor"></a><code><span><span class="keyword">val</span> chroot : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-dir_handle" class="anchored"><a href="#type-dir_handle" class="anchor"></a><code><span><span class="keyword">type</span> dir_handle</span><span> = <a href="../../../core_unix/Core_unix/index.html#type-dir_handle">Core_unix.dir_handle</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-opendir" class="anchored"><a href="#val-opendir" class="anchor"></a><code><span><span class="keyword">val</span> opendir : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-dir_handle">dir_handle</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-readdir_opt" class="anchored"><a href="#val-readdir_opt" class="anchor"></a><code><span><span class="keyword">val</span> readdir_opt : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string option</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>readdir_opt dir_handle</code> returns the next directory member, or <code>None</code> when there are no more directory members to return.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rewinddir" class="anchored"><a href="#val-rewinddir" class="anchor"></a><code><span><span class="keyword">val</span> rewinddir : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-closedir" class="anchored"><a href="#val-closedir" class="anchor"></a><code><span><span class="keyword">val</span> closedir : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pipe" class="anchored"><a href="#val-pipe" class="anchor"></a><code><span><span class="keyword">val</span> pipe : 
  <span><a href="../../../core/Core/Info/index.html#type-t">Core.Info.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>[ <span>`Reader of <a href="../Fd/index.html#type-t">Fd.t</a></span> ]</span> * <span>[ <span>`Writer of <a href="../Fd/index.html#type-t">Fd.t</a></span> ]</span>)</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p>The <code>info</code> supplied to pipe is debugging information that will be included in the returned <code>Fd</code>s.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mkfifo" class="anchored"><a href="#val-mkfifo" class="anchor"></a><code><span><span class="keyword">val</span> mkfifo : <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p>Create a named pipe with the given permissions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-symlink" class="anchored"><a href="#val-symlink" class="anchor"></a><code><span><span class="keyword">val</span> symlink : <span>target:string <span class="arrow">&#45;&gt;</span></span> <span>link_name:string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-readlink" class="anchored"><a href="#val-readlink" class="anchor"></a><code><span><span class="keyword">val</span> readlink : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mkstemp" class="anchored"><a href="#val-mkstemp" class="anchor"></a><code><span><span class="keyword">val</span> mkstemp : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <a href="../Fd/index.html#type-t">Fd.t</a>)</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>mkstemp prefix</code> creates and opens a unique temporary file with <code>prefix</code>, automatically appending a suffix of six random characters to make the name unique. Unlike C's <code>mkstemp</code>, <code>prefix</code> should not include six X's at the end.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>on errors.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-mkdtemp" class="anchored"><a href="#val-mkdtemp" class="anchor"></a><code><span><span class="keyword">val</span> mkdtemp : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getgrouplist" class="anchored"><a href="#val-getgrouplist" class="anchor"></a><code><span><span class="keyword">val</span> getgrouplist : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-process_times" class="anchored"><a href="#type-process_times" class="anchor"></a><code><span><span class="keyword">type</span> process_times</span><span> = <a href="../../../core_unix/Core_unix/index.html#type-process_times">Core_unix.process_times</a></span><span> = </span><span>{</span></code><table><tr id="type-process_times.tms_utime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_utime" class="anchor"></a><code><span>tms_utime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>User time for the process</p><span class="comment-delim">*)</span></td></tr><tr id="type-process_times.tms_stime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_stime" class="anchor"></a><code><span>tms_stime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>System time for the process</p><span class="comment-delim">*)</span></td></tr><tr id="type-process_times.tms_cutime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_cutime" class="anchor"></a><code><span>tms_cutime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>User time for the children processes</p><span class="comment-delim">*)</span></td></tr><tr id="type-process_times.tms_cstime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_cstime" class="anchor"></a><code><span>tms_cstime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>System time for the children processes</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Time functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-times" class="anchored"><a href="#val-times" class="anchor"></a><code><span><span class="keyword">val</span> times : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-process_times">process_times</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-tm" class="anchored"><a href="#type-tm" class="anchor"></a><code><span><span class="keyword">type</span> tm</span><span> = <a href="../../../core_unix/Core_unix/index.html#type-tm">Core_unix.tm</a></span><span> = </span><span>{</span></code><table><tr id="type-tm.tm_sec" class="anchored"><td class="def record field"><a href="#type-tm.tm_sec" class="anchor"></a><code><span>tm_sec : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Seconds 0..59</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_min" class="anchored"><td class="def record field"><a href="#type-tm.tm_min" class="anchor"></a><code><span>tm_min : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Minutes 0..59</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_hour" class="anchored"><td class="def record field"><a href="#type-tm.tm_hour" class="anchor"></a><code><span>tm_hour : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Hours 0..23</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_mday" class="anchored"><td class="def record field"><a href="#type-tm.tm_mday" class="anchor"></a><code><span>tm_mday : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Day of month 1..31</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_mon" class="anchored"><td class="def record field"><a href="#type-tm.tm_mon" class="anchor"></a><code><span>tm_mon : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Month of year 0..11</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_year" class="anchored"><td class="def record field"><a href="#type-tm.tm_year" class="anchor"></a><code><span>tm_year : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Year - 1900</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_wday" class="anchored"><td class="def record field"><a href="#type-tm.tm_wday" class="anchor"></a><code><span>tm_wday : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Day of week (Sunday is 0)</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_yday" class="anchored"><td class="def record field"><a href="#type-tm.tm_yday" class="anchor"></a><code><span>tm_yday : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Day of year 0..365</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_isdst" class="anchored"><td class="def record field"><a href="#type-tm.tm_isdst" class="anchor"></a><code><span>tm_isdst : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Daylight time savings in effect</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-time" class="anchored"><a href="#val-time" class="anchor"></a><code><span><span class="keyword">val</span> time : <span>unit <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-gettimeofday" class="anchored"><a href="#val-gettimeofday" class="anchor"></a><code><span><span class="keyword">val</span> gettimeofday : <span>unit <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-gmtime" class="anchored"><a href="#val-gmtime" class="anchor"></a><code><span><span class="keyword">val</span> gmtime : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-tm">tm</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-localtime" class="anchored"><a href="#val-localtime" class="anchor"></a><code><span><span class="keyword">val</span> localtime : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-tm">tm</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mktime" class="anchored"><a href="#val-mktime" class="anchor"></a><code><span><span class="keyword">val</span> mktime : <span><a href="#type-tm">tm</a> <span class="arrow">&#45;&gt;</span></span> float * <a href="#type-tm">tm</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-utimes" class="anchored"><a href="#val-utimes" class="anchor"></a><code><span><span class="keyword">val</span> utimes : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>access:float <span class="arrow">&#45;&gt;</span></span>
  <span>modif:float <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-env" class="anchored"><a href="#type-env" class="anchor"></a><code><span><span class="keyword">type</span> env</span><span> = <a href="../../../core_unix/Core_unix/index.html#type-env">Core_unix.env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_env" class="anchored"><a href="#val-sexp_of_env" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_env : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-env_of_sexp" class="anchored"><a href="#val-env_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> env_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-environment" class="anchored"><a href="#val-environment" class="anchor"></a><code><span><span class="keyword">val</span> environment : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getenv" class="anchored"><a href="#val-getenv" class="anchor"></a><code><span><span class="keyword">val</span> getenv : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getenv_exn" class="anchored"><a href="#val-getenv_exn" class="anchor"></a><code><span><span class="keyword">val</span> getenv_exn : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_getenv" class="anchored"><a href="#val-unsafe_getenv" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_getenv : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_getenv_exn" class="anchored"><a href="#val-unsafe_getenv_exn" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_getenv_exn : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-putenv" class="anchored"><a href="#val-putenv" class="anchor"></a><code><span><span class="keyword">val</span> putenv : <span>key:string <span class="arrow">&#45;&gt;</span></span> <span>data:string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsetenv" class="anchored"><a href="#val-unsetenv" class="anchor"></a><code><span><span class="keyword">val</span> unsetenv : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fork_exec" class="anchored"><a href="#val-fork_exec" class="anchor"></a><code><span><span class="keyword">val</span> fork_exec : 
  <span>prog:string <span class="arrow">&#45;&gt;</span></span>
  <span>argv:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?use_path:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?env:<span>[ <a href="#type-env">env</a> <span><span>| `Replace_raw</span> of <span>string list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>fork_exec ~prog ~argv ?path ?env</code> forks and execs <code>prog</code> with <code>argv</code>, and returns the child pid. If <code>use_path = true</code> (the default) and <code>prog</code> doesn't contain a slash, then <code>fork_exec</code> searches the PATH environment variable for <code>prog</code>. If <code>env</code> is supplied, it specifies the environment when <code>prog</code> is executed.</p><p>If <code>env</code> contains multiple bindings for the same variable, the last takes precedence. In the case of <code>`Extend</code>, bindings in <code>env</code> take precedence over the existing environment. See <code>Unix</code>.exec.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-wait_on" class="anchored"><a href="#type-wait_on" class="anchor"></a><code><span><span class="keyword">type</span> wait_on</span><span> = </span><span>[ </span></code><table><tr id="type-wait_on.Any" class="anchored"><td class="def constructor"><a href="#type-wait_on.Any" class="anchor"></a><code><span>| </span></code><code><span>`Any</span></code></td></tr><tr id="type-wait_on.Group" class="anchored"><td class="def constructor"><a href="#type-wait_on.Group" class="anchor"></a><code><span>| </span></code><code><span>`Group <span class="keyword">of</span> <a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></td></tr><tr id="type-wait_on.My_group" class="anchored"><td class="def constructor"><a href="#type-wait_on.My_group" class="anchor"></a><code><span>| </span></code><code><span>`My_group</span></code></td></tr><tr id="type-wait_on.Pid" class="anchored"><td class="def constructor"><a href="#type-wait_on.Pid" class="anchor"></a><code><span>| </span></code><code><span>`Pid <span class="keyword">of</span> <a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_wait_on" class="anchored"><a href="#val-sexp_of_wait_on" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_wait_on : <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_on_of_sexp" class="anchored"><a href="#val-wait_on_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> wait_on_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-wait_on">wait_on</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__wait_on_of_sexp__" class="anchored"><a href="#val-__wait_on_of_sexp__" class="anchor"></a><code><span><span class="keyword">val</span> __wait_on_of_sexp__ : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-wait_on">wait_on</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait" class="anchored"><a href="#val-wait" class="anchor"></a><code><span><span class="keyword">val</span> wait : <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="../../../core_unix/Core_unix/Exit_or_signal/index.html#type-t">Exit_or_signal.t</a>)</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_nohang" class="anchored"><a href="#val-wait_nohang" class="anchor"></a><code><span><span class="keyword">val</span> wait_nohang : <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="../../../core_unix/Core_unix/Exit_or_signal/index.html#type-t">Exit_or_signal.t</a>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_untraced" class="anchored"><a href="#val-wait_untraced" class="anchor"></a><code><span><span class="keyword">val</span> wait_untraced : 
  <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="../../../core_unix/Core_unix/Exit_or_signal_or_stop/index.html#type-t">Exit_or_signal_or_stop.t</a>)</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_nohang_untraced" class="anchored"><a href="#val-wait_nohang_untraced" class="anchor"></a><code><span><span class="keyword">val</span> wait_nohang_untraced : 
  <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="../../../core_unix/Core_unix/Exit_or_signal_or_stop/index.html#type-t">Exit_or_signal_or_stop.t</a>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-waitpid" class="anchored"><a href="#val-waitpid" class="anchor"></a><code><span><span class="keyword">val</span> waitpid : <span><a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../core_unix/Core_unix/Exit_or_signal/index.html#type-t">Exit_or_signal.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p><code>waitpid pid</code> returns a deferred that becomes determined with the child's exit status, when the child process with process id <code>pid</code> exits. <code>waitpid_exn</code> is like <code>waitpid</code>, except the result only becomes determined if the child exits with status zero; it raises if the child terminates in any other way.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-waitpid_prompt" class="anchored"><a href="#val-waitpid_prompt" class="anchor"></a><code><span><span class="keyword">val</span> waitpid_prompt : <span><a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../core_unix/Core_unix/Exit_or_signal/index.html#type-t">Exit_or_signal.t</a> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-waitpid"><code>waitpid</code></a>, but guarantees that the resulting <code>Deferred</code> is determined in the same async job as the <code>wait</code> system call, so that it's safe to keep using the <code>pid</code> if the deferred is not determined.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-waitpid_exn" class="anchored"><a href="#val-waitpid_exn" class="anchor"></a><code><span><span class="keyword">val</span> waitpid_exn : <span><a href="../../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Inet_addr" class="anchored"><a href="#module-Inet_addr" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Inet_addr/index.html">Inet_addr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Cidr" class="anchored"><a href="#module-Cidr" class="anchor"></a><code><span><span class="keyword">module</span> Cidr</span><span> = <a href="../../../core_unix/Core_unix/Cidr/index.html">Core_unix.Cidr</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Protocol_family" class="anchored"><a href="#module-Protocol_family" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Protocol_family/index.html">Protocol_family</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socketpair" class="anchored"><a href="#val-socketpair" class="anchor"></a><code><span><span class="keyword">val</span> socketpair : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../Fd/index.html#type-t">Fd.t</a> * <a href="../Fd/index.html#type-t">Fd.t</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Socket" class="anchored"><a href="#module-Socket" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Socket/index.html">Socket</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bind_to_interface_exn" class="anchored"><a href="#val-bind_to_interface_exn" class="anchor"></a><code><span><span class="keyword">val</span> bind_to_interface_exn : 
  <span><span>( <span><a href="../Fd/index.html#type-t">Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../core_unix/Linux_ext/Bound_to_interface/index.html#type-t">Linux_ext.Bound_to_interface.t</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <a href="../../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Host" class="anchored"><a href="#module-Host" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Host/index.html">Host</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-socket_domain" class="anchored"><a href="#type-socket_domain" class="anchor"></a><code><span><span class="keyword">type</span> socket_domain</span><span> = <a href="../../../core_unix/Core_unix/index.html#type-socket_domain">Core_unix.socket_domain</a></span><span> = </span></code><table><tr id="type-socket_domain.PF_UNIX" class="anchored"><td class="def variant constructor"><a href="#type-socket_domain.PF_UNIX" class="anchor"></a><code><span>| </span><span><span class="constructor">PF_UNIX</span></span></code></td></tr><tr id="type-socket_domain.PF_INET" class="anchored"><td class="def variant constructor"><a href="#type-socket_domain.PF_INET" class="anchor"></a><code><span>| </span><span><span class="constructor">PF_INET</span></span></code></td></tr><tr id="type-socket_domain.PF_INET6" class="anchored"><td class="def variant constructor"><a href="#type-socket_domain.PF_INET6" class="anchor"></a><code><span>| </span><span><span class="constructor">PF_INET6</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_socket_domain" class="anchored"><a href="#val-bin_shape_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_socket_domain : <a href="../../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_socket_domain" class="anchored"><a href="#val-bin_size_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_socket_domain" class="anchored"><a href="#val-bin_write_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_socket_domain" class="anchored"><a href="#val-bin_writer_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_socket_domain" class="anchored"><a href="#val-bin_read_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_socket_domain__" class="anchored"><a href="#val-__bin_read_socket_domain__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_socket_domain__ : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_domain">socket_domain</a> )</span> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_socket_domain" class="anchored"><a href="#val-bin_reader_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_socket_domain" class="anchored"><a href="#val-bin_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_socket_domain" class="anchored"><a href="#val-compare_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> compare_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_fold_socket_domain" class="anchored"><a href="#val-hash_fold_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> hash_fold_socket_domain : 
  <span><a href="../../../base/Base/Hash/index.html#type-state">Base.Hash.state</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/Hash/index.html#type-state">Base.Hash.state</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_socket_domain" class="anchored"><a href="#val-hash_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> hash_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Hash/index.html#type-hash_value">Base.Hash.hash_value</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_socket_domain" class="anchored"><a href="#val-sexp_of_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socket_domain_of_sexp" class="anchored"><a href="#val-socket_domain_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> socket_domain_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_domain">socket_domain</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-socket_type" class="anchored"><a href="#type-socket_type" class="anchor"></a><code><span><span class="keyword">type</span> socket_type</span><span> = <a href="../../../core_unix/Core_unix/index.html#type-socket_type">Core_unix.socket_type</a></span><span> = </span></code><table><tr id="type-socket_type.SOCK_STREAM" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_STREAM" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_STREAM</span></span></code></td></tr><tr id="type-socket_type.SOCK_DGRAM" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_DGRAM" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_DGRAM</span></span></code></td></tr><tr id="type-socket_type.SOCK_RAW" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_RAW" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_RAW</span></span></code></td></tr><tr id="type-socket_type.SOCK_SEQPACKET" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_SEQPACKET" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_SEQPACKET</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_socket_type" class="anchored"><a href="#val-bin_shape_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_socket_type : <a href="../../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_socket_type" class="anchored"><a href="#val-bin_size_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_socket_type" class="anchored"><a href="#val-bin_write_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_socket_type" class="anchored"><a href="#val-bin_writer_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_socket_type" class="anchored"><a href="#val-bin_read_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_socket_type__" class="anchored"><a href="#val-__bin_read_socket_type__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_socket_type__ : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_type">socket_type</a> )</span> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_socket_type" class="anchored"><a href="#val-bin_reader_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_socket_type" class="anchored"><a href="#val-bin_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_socket_type" class="anchored"><a href="#val-compare_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> compare_socket_type : <span><a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_fold_socket_type" class="anchored"><a href="#val-hash_fold_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> hash_fold_socket_type : <span><a href="../../../base/Base/Hash/index.html#type-state">Base.Hash.state</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Hash/index.html#type-state">Base.Hash.state</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_socket_type" class="anchored"><a href="#val-hash_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> hash_socket_type : <span><a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Hash/index.html#type-hash_value">Base.Hash.hash_value</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_socket_type" class="anchored"><a href="#val-sexp_of_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_socket_type : <span><a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socket_type_of_sexp" class="anchored"><a href="#val-socket_type_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> socket_type_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_type">socket_type</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-sockaddr" class="anchored"><a href="#type-sockaddr" class="anchor"></a><code><span><span class="keyword">type</span> sockaddr</span><span> = <a href="../../../core_unix/Core_unix/index.html#type-sockaddr">Core_unix.sockaddr</a></span><span> = </span></code><table><tr id="type-sockaddr.ADDR_UNIX" class="anchored"><td class="def variant constructor"><a href="#type-sockaddr.ADDR_UNIX" class="anchor"></a><code><span>| </span><span><span class="constructor">ADDR_UNIX</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-sockaddr.ADDR_INET" class="anchored"><td class="def variant constructor"><a href="#type-sockaddr.ADDR_INET" class="anchor"></a><code><span>| </span><span><span class="constructor">ADDR_INET</span> <span class="keyword">of</span> <a href="Inet_addr/index.html#type-t">Inet_addr.t</a> * int</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_sockaddr" class="anchored"><a href="#val-bin_shape_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_sockaddr : <a href="../../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_sockaddr" class="anchored"><a href="#val-bin_size_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_sockaddr" class="anchored"><a href="#val-bin_write_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_sockaddr" class="anchored"><a href="#val-bin_writer_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_sockaddr" class="anchored"><a href="#val-bin_read_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_sockaddr__" class="anchored"><a href="#val-__bin_read_sockaddr__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_sockaddr__ : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr">sockaddr</a> )</span> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_sockaddr" class="anchored"><a href="#val-bin_reader_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_sockaddr" class="anchored"><a href="#val-bin_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_sockaddr" class="anchored"><a href="#val-compare_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> compare_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_sockaddr" class="anchored"><a href="#val-sexp_of_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-sockaddr_blocking_sexp" class="anchored"><a href="#type-sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">type</span> sockaddr_blocking_sexp</span><span> = <a href="#type-sockaddr">sockaddr</a></span></code></div><div class="spec-doc"><p><code>sockaddr_blocking_sexp</code> is like <code>sockaddr</code>, with <code>of_sexp</code> that performs DNS lookup to resolve <code>Inet_addr.t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_shape_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_sockaddr_blocking_sexp : <a href="../../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_size_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_write_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_writer_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_read_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_sockaddr_blocking_sexp__" class="anchored"><a href="#val-__bin_read_sockaddr_blocking_sexp__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_sockaddr_blocking_sexp__ : 
  <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> )</span> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_reader_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_sockaddr_blocking_sexp : <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_sockaddr_blocking_sexp" class="anchored"><a href="#val-sexp_of_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_sockaddr_blocking_sexp : <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sockaddr_blocking_sexp_of_sexp" class="anchored"><a href="#val-sockaddr_blocking_sexp_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> sockaddr_blocking_sexp_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Addr_info" class="anchored"><a href="#module-Addr_info" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Addr_info/index.html">Addr_info</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Name_info" class="anchored"><a href="#module-Name_info" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Name_info/index.html">Name_info</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>The following functions correspond to the system calls of the same names. They can't block so they don't need to return a deferred.</p><div class="odoc-spec"><div class="spec value" id="val-gethostname" class="anchored"><a href="#val-gethostname" class="anchor"></a><code><span><span class="keyword">val</span> gethostname : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getuid" class="anchored"><a href="#val-getuid" class="anchor"></a><code><span><span class="keyword">val</span> getuid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-geteuid" class="anchored"><a href="#val-geteuid" class="anchor"></a><code><span><span class="keyword">val</span> geteuid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getgid" class="anchored"><a href="#val-getgid" class="anchor"></a><code><span><span class="keyword">val</span> getgid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getegid" class="anchored"><a href="#val-getegid" class="anchor"></a><code><span><span class="keyword">val</span> getegid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-setuid" class="anchored"><a href="#val-setuid" class="anchor"></a><code><span><span class="keyword">val</span> setuid : <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Error" class="anchored"><a href="#module-Error" class="anchor"></a><code><span><span class="keyword">module</span> Error</span><span> = <a href="../../../core_unix/Core_unix/Error/index.html">Core_unix.Error</a></span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Unix_error" class="anchored"><a href="#exception-Unix_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Unix_error</span> <span class="keyword">of</span> <a href="../../../core_unix/Core_unix/Error/index.html#type-t">Error.t</a> * string * string</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Terminal_io" class="anchored"><a href="#module-Terminal_io" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Terminal_io/index.html">Terminal_io</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Passwd" class="anchored"><a href="#module-Passwd" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Passwd/index.html">Passwd</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Structure of entries in the <code>passwd</code> database.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Group" class="anchored"><a href="#module-Group" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Group/index.html">Group</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Structure of entries in the <code>groups</code> database.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Ifaddr" class="anchored"><a href="#module-Ifaddr" class="anchor"></a><code><span><span class="keyword">module</span> Ifaddr</span><span> = <a href="../../../core_unix/Core_unix/Ifaddr/index.html">Core_unix.Ifaddr</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getifaddrs" class="anchored"><a href="#val-getifaddrs" class="anchor"></a><code><span><span class="keyword">val</span> getifaddrs : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../../core_unix/Core_unix/Ifaddr/index.html#type-t">Ifaddr.t</a> list</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p>Gets the information using the socket-based netlink interface, which can block; see https://www.infradead.org/~tgr/libnl/doc/core.html.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getlogin" class="anchored"><a href="#val-getlogin" class="anchor"></a><code><span><span class="keyword">val</span> getlogin : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></span></code></div><div class="spec-doc"><p>Returns the login name of the user executing the process.</p><p>This returns a deferred because the username may need to be looked up in what is essentially a database elsewhere on the network (winbound user, or NIS).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-wordexp" class="anchored"><a href="#val-wordexp" class="anchor"></a><code><span><span class="keyword">val</span> wordexp : 
  <span><span>( <span>?flags:<span><span>[ `No_cmd <span>| `Show_err</span> <span>| `Undef</span> ]</span> list</span> <span class="arrow">&#45;&gt;</span></span>
    <span>string <span class="arrow">&#45;&gt;</span></span>
    <span><span>string array</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span> )</span>
    <a href="../../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Private" class="anchored"><a href="#module-Private" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Private/index.html">Private</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></div></body></html>