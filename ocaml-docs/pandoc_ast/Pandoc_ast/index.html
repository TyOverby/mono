<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Pandoc_ast (pandoc_ast.Pandoc_ast)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">pandoc_ast</a> &#x00BB; Pandoc_ast</nav><header class="odoc-preamble"><h1>Module <code><span>Pandoc_ast</span></code></h1><p>Library to write pandoc filters.</p></header><nav class="odoc-toc"><ul><li><a href="#types-for-pandoc">Types for pandoc</a></li><li><a href="#reading-and-writing">Reading and writing</a></li><li><a href="#metadata">Metadata</a></li><li><a href="#mapping-functions">Mapping functions</a></li></ul></nav><div class="odoc-content"><h3 id="types-for-pandoc"><a href="#types-for-pandoc" class="anchor"></a>Types for pandoc</h3><div class="odoc-spec"><div class="spec type" id="type-attr" class="anchored"><a href="#type-attr" class="anchor"></a><code><span><span class="keyword">type</span> attr</span><span> = string * <span>string list</span> * <span><span>(string * string)</span> list</span></span></code></div><div class="spec-doc"><p>Attributes: identifier, classes, key/values.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-target" class="anchored"><a href="#type-target" class="anchor"></a><code><span><span class="keyword">type</span> target</span><span> = string * string</span></code></div><div class="spec-doc"><p>Target of a link: url and title.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-list_number_style" class="anchored"><a href="#type-list_number_style" class="anchor"></a><code><span><span class="keyword">type</span> list_number_style</span><span> = </span></code><table><tr id="type-list_number_style.DefaultStyle" class="anchored"><td class="def variant constructor"><a href="#type-list_number_style.DefaultStyle" class="anchor"></a><code><span>| </span><span><span class="constructor">DefaultStyle</span></span></code></td></tr><tr id="type-list_number_style.Example" class="anchored"><td class="def variant constructor"><a href="#type-list_number_style.Example" class="anchor"></a><code><span>| </span><span><span class="constructor">Example</span></span></code></td></tr><tr id="type-list_number_style.Decimal" class="anchored"><td class="def variant constructor"><a href="#type-list_number_style.Decimal" class="anchor"></a><code><span>| </span><span><span class="constructor">Decimal</span></span></code></td></tr><tr id="type-list_number_style.LowerRoman" class="anchored"><td class="def variant constructor"><a href="#type-list_number_style.LowerRoman" class="anchor"></a><code><span>| </span><span><span class="constructor">LowerRoman</span></span></code></td></tr><tr id="type-list_number_style.UpperRoman" class="anchored"><td class="def variant constructor"><a href="#type-list_number_style.UpperRoman" class="anchor"></a><code><span>| </span><span><span class="constructor">UpperRoman</span></span></code></td></tr><tr id="type-list_number_style.LowerAlpha" class="anchored"><td class="def variant constructor"><a href="#type-list_number_style.LowerAlpha" class="anchor"></a><code><span>| </span><span><span class="constructor">LowerAlpha</span></span></code></td></tr><tr id="type-list_number_style.UpperAlpha" class="anchored"><td class="def variant constructor"><a href="#type-list_number_style.UpperAlpha" class="anchor"></a><code><span>| </span><span><span class="constructor">UpperAlpha</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-list_number_delim" class="anchored"><a href="#type-list_number_delim" class="anchor"></a><code><span><span class="keyword">type</span> list_number_delim</span><span> = </span></code><table><tr id="type-list_number_delim.DefaultDelim" class="anchored"><td class="def variant constructor"><a href="#type-list_number_delim.DefaultDelim" class="anchor"></a><code><span>| </span><span><span class="constructor">DefaultDelim</span></span></code></td></tr><tr id="type-list_number_delim.Period" class="anchored"><td class="def variant constructor"><a href="#type-list_number_delim.Period" class="anchor"></a><code><span>| </span><span><span class="constructor">Period</span></span></code></td></tr><tr id="type-list_number_delim.OneParen" class="anchored"><td class="def variant constructor"><a href="#type-list_number_delim.OneParen" class="anchor"></a><code><span>| </span><span><span class="constructor">OneParen</span></span></code></td></tr><tr id="type-list_number_delim.TwoParensPeriod" class="anchored"><td class="def variant constructor"><a href="#type-list_number_delim.TwoParensPeriod" class="anchor"></a><code><span>| </span><span><span class="constructor">TwoParensPeriod</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-list_attributes" class="anchored"><a href="#type-list_attributes" class="anchor"></a><code><span><span class="keyword">type</span> list_attributes</span><span> = int * <a href="#type-list_number_style">list_number_style</a> * <a href="#type-list_number_delim">list_number_delim</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-math_type" class="anchored"><a href="#type-math_type" class="anchor"></a><code><span><span class="keyword">type</span> math_type</span><span> = </span></code><table><tr id="type-math_type.DisplayMath" class="anchored"><td class="def variant constructor"><a href="#type-math_type.DisplayMath" class="anchor"></a><code><span>| </span><span><span class="constructor">DisplayMath</span></span></code></td></tr><tr id="type-math_type.InlineMath" class="anchored"><td class="def variant constructor"><a href="#type-math_type.InlineMath" class="anchor"></a><code><span>| </span><span><span class="constructor">InlineMath</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-quote_type" class="anchored"><a href="#type-quote_type" class="anchor"></a><code><span><span class="keyword">type</span> quote_type</span><span> = </span></code><table><tr id="type-quote_type.DoubleQuote" class="anchored"><td class="def variant constructor"><a href="#type-quote_type.DoubleQuote" class="anchor"></a><code><span>| </span><span><span class="constructor">DoubleQuote</span></span></code></td></tr><tr id="type-quote_type.SingleQuote" class="anchored"><td class="def variant constructor"><a href="#type-quote_type.SingleQuote" class="anchor"></a><code><span>| </span><span><span class="constructor">SingleQuote</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-format" class="anchored"><a href="#type-format" class="anchor"></a><code><span><span class="keyword">type</span> format</span><span> = string</span></code></div><div class="spec-doc"><p>Format for raw blocks.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-inline" class="anchored"><a href="#type-inline" class="anchor"></a><code><span><span class="keyword">type</span> inline</span><span> = </span></code><table><tr id="type-inline.Code" class="anchored"><td class="def variant constructor"><a href="#type-inline.Code" class="anchor"></a><code><span>| </span><span><span class="constructor">Code</span> <span class="keyword">of</span> <a href="#type-attr">attr</a> * string</span></code></td></tr><tr id="type-inline.Emph" class="anchored"><td class="def variant constructor"><a href="#type-inline.Emph" class="anchor"></a><code><span>| </span><span><span class="constructor">Emph</span> <span class="keyword">of</span> <span><a href="#type-inline">inline</a> list</span></span></code></td></tr><tr id="type-inline.Image" class="anchored"><td class="def variant constructor"><a href="#type-inline.Image" class="anchor"></a><code><span>| </span><span><span class="constructor">Image</span> <span class="keyword">of</span> <a href="#type-attr">attr</a> * <span><a href="#type-inline">inline</a> list</span> * <a href="#type-target">target</a></span></code></td></tr><tr id="type-inline.Link" class="anchored"><td class="def variant constructor"><a href="#type-inline.Link" class="anchor"></a><code><span>| </span><span><span class="constructor">Link</span> <span class="keyword">of</span> <a href="#type-attr">attr</a> * <span><a href="#type-inline">inline</a> list</span> * <a href="#type-target">target</a></span></code></td></tr><tr id="type-inline.Quoted" class="anchored"><td class="def variant constructor"><a href="#type-inline.Quoted" class="anchor"></a><code><span>| </span><span><span class="constructor">Quoted</span> <span class="keyword">of</span> <a href="#type-quote_type">quote_type</a> * <span><a href="#type-inline">inline</a> list</span></span></code></td></tr><tr id="type-inline.RawInline" class="anchored"><td class="def variant constructor"><a href="#type-inline.RawInline" class="anchor"></a><code><span>| </span><span><span class="constructor">RawInline</span> <span class="keyword">of</span> string * string</span></code></td></tr><tr id="type-inline.Space" class="anchored"><td class="def variant constructor"><a href="#type-inline.Space" class="anchor"></a><code><span>| </span><span><span class="constructor">Space</span></span></code></td></tr><tr id="type-inline.SmallCaps" class="anchored"><td class="def variant constructor"><a href="#type-inline.SmallCaps" class="anchor"></a><code><span>| </span><span><span class="constructor">SmallCaps</span> <span class="keyword">of</span> <span><a href="#type-inline">inline</a> list</span></span></code></td></tr><tr id="type-inline.Str" class="anchored"><td class="def variant constructor"><a href="#type-inline.Str" class="anchor"></a><code><span>| </span><span><span class="constructor">Str</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-inline.UnhandledInline" class="anchored"><td class="def variant constructor"><a href="#type-inline.UnhandledInline" class="anchor"></a><code><span>| </span><span><span class="constructor">UnhandledInline</span> <span class="keyword">of</span> <span class="xref-unresolved">Yojson</span>.Basic.t</span></code></td></tr></table></div><div class="spec-doc"><p>Inline elements.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-block" class="anchored"><a href="#type-block" class="anchor"></a><code><span><span class="keyword">and</span> block</span><span> = </span></code><table><tr id="type-block.BulletList" class="anchored"><td class="def variant constructor"><a href="#type-block.BulletList" class="anchor"></a><code><span>| </span><span><span class="constructor">BulletList</span> <span class="keyword">of</span> <span><span><a href="#type-block">block</a> list</span> list</span></span></code></td></tr><tr id="type-block.CodeBlock" class="anchored"><td class="def variant constructor"><a href="#type-block.CodeBlock" class="anchor"></a><code><span>| </span><span><span class="constructor">CodeBlock</span> <span class="keyword">of</span> <a href="#type-attr">attr</a> * string</span></code></td></tr><tr id="type-block.Header" class="anchored"><td class="def variant constructor"><a href="#type-block.Header" class="anchor"></a><code><span>| </span><span><span class="constructor">Header</span> <span class="keyword">of</span> int * <a href="#type-attr">attr</a> * <span><a href="#type-inline">inline</a> list</span></span></code></td></tr><tr id="type-block.OrderedList" class="anchored"><td class="def variant constructor"><a href="#type-block.OrderedList" class="anchor"></a><code><span>| </span><span><span class="constructor">OrderedList</span> <span class="keyword">of</span> <a href="#type-list_attributes">list_attributes</a> * <span><span><a href="#type-block">block</a> list</span> list</span></span></code></td></tr><tr id="type-block.Para" class="anchored"><td class="def variant constructor"><a href="#type-block.Para" class="anchor"></a><code><span>| </span><span><span class="constructor">Para</span> <span class="keyword">of</span> <span><a href="#type-inline">inline</a> list</span></span></code></td></tr><tr id="type-block.Plain" class="anchored"><td class="def variant constructor"><a href="#type-block.Plain" class="anchor"></a><code><span>| </span><span><span class="constructor">Plain</span> <span class="keyword">of</span> <span><a href="#type-inline">inline</a> list</span></span></code></td></tr><tr id="type-block.RawBlock" class="anchored"><td class="def variant constructor"><a href="#type-block.RawBlock" class="anchor"></a><code><span>| </span><span><span class="constructor">RawBlock</span> <span class="keyword">of</span> <a href="#type-format">format</a> * string</span></code></td></tr><tr id="type-block.Div" class="anchored"><td class="def variant constructor"><a href="#type-block.Div" class="anchor"></a><code><span>| </span><span><span class="constructor">Div</span> <span class="keyword">of</span> <a href="#type-attr">attr</a> * <span><a href="#type-block">block</a> list</span></span></code></td></tr><tr id="type-block.UnhandledBlock" class="anchored"><td class="def variant constructor"><a href="#type-block.UnhandledBlock" class="anchor"></a><code><span>| </span><span><span class="constructor">UnhandledBlock</span> <span class="keyword">of</span> <span class="xref-unresolved">Yojson</span>.Basic.t</span></code></td></tr></table></div><div class="spec-doc"><p>Block elements.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><table><tr id="type-t.api_version" class="anchored"><td class="def record field"><a href="#type-t.api_version" class="anchor"></a><code><span>api_version : <span>int list</span>;</span></code></td></tr><tr id="type-t.meta" class="anchored"><td class="def record field"><a href="#type-t.meta" class="anchor"></a><code><span>meta : <span class="xref-unresolved">Yojson</span>.Basic.t;</span></code></td></tr><tr id="type-t.blocks" class="anchored"><td class="def record field"><a href="#type-t.blocks" class="anchor"></a><code><span>blocks : <span><a href="#type-block">block</a> list</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>JSON representation of a pandoc file.</p></div></div><h3 id="reading-and-writing"><a href="#reading-and-writing" class="anchor"></a>Reading and writing</h3><div class="odoc-spec"><div class="spec value" id="val-of_json" class="anchored"><a href="#val-of_json" class="anchor"></a><code><span><span class="keyword">val</span> of_json : <span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Internal representation from JSON representation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_json" class="anchored"><a href="#val-to_json" class="anchor"></a><code><span><span class="keyword">val</span> to_json : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Yojson</span>.Basic.t</span></code></div><div class="spec-doc"><p>JSON representation from internal representation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_md_file" class="anchored"><a href="#val-of_md_file" class="anchor"></a><code><span><span class="keyword">val</span> of_md_file : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct representation of a markdown file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-api_version" class="anchored"><a href="#val-api_version" class="anchor"></a><code><span><span class="keyword">val</span> api_version : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int list</span></span></code></div><div class="spec-doc"><p>API version.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-blocks" class="anchored"><a href="#val-blocks" class="anchor"></a><code><span><span class="keyword">val</span> blocks : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-block">block</a> list</span></span></code></div><div class="spec-doc"><p>Blocks.</p></div></div><h3 id="metadata"><a href="#metadata" class="anchor"></a>Metadata</h3><div class="odoc-spec"><div class="spec value" id="val-meta_bool" class="anchored"><a href="#val-meta_bool" class="anchor"></a><code><span><span class="keyword">val</span> meta_bool : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Value of a boolean metadata.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-meta_string" class="anchored"><a href="#val-meta_string" class="anchor"></a><code><span><span class="keyword">val</span> meta_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Value of a string metadata.</p></div></div><h3 id="mapping-functions"><a href="#mapping-functions" class="anchor"></a>Mapping functions</h3><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : 
  <span>?block:<span>( <span><a href="#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-block">block</a> list</span> option</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?inline:<span>( <span><a href="#type-inline">inline</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-inline">inline</a> list</span> option</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>General mapping function which maps a function on blocks and a function on inlines. If the functions return <code>None</code> the mapping is further recursed into.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_inlines" class="anchored"><a href="#val-map_inlines" class="anchor"></a><code><span><span class="keyword">val</span> map_inlines : <span><span>( <span><span><a href="#type-inline">inline</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-inline">inline</a> list</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Map a function to every list of inlines.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_blocks" class="anchored"><a href="#val-map_blocks" class="anchor"></a><code><span><span class="keyword">val</span> map_blocks : <span><span>( <span><a href="#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-block">block</a> list</span> option</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Map a function to every block. If the function returns <code>None</code> then the block is further recursed into.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_top_blocks" class="anchored"><a href="#val-map_top_blocks" class="anchor"></a><code><span><span class="keyword">val</span> map_top_blocks : <span><span>( <span><a href="#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-block">block</a> list</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Map a function to every block at toplevel.</p></div></div></div></body></html>