<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Incremental (incremental.Incremental)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">incremental</a> &#x00BB; Incremental</nav><header class="odoc-preamble"><h1>Module <code><span>Incremental</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#creating-incrementals">Creating incrementals</a></li><li><a href="#array-folds-and-sums">Array folds and sums</a></li><li><a href="#stabilization">Stabilization</a></li><li><a href="#cutoffs">Cutoffs</a></li></ul></nav><div class="odoc-content"><div class="odoc-include"><div class="odoc-spec"><div class="spec module" id="module-State" class="anchored"><a href="#module-State" class="anchor"></a><code><span><span class="keyword">module</span> <a href="State/index.html">State</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A <code>State.t</code> holds shared state used by all the incremental functions.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'w) t</span></span></code></div><div class="spec-doc"><p><code>type ('a,'w) t</code> is the type of incrementals that have a value of type <code>'a</code>, with a state witness of type <code>'w</code>.</p><p>Incrementals are not covariant, i.e. we do not have <code>(+'a, _) t</code> -- consider, e.g. <code>set_cutoff</code> and <code>get_cutoff</code>. However, if you have types <code>a1</code> and <code>a2</code> where <code>a1</code> is a subtype of <code>a2</code>, and a value <code>t1 : a1 t</code>, then the following builds an incremental value of type <code>a2 t</code>:</p><pre><code>let t2 : a2 t = t1 &gt;&gt;| fun a1 -&gt; (a1 : a1 :&gt; a2)</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : 
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'w</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type subst" id="type-incremental" class="anchored"><a href="#type-incremental" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'w) incremental</span></span><span> := <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../base/Base/Invariant/module-type-S2/index.html">Core.Invariant.S2</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>('a, 'w) <a href="../../base/Base/Invariant/module-type-S2/index.html#type-t">t</a></span> := <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-invariant" class="anchored"><a href="#val-invariant" class="anchor"></a><code><span><span class="keyword">val</span> invariant : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'b</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-state" class="anchored"><a href="#val-state" class="anchor"></a><code><span><span class="keyword">val</span> state : <span><span><span>( <span class="type-var">_</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_const" class="anchored"><a href="#val-is_const" class="anchor"></a><code><span><span class="keyword">val</span> is_const : <span><span><span>( <span class="type-var">_</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>If <code>is_const t</code> then <code>t</code> is a constant-valued incremental. <code>is_const (const a)</code> is true.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_valid" class="anchored"><a href="#val-is_valid" class="anchor"></a><code><span><span class="keyword">val</span> is_valid : <span><span><span>( <span class="type-var">_</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_necessary" class="anchored"><a href="#val-is_necessary" class="anchor"></a><code><span><span class="keyword">val</span> is_necessary : <span><span><span>( <span class="type-var">_</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><h2 id="creating-incrementals"><a href="#creating-incrementals" class="anchor"></a>Creating incrementals</h2><div class="odoc-spec"><div class="spec value" id="val-const" class="anchored"><a href="#val-const" class="anchor"></a><code><span><span class="keyword">val</span> const : <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>const state a</code> returns an incremental whose value never changes. It is the same as <code>return</code>, but reads more clearly in many situations because it serves as a nice reminder that the incremental won't change (except possibly be invalidated).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-return" class="anchored"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>map t1 ~f</code> returns an incremental <code>t</code> that maintains its value as <code>f a</code>, where <code>a</code> is the value of <code>t1</code>. <code>map2</code>, <code>map3</code>, ..., <code>map9</code> are the generalizations to more arguments. If you need map&lt;N&gt; for some N &gt; 9, it can easily be added, but also see <code>array_fold</code> and <code>unordered_array_fold</code>.</p><p><code>f</code> should not create incremental nodes but this behavior is not checked; if you want to create incremental nodes, use <code>bind</code>. The invalidation machinery that is used with <code>bind</code> is not used with <code>map</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;|)" class="anchored"><a href="#val-(&gt;&gt;|)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;|) : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-map2" class="anchored"><a href="#val-map2" class="anchor"></a><code><span><span class="keyword">val</span> map2 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map3" class="anchored"><a href="#val-map3" class="anchor"></a><code><span><span class="keyword">val</span> map3 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map4" class="anchored"><a href="#val-map4" class="anchor"></a><code><span><span class="keyword">val</span> map4 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map5" class="anchored"><a href="#val-map5" class="anchor"></a><code><span><span class="keyword">val</span> map5 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map6" class="anchored"><a href="#val-map6" class="anchor"></a><code><span><span class="keyword">val</span> map6 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map7" class="anchored"><a href="#val-map7" class="anchor"></a><code><span><span class="keyword">val</span> map7 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map8" class="anchored"><a href="#val-map8" class="anchor"></a><code><span><span class="keyword">val</span> map8 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map9" class="anchored"><a href="#val-map9" class="anchor"></a><code><span><span class="keyword">val</span> map9 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a9</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map10" class="anchored"><a href="#val-map10" class="anchor"></a><code><span><span class="keyword">val</span> map10 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a9</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a10</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:
    <span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
      <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map11" class="anchored"><a href="#val-map11" class="anchor"></a><code><span><span class="keyword">val</span> map11 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a9</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a10</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a11</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:
    <span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
      <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map12" class="anchored"><a href="#val-map12" class="anchor"></a><code><span><span class="keyword">val</span> map12 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a9</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a10</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a11</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a12</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:
    <span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a12</span> <span class="arrow">&#45;&gt;</span></span>
      <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map13" class="anchored"><a href="#val-map13" class="anchor"></a><code><span><span class="keyword">val</span> map13 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a9</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a10</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a11</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a12</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a13</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:
    <span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a12</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a13</span> <span class="arrow">&#45;&gt;</span></span>
      <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map14" class="anchored"><a href="#val-map14" class="anchor"></a><code><span><span class="keyword">val</span> map14 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a9</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a10</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a11</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a12</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a13</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a14</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:
    <span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a12</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a13</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a14</span> <span class="arrow">&#45;&gt;</span></span>
      <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map15" class="anchored"><a href="#val-map15" class="anchor"></a><code><span><span class="keyword">val</span> map15 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a5</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a6</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a7</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a8</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a9</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a10</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a11</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a12</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a13</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a14</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a15</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:
    <span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a5</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a6</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a7</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a8</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a9</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a10</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a11</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a12</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a13</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a14</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span class="type-var">'a15</span> <span class="arrow">&#45;&gt;</span></span>
      <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div></div><div class="odoc-spec"><div class="spec value" id="val-bind" class="anchored"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>bind t1 ~f</code> returns an incremental <code>t2</code> that behaves like <code>f v</code>, where <code>v</code> is the value of <code>t1</code>. If <code>t1</code>'s value changes, then incremental applies <code>f</code> to that new value and <code>t2</code> behaves like the resulting incremental.</p><p><code>bind</code> can be significantly more expensive than <code>map</code> during stabilization, because, when its left-hand side changes, it requires modification of the incremental DAG, while <code>map</code> simply flows values along the DAG. Thus it is preferable to use <code>map</code> (and its n-ary variants above) instead of <code>bind</code> unless one actually needs <code>bind</code>'s power.</p><p><code>bind2 t1 t2 ~f</code> is:</p><pre><code>bind (map2 t1 t2 ~f:(fun v1 v2 -&gt; (v1, v2)))
  ~f:(fun (v1, v2) -&gt; f v1 v2)</code></pre><p>This is equivalent to <code>bind t1 ~f:(fun v1 -&gt; bind t2 ~f:(fun v2 -&gt; f v1 v2))</code> but more efficient due to using one bind node rather than two. The other <code>bind&lt;N&gt;</code> functions are generalize to more arguments.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;=)" class="anchored"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-bind2" class="anchored"><a href="#val-bind2" class="anchor"></a><code><span><span class="keyword">val</span> bind2 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bind3" class="anchored"><a href="#val-bind3" class="anchor"></a><code><span><span class="keyword">val</span> bind3 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bind4" class="anchored"><a href="#val-bind4" class="anchor"></a><code><span><span class="keyword">val</span> bind4 : 
  <span><span><span>( <span class="type-var">'a1</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a2</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a3</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a4</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a2</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a3</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a4</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div></div><div class="odoc-spec"><div class="spec module" id="module-Infix" class="anchored"><a href="#module-Infix" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Infix/index.html">Infix</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-join" class="anchored"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>join t</code> returns an incremental that behaves like the incremental that <code>t</code> currently holds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-if_" class="anchored"><a href="#val-if_" class="anchor"></a><code><span><span class="keyword">val</span> if_ : 
  <span><span><span>( bool, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>then_:<span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>else_:<span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>if_ tb ~then_ ~else_</code> returns an incremental <code>t</code> that holds the value of <code>then_</code> if <code>tb</code> is true, the value of <code>else_</code> if <code>tb</code> is false. Note that <code>t</code> only depends on one of <code>then_</code> or <code>else_</code> at a time, i.e. <code>if_ tb ~then_ ~else</code> is like:</p><pre><code>bind b ~f:(fun b -&gt; if b then then_ else else_)</code></pre><p>which is not the same as:</p><pre><code>map3 b then_ else_ ~f:(fun b then_ else_ -&gt; if b then then_ else else_)</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-freeze" class="anchored"><a href="#val-freeze" class="anchor"></a><code><span><span class="keyword">val</span> freeze : <span>?when_:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>freeze ?when_ t</code> returns an incremental whose value is <code>t</code>'s value <code>v</code> until the first stabilization in which <code>when_ v</code> holds, at which point the freeze node's value becomes constant and never changes again. Calling <code>freeze t</code> forces <code>t</code> to be necessary until it freezes regardless of whether the freeze node is necessary, but not thereafter (although of course <code>t</code> could remain necessary for other reasons). The result of <code>freeze t</code>, once frozen, will never be invalidated, even if <code>t</code> is invalidated, and even if the scope in which the freeze is created is invalidated. However, prior to <code>when_ v</code> becoming true, <code>freeze t</code> can be invalidated.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-depend_on" class="anchored"><a href="#val-depend_on" class="anchor"></a><code><span><span class="keyword">val</span> depend_on : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>depend_on:<span><span>( <span class="type-var">_</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>depend_on input ~depend_on</code> returns an <code>output</code> whose value is the same as <code>input</code>'s value, such that <code>depend_on</code> is necessary so long as <code>output</code> is necessary. It is like:</p><pre><code>map2 input depend_on ~f:(fun a _ -&gt; a)</code></pre><p>but with a cutoff such that <code>output</code>'s value only changes when <code>input</code>'s value changes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-necessary_if_alive" class="anchored"><a href="#val-necessary_if_alive" class="anchor"></a><code><span><span class="keyword">val</span> necessary_if_alive : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>necessary_if_alive input</code> returns <code>output</code> that has the same value and cutoff as <code>input</code>, such that as long as <code>output</code> is alive, <code>input</code> is necessary.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-for_all" class="anchored"><a href="#val-for_all" class="anchor"></a><code><span><span class="keyword">val</span> for_all : <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span>( bool, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( bool, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>for_all ts</code> returns an incremental that is <code>true</code> iff all <code>ts</code> are <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span>( bool, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( bool, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>exists ts</code> returns an incremental that is <code>true</code> iff at least one of the <code>ts</code> is <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-all" class="anchored"><a href="#val-all" class="anchor"></a><code><span><span class="keyword">val</span> all : <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> list</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>all ts</code> returns an incremental whose value is a list of the values of all of the <code>ts</code>. In any stabilization where any of the <code>ts</code> changes, the entire list is recreated (once all of the <code>ts</code> have stabilized). This essentially an <code>array_fold</code> over the <code>ts</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-both" class="anchored"><a href="#val-both" class="anchor"></a><code><span><span class="keyword">val</span> both : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span> * <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>both t1 t2</code> returns an incremental whose value is pair of values of <code>t1</code> and <code>t2</code>. Both <code>map (both t1 t2) ~f</code> and <code>map2 t1 t2 ~f:(fun a1 a2 -&gt; f (a1, a2))</code> return an incremental with the same behavior, but the <code>map2</code> version is more efficient, because it creates a single node, whereas the <code>both</code> version creates two nodes.</p></div></div><h2 id="array-folds-and-sums"><a href="#array-folds-and-sums" class="anchor"></a>Array folds and sums</h2><div class="odoc-spec"><div class="spec value" id="val-array_fold" class="anchored"><a href="#val-array_fold" class="anchor"></a><code><span><span class="keyword">val</span> array_fold : 
  <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>init:<span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>array_fold ts ~init ~f</code> creates an incremental <code>t</code> whose value is:</p><pre><code>Array.fold ts ~init ~f:(fun ac t -&gt; f ac (value t))</code></pre><p>In a stabilization during which any of the <code>ts</code> changes, the entire fold will be computed once all of the <code>ts</code> have been computed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reduce_balanced" class="anchored"><a href="#val-reduce_balanced" class="anchor"></a><code><span><span class="keyword">val</span> reduce_balanced : 
  <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>reduce:<span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> option</span></span></code></div><div class="spec-doc"><p><code>reduce_balanced ts ~f ~reduce</code> does a fold-like operation over <code>ts</code>. Unlike <code>array_fold</code>, the operation will be computed in <code>O(min(n, k * log(n)))</code> time, where <code>n</code> is the size of <code>ts</code> and <code>k</code> is the number of elements of <code>ts</code> that have changed since the last stabilization.</p><p>Generally, if most or all of <code>ts</code> are changing between stabilizations, using <code>array_fold</code> will have better constant factors.</p><p>The <code>reduce</code> argument must be an associative operation: <code>reduce a (reduce b c) = (reduce (reduce a b) c)</code>.</p><p><code>None</code> is returned upon supplying an empty array.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Unordered_array_fold_update" class="anchored"><a href="#module-Unordered_array_fold_update" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Unordered_array_fold_update/index.html">Unordered_array_fold_update</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unordered_array_fold" class="anchored"><a href="#val-unordered_array_fold" class="anchor"></a><code><span><span class="keyword">val</span> unordered_array_fold : 
  <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?full_compute_every_n_changes:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>init:<span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>update:<span><span>( <span class="type-var">'a</span>, <span class="type-var">'b</span> )</span> <a href="Unordered_array_fold_update/index.html#type-t">Unordered_array_fold_update.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>unordered_array_fold ts ~init ~f ~update</code> folds over the <code>ts</code>. Unlike <code>array_fold</code>, the fold will be computed in time proportional to the number of <code>ts</code> that change rather than the number of <code>ts</code>. In a stabilization, for each <code>t</code> in <code>ts</code> that changes from <code>old_value</code> to <code>new_value</code>, the value of the unordered-array fold, <code>b</code>, will change depending on <code>update</code>:</p><ul><li><code>F_inverse f_inverse</code>: from <code>b</code> to <code>f (f_inverse b old_value) new_value</code></li><li><code>Update update</code>: from <code>b</code> to <code>update b ~old_value ~new_value</code></li></ul><p>The <code>t</code>'s that change may take effect in any order.</p><p>If repeated changes might accumulate error, one can cause the fold to be fully computed after every <code>full_compute_every_n_changes</code> changes. If you do not supply <code>full_compute_every_n_changes</code>, then full computes will never happen after the initial one.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-opt_unordered_array_fold" class="anchored"><a href="#val-opt_unordered_array_fold" class="anchor"></a><code><span><span class="keyword">val</span> opt_unordered_array_fold : 
  <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?full_compute_every_n_changes:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span class="type-var">'a</span> option</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>init:<span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f_inverse:<span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'b</span> option</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>opt_unordered_array_fold</code> is like <code>unordered_array_fold</code>, except that its result is <code>Some</code> iff all its inputs are <code>Some</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sum" class="anchored"><a href="#val-sum" class="anchor"></a><code><span><span class="keyword">val</span> sum : 
  <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?full_compute_every_n_changes:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>zero:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span>add:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>sub:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>sum ts ~zero ~add ~sub ?full_compute_every_n_changes</code> returns an incremental that maintains the sum of the <code>ts</code>. It uses <code>unordered_array_fold</code> so that the work required to maintain the sum is proportional to the number of <code>ts</code> that change (i.e. one <code>sub</code> and one <code>add</code> per change).</p><p><code>opt_sum</code> is like <code>sum</code>, except that its result is <code>Some</code> iff all its inputs are <code>Some</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-opt_sum" class="anchored"><a href="#val-opt_sum" class="anchor"></a><code><span><span class="keyword">val</span> opt_sum : 
  <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?full_compute_every_n_changes:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span class="type-var">'a</span> option</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>zero:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span>add:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>sub:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> option</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sum_int" class="anchored"><a href="#val-sum_int" class="anchor"></a><code><span><span class="keyword">val</span> sum_int : <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span>( int, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( int, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>sum_int ts</code> = <code>sum ts ~zero:0 ~add:(+) ~sub:(-)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-sum_float" class="anchored"><a href="#val-sum_float" class="anchor"></a><code><span><span class="keyword">val</span> sum_float : <span><span><span class="type-var">'w</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span>( float, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( float, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>sum_float ts</code> is:</p><pre><code>sum ts ~zero:0.0 ~add:(+.) ~sub:(-.)
  ~full_compute_every_n_changes:(Array.length ts)</code></pre><p>This uses <code>sum</code> for fast update, with a full recompute every <code>length ts</code> changes to cut down on floating-point error.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Scope" class="anchored"><a href="#module-Scope" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Scope/index.html">Scope</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The stack of bind left-hand sides currently in effect is the current &quot;scope&quot;. In order to create a function in one scope and apply it in a different scope, one must manually save and restore the scope. Essentially, the scope should be part of every closure that constructs incrementals. For example:</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Var" class="anchored"><a href="#module-Var" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Var/index.html">Var</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Observer" class="anchored"><a href="#module-Observer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Observer/index.html">Observer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-observe" class="anchored"><a href="#val-observe" class="anchor"></a><code><span><span class="keyword">val</span> observe : <span>?should_finalize:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span class="type-var">'a</span>, <span class="type-var">'w</span> )</span> <a href="Observer/index.html#type-t">Observer.t</a></span></span></code></div><div class="spec-doc"><p><code>observe t</code> returns a new observer for <code>t</code>. <code>observe</code> raises if called during stabilization.</p><p>By default, an observer has a finalizer that calls <code>disallow_future_use</code> when the observer is no longer referenced. One can use <code>~should_finalize:false</code> to cause the finalizer to not be created, in which case the observer will live until <code>disallow_future_use</code> is explicitly called.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Update" class="anchored"><a href="#module-Update" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Update/index.html">Update</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-on_update" class="anchored"><a href="#val-on_update" class="anchor"></a><code><span><span class="keyword">val</span> on_update : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><span><span class="type-var">'a</span> <a href="Update/index.html#type-t">Update.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>on_update t ~f</code> is similar to <code>Observer.on_update_exn</code>, but it does not cause <code>t</code> to be necessary. Instead of the <code>Initialized</code> update, there are updates for when a node becomes <code>Necessary</code> or <code>Unnecessary</code>. Here is a state diagram for the allowable sequences of <code>Update.t</code>'s that can be supplied to a particular <code>f</code>:</p><pre>        /-----------------------------------------------------\
        |                 /                                   |
        |                 |                                   v
       Start ------&gt; Necessary ----------&gt; Changed ------&gt; Invalidated
        |                | ^             |  ^  |              ^
        |                | |   /---------/  \--/              |
        |                v |   v                              |
        \----------&gt; Unnecessary -----------------------------/</pre><p>If <code>t</code> gets a new value during a stabilization but is unnecessary at the end of it, <code>f</code> will _not_ be called with <code>Changed</code>, but with <code>Unnecessary</code> if allowed by the transition diagram. I.e. if the prior call to <code>f</code> was with <code>Necessary</code> or <code>Changed</code>, <code>f</code> will be called with <code>Unnecessary</code>. If the prior call to <code>f</code> was with <code>Invalidated</code> or <code>Unnecessary</code>, then <code>f</code> will not be called.</p><p>One should typically use <code>Observer.on_update_exn</code>, unless the <code>Unnecessary</code> updates are needed.</p></div></div><h2 id="stabilization"><a href="#stabilization" class="anchor"></a>Stabilization</h2><div class="odoc-spec"><div class="spec value" id="val-stabilize" class="anchored"><a href="#val-stabilize" class="anchor"></a><code><span><span class="keyword">val</span> stabilize : <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>stabilize ()</code> recomputes all incrementals that are necessary and stale. I.e. it propagates changes from variables that have been set to the necessary incrementals that depend on them, stopping propagation as per cutoffs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-am_stabilizing" class="anchored"><a href="#val-am_stabilizing" class="anchor"></a><code><span><span class="keyword">val</span> am_stabilizing : <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><h2 id="cutoffs"><a href="#cutoffs" class="anchor"></a>Cutoffs</h2><div class="odoc-spec"><div class="spec module" id="module-Cutoff" class="anchored"><a href="#module-Cutoff" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Cutoff/index.html">Cutoff</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>An <code>'a Cutoff.t</code> is a function that returns <code>true</code> if propagation of changes should be cutoff at a node based on the old value and the (possible) new value of the node.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_cutoff" class="anchored"><a href="#val-set_cutoff" class="anchor"></a><code><span><span class="keyword">val</span> set_cutoff : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="Cutoff/index.html#type-t">Cutoff.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_cutoff t cutoff</code> replaces the current cutoff function for <code>t</code> with <code>cutoff</code>. <code>cutoff</code> will be called any time <code>t</code> is recomputed, with <code>old_value</code> being the value of <code>t</code> before the recomputation and <code>new_value</code> being the value that just recomputed. If <code>cutoff ~old_value ~new_value</code>, then <code>t</code>'s value will remain as <code>old_value</code> (<code>new_value</code> is discarded) and anything depending on <code>t</code> will not be recomputed (at least not because of <code>t</code>). If <code>not (cutoff ~old_value ~new_value)</code>, then <code>t</code>'s value will become <code>new_value</code>, and all nodes depending on <code>t</code> will recomputed.</p><p>A reasonable choice for <code>cutoff</code> is an equality function on <code>'a</code>.</p><p>The default cutoff for every node is <code>phys_equal</code>. For example, this means that a <code>unit incremental</code> would only fire once; to disable this, use <code>set_cutoff t
      Cutoff.never</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_cutoff" class="anchored"><a href="#val-get_cutoff" class="anchor"></a><code><span><span class="keyword">val</span> get_cutoff : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="Cutoff/index.html#type-t">Cutoff.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lazy_from_fun" class="anchored"><a href="#val-lazy_from_fun" class="anchor"></a><code><span><span class="keyword">val</span> lazy_from_fun : <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../core/Core/Lazy/index.html#type-t">Core.Lazy.t</a></span></span></code></div><div class="spec-doc"><p><code>lazy_from_fun f</code> is like <code>Lazy.from_fun f</code>, except that the nodes created by <code>f</code> will be created in the scope in which <code>lazy_from_fun</code> was called, rather than in the scope of the piece of code that first forces the resulting lazy. Not using this function when defining lazy values is likely to result in exceptions being thrown by incremental. As a rule of thumb, all <code>lazy e</code> that might create incremental nodes should be replaced by <code>lazy_from_fun (fun () -&gt; e)</code>.</p><p>As usual with <code>Lazy</code>, if <code>f</code> raises, then that exception will be raised when calling <code>Lazy.force</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-default_hash_table_initial_size" class="anchored"><a href="#val-default_hash_table_initial_size" class="anchor"></a><code><span><span class="keyword">val</span> default_hash_table_initial_size : int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-memoize_fun" class="anchored"><a href="#val-memoize_fun" class="anchor"></a><code><span><span class="keyword">val</span> memoize_fun : 
  <span>?initial_size:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../base/Base/Hashtbl/Key/index.html#type-t">Base.Hashtbl.Key.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <a href="../../base/Base/Staged/index.html#type-t">Core.Staged.t</a></span></span></code></div><div class="spec-doc"><p><code>memoize_fun f hashable</code> returns a function <code>m</code> that is a memoized version of <code>f</code> that will run <code>f a</code> on each distinct <code>a</code> that <code>m</code> is applied to, memoize the result (in a hash table), and thereafter for <code>a</code>, <code>m</code> will return the memoized result.</p><p>When <code>m</code> is called, it uses <code>Scope.within</code> to run <code>f</code> in the scope that was in effect when <code>memoize_fun f</code> was called. This is essential to correctly capture the dependence of nodes that <code>f</code> creates on values that <code>f</code> is closed over, which may in turn depend on the left-hand sides of binds in the scope in effect when <code>memoize_fun
      f</code> was called. Furthermore, nodes that <code>f</code> creates do not depend on the scope in effect when <code>m</code> is called.</p><p><code>memoize_fun_by_key</code> is a generalization that allows one to memoize over values that contain a uniquely identifying key, but also have other data.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-memoize_fun_by_key" class="anchored"><a href="#val-memoize_fun_by_key" class="anchor"></a><code><span><span class="keyword">val</span> memoize_fun_by_key : 
  <span>?initial_size:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'key</span> <a href="../../base/Base/Hashtbl/Key/index.html#type-t">Base.Hashtbl.Key.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'key</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <a href="../../base/Base/Staged/index.html#type-t">Core.Staged.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-weak_memoize_fun" class="anchored"><a href="#val-weak_memoize_fun" class="anchor"></a><code><span><span class="keyword">val</span> weak_memoize_fun : 
  <span>?initial_size:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../base/Base/Hashtbl/Key/index.html#type-t">Base.Hashtbl.Key.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../../core/Core/Heap_block/index.html#type-t">Core.Heap_block.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../../core/Core/Heap_block/index.html#type-t">Core.Heap_block.t</a></span> )</span> <a href="../../base/Base/Staged/index.html#type-t">Core.Staged.t</a></span></span></code></div><div class="spec-doc"><p>The weak versions of the memoization functions use a <a href="../../core_kernel/Weak_hashtbl/index.html"><code>Weak_hashtbl</code></a> for the memo table. This keeps a weak pointer to each result, and so the garbage collector automatically removes unused results. Furthermore, <code>stabilize</code> removes the table entries whose result is unused.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-weak_memoize_fun_by_key" class="anchored"><a href="#val-weak_memoize_fun_by_key" class="anchor"></a><code><span><span class="keyword">val</span> weak_memoize_fun_by_key : 
  <span>?initial_size:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'key</span> <a href="../../base/Base/Hashtbl/Key/index.html#type-t">Base.Hashtbl.Key.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'key</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../../core/Core/Heap_block/index.html#type-t">Core.Heap_block.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../../core/Core/Heap_block/index.html#type-t">Core.Heap_block.t</a></span> )</span> <a href="../../base/Base/Staged/index.html#type-t">Core.Staged.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-user_info" class="anchored"><a href="#val-user_info" class="anchor"></a><code><span><span class="keyword">val</span> user_info : <span><span><span>( <span class="type-var">_</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../core/Core/Info/index.html#type-t">Core.Info.t</a> option</span></span></code></div><div class="spec-doc"><p>For debugging purposes, one can store an arbitrary <code>Info.t</code> in a node. This will be displayed as part of a node in error messages.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_user_info" class="anchored"><a href="#val-set_user_info" class="anchor"></a><code><span><span class="keyword">val</span> set_user_info : <span><span><span>( <span class="type-var">_</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../core/Core/Info/index.html#type-t">Core.Info.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-append_user_info_graphviz" class="anchored"><a href="#val-append_user_info_graphviz" class="anchor"></a><code><span><span class="keyword">val</span> append_user_info_graphviz : 
  <span><span><span>( <span class="type-var">_</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>label:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>attrs:<span>string <a href="../../core/Core/String/Map/index.html#type-t">Core.String.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>append_user_info_graphviz</code> also modifies the <code>user_info</code> field on the node, but in a way that allows the caller to set the label and the properties on the node when a graphviz graph is produced by calling <code>save_dot</code> or <code>save_dot_to_file</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Node_value" class="anchored"><a href="#module-Node_value" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Node_value/index.html">Node_value</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-node_value" class="anchored"><a href="#val-node_value" class="anchor"></a><code><span><span class="keyword">val</span> node_value : <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="Node_value/index.html#type-t">Node_value.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Packed" class="anchored"><a href="#module-Packed" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Packed/index.html">Packed</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pack" class="anchored"><a href="#val-pack" class="anchor"></a><code><span><span class="keyword">val</span> pack : <span><span><span>( <span class="type-var">_</span>, <span class="type-var">_</span> )</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="Packed/index.html#type-t">Packed.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-save_dot" class="anchored"><a href="#val-save_dot" class="anchor"></a><code><span><span class="keyword">val</span> save_dot : <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>save_dot file</code> outputs to <code>file</code> the DAG of all necessary nodes, in dot format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-save_dot_to_file" class="anchored"><a href="#val-save_dot_to_file" class="anchor"></a><code><span><span class="keyword">val</span> save_dot_to_file : <span><span><span class="type-var">_</span> <a href="State/index.html#type-t">State.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Let_syntax" class="anchored"><a href="#module-Let_syntax" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Let_syntax/index.html">Let_syntax</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This <code>Let_syntax</code> allows you to write expressions like</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Before_or_after" class="anchored"><a href="#module-Before_or_after" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Before_or_after/index.html">Before_or_after</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Step_function" class="anchored"><a href="#module-Step_function" class="anchor"></a><code><span><span class="keyword">module</span> Step_function</span><span> = <a href="../Incremental_step_function/index.html">Incremental_step_function</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Clock" class="anchored"><a href="#module-Clock" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Clock/index.html">Clock</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Incremental has a timing-wheel-based clock, and lets one build incremental values that change as its time passes. One must explicitly call <code>advance_clock</code> to change incremental's clock; there is no implicit call based on the passage of time.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Expert" class="anchored"><a href="#module-Expert" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Expert/index.html">Expert</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A low-level, experimental interface to incremental. This is useful when you need more control over the dependency graph, for performance reasons. It comes at the cost that it's much harder to use right. Specifically, here is what you can do with an expert node:</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-S_gen" class="anchored"><a href="#module-type-S_gen" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S_gen/index.html">S_gen</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-S" class="anchored"><a href="#module-type-S" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Make" class="anchored"><a href="#module-Make" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make/index.html">Make</a></span><span> () : <a href="module-type-S/index.html">S</a></span></code></div><div class="spec-doc"><p><code>Make</code> returns a new incremental implementation. <code>Make</code> uses <code>Config.Default
      ()</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Config" class="anchored"><a href="#module-Config" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Config/index.html">Config</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Incremental_config" class="anchored"><a href="#module-type-Incremental_config" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> Incremental_config</span><span> = <a href="Config/module-type-Incremental_config/index.html">Config.Incremental_config</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Make_with_config" class="anchored"><a href="#module-Make_with_config" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_with_config/index.html">Make_with_config</a></span><span> (<a href="Make_with_config/argument-1-C/index.html">C</a> : <a href="Config/module-type-Incremental_config/index.html">Incremental_config</a>) () : <a href="module-type-S/index.html">S</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Private" class="anchored"><a href="#module-Private" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Private/index.html">Private</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></div></body></html>