<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Core_unix (core_unix.Core_unix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">core_unix</a> &#x00BB; Core_unix</nav><header class="odoc-preamble"><h1>Module <code><span>Core_unix</span></code></h1><p>This file is a modified version of unixLabels.mli from the OCaml distribution. Many of these functions raise exceptions but do not have a _exn suffixed name.</p></header><nav class="odoc-toc"><ul><li><a href="#error-report">Error report</a></li><li><a href="#access-to-the-process-environment">Access to the process environment</a></li><li><a href="#process-handling">Process handling</a></li><li><a href="#basic-file-input/output">Basic file input/output</a></li><li><a href="#interfacing-with-the-standard-input/output-library">Interfacing with the standard input/output library</a></li><li><a href="#seeking-and-truncating">Seeking and truncating</a></li><li><a href="#file-statistics">File statistics</a></li><li><a href="#locking">Locking</a></li><li><a href="#mapping-files-into-memory">Mapping files into memory</a></li><li><a href="#operations-on-file-names">Operations on file names</a></li><li><a href="#file-permissions-and-ownership">File permissions and ownership</a></li><li><a href="#operations-on-file-descriptors">Operations on file descriptors</a></li><li><a href="#directories">Directories</a></li><li><a href="#pipes-and-redirections">Pipes and redirections</a></li><li><a href="#high-level-process-and-redirection-management">High-level process and redirection management</a></li><li><a href="#symbolic-links">Symbolic links</a></li><li><a href="#polling">Polling</a></li><li><a href="#time-functions">Time functions</a></li><li><a href="#user-id,-group-id">User id, group id</a></li><li><a href="#internet-addresses">Internet addresses</a></li><li><a href="#sockets">Sockets</a></li><li><a href="#socket-options">Socket options</a></li><li><a href="#high-level-network-connection-functions">High-level network connection functions</a></li><li><a href="#host-and-protocol-databases">Host and protocol databases</a></li><li><a href="#terminal-interface">Terminal interface</a></li><li><a href="#filesystem-functions">Filesystem functions</a></li><li><a href="#i/o-vectors">I/O vectors</a></li><li><a href="#i/o-functions">I/O functions</a></li><li><a href="#temporary-file-and-directory-creation">Temporary file and directory creation</a></li><li><a href="#signal-handling">Signal handling</a></li><li><a href="#user-id,-group-id_2">User id, group id</a></li><li><a href="#globbing-and-shell-expansion">Globbing and shell expansion</a></li><li><a href="#system-information">System information</a></li><li><a href="#additional-ip-functionality">Additional IP functionality</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-File_descr" class="anchored"><a href="#module-File_descr" class="anchor"></a><code><span><span class="keyword">module</span> <a href="File_descr/index.html">File_descr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>File descriptor.</p></div></div><h6 id="error-report"><a href="#error-report" class="anchor"></a>Error report</h6><div class="odoc-spec"><div class="spec type" id="type-error" class="anchored"><a href="#type-error" class="anchor"></a><code><span><span class="keyword">type</span> error</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.error</span><span> = </span></code><table><tr id="type-error.E2BIG" class="anchored"><td class="def variant constructor"><a href="#type-error.E2BIG" class="anchor"></a><code><span>| </span><span><span class="constructor">E2BIG</span></span></code></td></tr><tr id="type-error.EACCES" class="anchored"><td class="def variant constructor"><a href="#type-error.EACCES" class="anchor"></a><code><span>| </span><span><span class="constructor">EACCES</span></span></code></td></tr><tr id="type-error.EAGAIN" class="anchored"><td class="def variant constructor"><a href="#type-error.EAGAIN" class="anchor"></a><code><span>| </span><span><span class="constructor">EAGAIN</span></span></code></td></tr><tr id="type-error.EBADF" class="anchored"><td class="def variant constructor"><a href="#type-error.EBADF" class="anchor"></a><code><span>| </span><span><span class="constructor">EBADF</span></span></code></td></tr><tr id="type-error.EBUSY" class="anchored"><td class="def variant constructor"><a href="#type-error.EBUSY" class="anchor"></a><code><span>| </span><span><span class="constructor">EBUSY</span></span></code></td></tr><tr id="type-error.ECHILD" class="anchored"><td class="def variant constructor"><a href="#type-error.ECHILD" class="anchor"></a><code><span>| </span><span><span class="constructor">ECHILD</span></span></code></td></tr><tr id="type-error.EDEADLK" class="anchored"><td class="def variant constructor"><a href="#type-error.EDEADLK" class="anchor"></a><code><span>| </span><span><span class="constructor">EDEADLK</span></span></code></td></tr><tr id="type-error.EDOM" class="anchored"><td class="def variant constructor"><a href="#type-error.EDOM" class="anchor"></a><code><span>| </span><span><span class="constructor">EDOM</span></span></code></td></tr><tr id="type-error.EEXIST" class="anchored"><td class="def variant constructor"><a href="#type-error.EEXIST" class="anchor"></a><code><span>| </span><span><span class="constructor">EEXIST</span></span></code></td></tr><tr id="type-error.EFAULT" class="anchored"><td class="def variant constructor"><a href="#type-error.EFAULT" class="anchor"></a><code><span>| </span><span><span class="constructor">EFAULT</span></span></code></td></tr><tr id="type-error.EFBIG" class="anchored"><td class="def variant constructor"><a href="#type-error.EFBIG" class="anchor"></a><code><span>| </span><span><span class="constructor">EFBIG</span></span></code></td></tr><tr id="type-error.EINTR" class="anchored"><td class="def variant constructor"><a href="#type-error.EINTR" class="anchor"></a><code><span>| </span><span><span class="constructor">EINTR</span></span></code></td></tr><tr id="type-error.EINVAL" class="anchored"><td class="def variant constructor"><a href="#type-error.EINVAL" class="anchor"></a><code><span>| </span><span><span class="constructor">EINVAL</span></span></code></td></tr><tr id="type-error.EIO" class="anchored"><td class="def variant constructor"><a href="#type-error.EIO" class="anchor"></a><code><span>| </span><span><span class="constructor">EIO</span></span></code></td></tr><tr id="type-error.EISDIR" class="anchored"><td class="def variant constructor"><a href="#type-error.EISDIR" class="anchor"></a><code><span>| </span><span><span class="constructor">EISDIR</span></span></code></td></tr><tr id="type-error.EMFILE" class="anchored"><td class="def variant constructor"><a href="#type-error.EMFILE" class="anchor"></a><code><span>| </span><span><span class="constructor">EMFILE</span></span></code></td></tr><tr id="type-error.EMLINK" class="anchored"><td class="def variant constructor"><a href="#type-error.EMLINK" class="anchor"></a><code><span>| </span><span><span class="constructor">EMLINK</span></span></code></td></tr><tr id="type-error.ENAMETOOLONG" class="anchored"><td class="def variant constructor"><a href="#type-error.ENAMETOOLONG" class="anchor"></a><code><span>| </span><span><span class="constructor">ENAMETOOLONG</span></span></code></td></tr><tr id="type-error.ENFILE" class="anchored"><td class="def variant constructor"><a href="#type-error.ENFILE" class="anchor"></a><code><span>| </span><span><span class="constructor">ENFILE</span></span></code></td></tr><tr id="type-error.ENODEV" class="anchored"><td class="def variant constructor"><a href="#type-error.ENODEV" class="anchor"></a><code><span>| </span><span><span class="constructor">ENODEV</span></span></code></td></tr><tr id="type-error.ENOENT" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOENT" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOENT</span></span></code></td></tr><tr id="type-error.ENOEXEC" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOEXEC" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOEXEC</span></span></code></td></tr><tr id="type-error.ENOLCK" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOLCK" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOLCK</span></span></code></td></tr><tr id="type-error.ENOMEM" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOMEM" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOMEM</span></span></code></td></tr><tr id="type-error.ENOSPC" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOSPC" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOSPC</span></span></code></td></tr><tr id="type-error.ENOSYS" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOSYS" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOSYS</span></span></code></td></tr><tr id="type-error.ENOTDIR" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOTDIR" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOTDIR</span></span></code></td></tr><tr id="type-error.ENOTEMPTY" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOTEMPTY" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOTEMPTY</span></span></code></td></tr><tr id="type-error.ENOTTY" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOTTY" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOTTY</span></span></code></td></tr><tr id="type-error.ENXIO" class="anchored"><td class="def variant constructor"><a href="#type-error.ENXIO" class="anchor"></a><code><span>| </span><span><span class="constructor">ENXIO</span></span></code></td></tr><tr id="type-error.EPERM" class="anchored"><td class="def variant constructor"><a href="#type-error.EPERM" class="anchor"></a><code><span>| </span><span><span class="constructor">EPERM</span></span></code></td></tr><tr id="type-error.EPIPE" class="anchored"><td class="def variant constructor"><a href="#type-error.EPIPE" class="anchor"></a><code><span>| </span><span><span class="constructor">EPIPE</span></span></code></td></tr><tr id="type-error.ERANGE" class="anchored"><td class="def variant constructor"><a href="#type-error.ERANGE" class="anchor"></a><code><span>| </span><span><span class="constructor">ERANGE</span></span></code></td></tr><tr id="type-error.EROFS" class="anchored"><td class="def variant constructor"><a href="#type-error.EROFS" class="anchor"></a><code><span>| </span><span><span class="constructor">EROFS</span></span></code></td></tr><tr id="type-error.ESPIPE" class="anchored"><td class="def variant constructor"><a href="#type-error.ESPIPE" class="anchor"></a><code><span>| </span><span><span class="constructor">ESPIPE</span></span></code></td></tr><tr id="type-error.ESRCH" class="anchored"><td class="def variant constructor"><a href="#type-error.ESRCH" class="anchor"></a><code><span>| </span><span><span class="constructor">ESRCH</span></span></code></td></tr><tr id="type-error.EXDEV" class="anchored"><td class="def variant constructor"><a href="#type-error.EXDEV" class="anchor"></a><code><span>| </span><span><span class="constructor">EXDEV</span></span></code></td></tr><tr id="type-error.EWOULDBLOCK" class="anchored"><td class="def variant constructor"><a href="#type-error.EWOULDBLOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">EWOULDBLOCK</span></span></code></td></tr><tr id="type-error.EINPROGRESS" class="anchored"><td class="def variant constructor"><a href="#type-error.EINPROGRESS" class="anchor"></a><code><span>| </span><span><span class="constructor">EINPROGRESS</span></span></code></td></tr><tr id="type-error.EALREADY" class="anchored"><td class="def variant constructor"><a href="#type-error.EALREADY" class="anchor"></a><code><span>| </span><span><span class="constructor">EALREADY</span></span></code></td></tr><tr id="type-error.ENOTSOCK" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOTSOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOTSOCK</span></span></code></td></tr><tr id="type-error.EDESTADDRREQ" class="anchored"><td class="def variant constructor"><a href="#type-error.EDESTADDRREQ" class="anchor"></a><code><span>| </span><span><span class="constructor">EDESTADDRREQ</span></span></code></td></tr><tr id="type-error.EMSGSIZE" class="anchored"><td class="def variant constructor"><a href="#type-error.EMSGSIZE" class="anchor"></a><code><span>| </span><span><span class="constructor">EMSGSIZE</span></span></code></td></tr><tr id="type-error.EPROTOTYPE" class="anchored"><td class="def variant constructor"><a href="#type-error.EPROTOTYPE" class="anchor"></a><code><span>| </span><span><span class="constructor">EPROTOTYPE</span></span></code></td></tr><tr id="type-error.ENOPROTOOPT" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOPROTOOPT" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOPROTOOPT</span></span></code></td></tr><tr id="type-error.EPROTONOSUPPORT" class="anchored"><td class="def variant constructor"><a href="#type-error.EPROTONOSUPPORT" class="anchor"></a><code><span>| </span><span><span class="constructor">EPROTONOSUPPORT</span></span></code></td></tr><tr id="type-error.ESOCKTNOSUPPORT" class="anchored"><td class="def variant constructor"><a href="#type-error.ESOCKTNOSUPPORT" class="anchor"></a><code><span>| </span><span><span class="constructor">ESOCKTNOSUPPORT</span></span></code></td></tr><tr id="type-error.EOPNOTSUPP" class="anchored"><td class="def variant constructor"><a href="#type-error.EOPNOTSUPP" class="anchor"></a><code><span>| </span><span><span class="constructor">EOPNOTSUPP</span></span></code></td></tr><tr id="type-error.EPFNOSUPPORT" class="anchored"><td class="def variant constructor"><a href="#type-error.EPFNOSUPPORT" class="anchor"></a><code><span>| </span><span><span class="constructor">EPFNOSUPPORT</span></span></code></td></tr><tr id="type-error.EAFNOSUPPORT" class="anchored"><td class="def variant constructor"><a href="#type-error.EAFNOSUPPORT" class="anchor"></a><code><span>| </span><span><span class="constructor">EAFNOSUPPORT</span></span></code></td></tr><tr id="type-error.EADDRINUSE" class="anchored"><td class="def variant constructor"><a href="#type-error.EADDRINUSE" class="anchor"></a><code><span>| </span><span><span class="constructor">EADDRINUSE</span></span></code></td></tr><tr id="type-error.EADDRNOTAVAIL" class="anchored"><td class="def variant constructor"><a href="#type-error.EADDRNOTAVAIL" class="anchor"></a><code><span>| </span><span><span class="constructor">EADDRNOTAVAIL</span></span></code></td></tr><tr id="type-error.ENETDOWN" class="anchored"><td class="def variant constructor"><a href="#type-error.ENETDOWN" class="anchor"></a><code><span>| </span><span><span class="constructor">ENETDOWN</span></span></code></td></tr><tr id="type-error.ENETUNREACH" class="anchored"><td class="def variant constructor"><a href="#type-error.ENETUNREACH" class="anchor"></a><code><span>| </span><span><span class="constructor">ENETUNREACH</span></span></code></td></tr><tr id="type-error.ENETRESET" class="anchored"><td class="def variant constructor"><a href="#type-error.ENETRESET" class="anchor"></a><code><span>| </span><span><span class="constructor">ENETRESET</span></span></code></td></tr><tr id="type-error.ECONNABORTED" class="anchored"><td class="def variant constructor"><a href="#type-error.ECONNABORTED" class="anchor"></a><code><span>| </span><span><span class="constructor">ECONNABORTED</span></span></code></td></tr><tr id="type-error.ECONNRESET" class="anchored"><td class="def variant constructor"><a href="#type-error.ECONNRESET" class="anchor"></a><code><span>| </span><span><span class="constructor">ECONNRESET</span></span></code></td></tr><tr id="type-error.ENOBUFS" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOBUFS" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOBUFS</span></span></code></td></tr><tr id="type-error.EISCONN" class="anchored"><td class="def variant constructor"><a href="#type-error.EISCONN" class="anchor"></a><code><span>| </span><span><span class="constructor">EISCONN</span></span></code></td></tr><tr id="type-error.ENOTCONN" class="anchored"><td class="def variant constructor"><a href="#type-error.ENOTCONN" class="anchor"></a><code><span>| </span><span><span class="constructor">ENOTCONN</span></span></code></td></tr><tr id="type-error.ESHUTDOWN" class="anchored"><td class="def variant constructor"><a href="#type-error.ESHUTDOWN" class="anchor"></a><code><span>| </span><span><span class="constructor">ESHUTDOWN</span></span></code></td></tr><tr id="type-error.ETOOMANYREFS" class="anchored"><td class="def variant constructor"><a href="#type-error.ETOOMANYREFS" class="anchor"></a><code><span>| </span><span><span class="constructor">ETOOMANYREFS</span></span></code></td></tr><tr id="type-error.ETIMEDOUT" class="anchored"><td class="def variant constructor"><a href="#type-error.ETIMEDOUT" class="anchor"></a><code><span>| </span><span><span class="constructor">ETIMEDOUT</span></span></code></td></tr><tr id="type-error.ECONNREFUSED" class="anchored"><td class="def variant constructor"><a href="#type-error.ECONNREFUSED" class="anchor"></a><code><span>| </span><span><span class="constructor">ECONNREFUSED</span></span></code></td></tr><tr id="type-error.EHOSTDOWN" class="anchored"><td class="def variant constructor"><a href="#type-error.EHOSTDOWN" class="anchor"></a><code><span>| </span><span><span class="constructor">EHOSTDOWN</span></span></code></td></tr><tr id="type-error.EHOSTUNREACH" class="anchored"><td class="def variant constructor"><a href="#type-error.EHOSTUNREACH" class="anchor"></a><code><span>| </span><span><span class="constructor">EHOSTUNREACH</span></span></code></td></tr><tr id="type-error.ELOOP" class="anchored"><td class="def variant constructor"><a href="#type-error.ELOOP" class="anchor"></a><code><span>| </span><span><span class="constructor">ELOOP</span></span></code></td></tr><tr id="type-error.EOVERFLOW" class="anchored"><td class="def variant constructor"><a href="#type-error.EOVERFLOW" class="anchor"></a><code><span>| </span><span><span class="constructor">EOVERFLOW</span></span></code></td></tr><tr id="type-error.EUNKNOWNERR" class="anchored"><td class="def variant constructor"><a href="#type-error.EUNKNOWNERR" class="anchor"></a><code><span>| </span><span><span class="constructor">EUNKNOWNERR</span> <span class="keyword">of</span> int</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_error" class="anchored"><a href="#val-sexp_of_error" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_error : <span><span class="xref-unresolved">Core_unix__</span>.Import.Unix.error <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Sexp/index.html#type-t">Core.Sexp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-error_of_sexp" class="anchored"><a href="#val-error_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> error_of_sexp : <span><a href="../../core/Core/Sexp/index.html#type-t">Core.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Core_unix__</span>.Import.Unix.error</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Error" class="anchored"><a href="#module-Error" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Error/index.html">Error</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Unix_error" class="anchored"><a href="#exception-Unix_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Unix_error</span> <span class="keyword">of</span> <a href="Error/index.html#type-t">Error.t</a> * string * string</span></code></div><div class="spec-doc"><p>Raised by the system calls below when an error is encountered. The first component is the error code; the second component is the function name; the third component is the string parameter to the function, if it has one, or the empty string otherwise.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Syscall_result" class="anchored"><a href="#module-Syscall_result" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Syscall_result/index.html">Syscall_result</a></span><span> : 
  <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Syscall_result/index.html">Syscall_result</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="Syscall_result/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="Syscall_result/index.html#type-t">Syscall_result.t</a></span></span></span></code></div><div class="spec-doc"><p>Representation of Unix system call results</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unix_error" class="anchored"><a href="#val-unix_error" class="anchor"></a><code><span><span class="keyword">val</span> unix_error : <span>int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">_</span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>with a given errno, function name and argument</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-error_message" class="anchored"><a href="#val-error_message" class="anchor"></a><code><span><span class="keyword">val</span> error_message : <span><a href="Error/index.html#type-t">Error.t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-handle_unix_error" class="anchored"><a href="#val-handle_unix_error" class="anchor"></a><code><span><span class="keyword">val</span> handle_unix_error : <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>handle_unix_error f</code> runs <code>f ()</code> and returns the result. If the exception <code>Unix_error</code> is raised, it prints a message describing the error and exits with code 2.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-retry_until_no_eintr" class="anchored"><a href="#val-retry_until_no_eintr" class="anchor"></a><code><span><span class="keyword">val</span> retry_until_no_eintr : <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>retry_until_no_eintr f</code> returns <code>f ()</code> unless <code>f ()</code> fails with <code>EINTR</code>; in which case <code>f ()</code> is run again until it raises a different error or returns a value.</p></div></div><h6 id="access-to-the-process-environment"><a href="#access-to-the-process-environment" class="anchor"></a>Access to the process environment</h6><p>If you're looking for <code>getenv</code>, that's in the Sys module.</p><div class="odoc-spec"><div class="spec value" id="val-environment" class="anchored"><a href="#val-environment" class="anchor"></a><code><span><span class="keyword">val</span> environment : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string array</span></span></code></div><div class="spec-doc"><p>Return the process environment, as an array of strings with the format ``variable=value''. The returned array is empty if the process has special privileges.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-putenv" class="anchored"><a href="#val-putenv" class="anchor"></a><code><span><span class="keyword">val</span> putenv : <span>key:string <span class="arrow">&#45;&gt;</span></span> <span>data:string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Unix.putenv ~key ~data</code> sets the value associated to a variable in the process environment. <code>key</code> is the name of the environment variable, and <code>data</code> its new associated value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsetenv" class="anchored"><a href="#val-unsetenv" class="anchor"></a><code><span><span class="keyword">val</span> unsetenv : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>unsetenv name</code> deletes the variable <code>name</code> from the environment.</p><p>EINVAL <code>name</code> contained an â€™=â€™ or an '\000' character.</p></div></div><h6 id="process-handling"><a href="#process-handling" class="anchor"></a>Process handling</h6><div class="odoc-spec"><div class="spec module" id="module-Exit" class="anchored"><a href="#module-Exit" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Exit/index.html">Exit</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The termination status of a process.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Exit_or_signal" class="anchored"><a href="#module-Exit_or_signal" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Exit_or_signal/index.html">Exit_or_signal</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Exit_or_signal_or_stop" class="anchored"><a href="#module-Exit_or_signal_or_stop" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Exit_or_signal_or_stop/index.html">Exit_or_signal_or_stop</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Env" class="anchored"><a href="#module-Env" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Env/index.html">Env</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-env" class="anchored"><a href="#type-env" class="anchor"></a><code><span><span class="keyword">type</span> env</span><span> = <a href="Env/index.html#type-t">Env.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_env" class="anchored"><a href="#val-sexp_of_env" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_env : <span><a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-env_of_sexp" class="anchored"><a href="#val-env_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> env_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-env">env</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Pgid" class="anchored"><a href="#module-Pgid" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Pgid/index.html">Pgid</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>this module mirrors <code>Spawn.Pgid</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-exec" class="anchored"><a href="#val-exec" class="anchor"></a><code><span><span class="keyword">val</span> exec : 
  <span>prog:string <span class="arrow">&#45;&gt;</span></span>
  <span>argv:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?use_path:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?env:<a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="../../core/Core/index.html#type-never_returns">Core.never_returns</a></span></code></div><div class="spec-doc"><p><code>exec ~prog ~argv ?search_path ?env</code> execs <code>prog</code> with <code>argv</code>. If <code>use_path = true</code> (the default) and <code>prog</code> doesn't contain a slash, then <code>exec</code> searches the <code>PATH</code> environment variable for <code>prog</code>. If <code>env</code> is supplied, it determines the environment when <code>prog</code> is executed.</p><p>While not strictly necessary, by convention, the first element in <code>argv</code> should be the name of the file being executed, e.g.:</p><pre><code>exec ~prog ~argv:[ prog; arg1; arg2; ...] () </code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-fork_exec" class="anchored"><a href="#val-fork_exec" class="anchor"></a><code><span><span class="keyword">val</span> fork_exec : 
  <span>prog:string <span class="arrow">&#45;&gt;</span></span>
  <span>argv:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?use_path:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?env:<a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></div><div class="spec-doc"><p><code>fork_exec ~prog ~argv ?use_path ?env ()</code> forks and execs <code>prog</code> with <code>argv</code> in the child process, returning the child PID to the parent. As in <code>exec</code>, by convention, the 0th element in <code>argv</code> should be the program itself.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fork" class="anchored"><a href="#val-fork" class="anchor"></a><code><span><span class="keyword">val</span> fork : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>[ `In_the_child <span><span>| `In_the_parent</span> of <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span> ]</span></span></code></div><div class="spec-doc"><p><code>fork ()</code> forks a new process. The return value indicates whether we are continuing in the child or the parent, and if the parent, includes the child's process id.</p></div></div><p><code>wait{,_nohang,_untraced,_nohang_untraced} ?restart wait_on</code> is a family of functions that wait on a process to exit (normally or via a signal) or be stopped by a signal (if <code>untraced</code> is used). The <code>wait_on</code> argument specifies which processes to wait on. The <code>nohang</code> variants return <code>None</code> immediately if none of the desired processes has exited yet. If <code>nohang</code> is not used, <code>waitpid</code> will block until one of the desired processes exits.</p><p>The non-nohang variants have a <code>restart</code> flag with (default true) that causes the system call to be retried upon EAGAIN|EINTR. The nohang variants do not have this flag because they don't block.</p><div class="odoc-spec"><div class="spec type" id="type-wait_on" class="anchored"><a href="#type-wait_on" class="anchor"></a><code><span><span class="keyword">type</span> wait_on</span><span> = </span><span>[ </span></code><table><tr id="type-wait_on.Any" class="anchored"><td class="def constructor"><a href="#type-wait_on.Any" class="anchor"></a><code><span>| </span></code><code><span>`Any</span></code></td></tr><tr id="type-wait_on.Group" class="anchored"><td class="def constructor"><a href="#type-wait_on.Group" class="anchor"></a><code><span>| </span></code><code><span>`Group <span class="keyword">of</span> <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></td></tr><tr id="type-wait_on.My_group" class="anchored"><td class="def constructor"><a href="#type-wait_on.My_group" class="anchor"></a><code><span>| </span></code><code><span>`My_group</span></code></td></tr><tr id="type-wait_on.Pid" class="anchored"><td class="def constructor"><a href="#type-wait_on.Pid" class="anchor"></a><code><span>| </span></code><code><span>`Pid <span class="keyword">of</span> <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_wait_on" class="anchored"><a href="#val-sexp_of_wait_on" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_wait_on : <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_on_of_sexp" class="anchored"><a href="#val-wait_on_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> wait_on_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-wait_on">wait_on</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__wait_on_of_sexp__" class="anchored"><a href="#val-__wait_on_of_sexp__" class="anchor"></a><code><span><span class="keyword">val</span> __wait_on_of_sexp__ : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-wait_on">wait_on</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait" class="anchored"><a href="#val-wait" class="anchor"></a><code><span><span class="keyword">val</span> wait : <span>?restart:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_nohang" class="anchored"><a href="#val-wait_nohang" class="anchor"></a><code><span><span class="keyword">val</span> wait_nohang : <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_untraced" class="anchored"><a href="#val-wait_untraced" class="anchor"></a><code><span><span class="keyword">val</span> wait_untraced : 
  <span>?restart:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="Exit_or_signal_or_stop/index.html#type-t">Exit_or_signal_or_stop.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-wait_nohang_untraced" class="anchored"><a href="#val-wait_nohang_untraced" class="anchor"></a><code><span><span class="keyword">val</span> wait_nohang_untraced : 
  <span><a href="#type-wait_on">wait_on</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> * <a href="Exit_or_signal_or_stop/index.html#type-t">Exit_or_signal_or_stop.t</a>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-waitpid" class="anchored"><a href="#val-waitpid" class="anchor"></a><code><span><span class="keyword">val</span> waitpid : <span><a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a></span></code></div><div class="spec-doc"><p><code>waitpid pid</code> waits for child process <code>pid</code> to terminate, and returns its exit status. <code>waitpid_exn</code> is like <code>waitpid</code>, except it only returns if the child exits with status zero, and raises if the child terminates in any other way.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-waitpid_exn" class="anchored"><a href="#val-waitpid_exn" class="anchor"></a><code><span><span class="keyword">val</span> waitpid_exn : <span><a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-system" class="anchored"><a href="#val-system" class="anchor"></a><code><span><span class="keyword">val</span> system : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a></span></code></div><div class="spec-doc"><p>Execute the given command, wait until it terminates, and return its termination status. The string is interpreted by the shell <code>/bin/sh</code> and therefore can contain redirections, quotes, variables, etc. The result <code>WEXITED 127</code> indicates that the shell couldn't be executed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getpid" class="anchored"><a href="#val-getpid" class="anchor"></a><code><span><span class="keyword">val</span> getpid : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></div><div class="spec-doc"><p>Return the pid of the process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getppid" class="anchored"><a href="#val-getppid" class="anchor"></a><code><span><span class="keyword">val</span> getppid : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> option</span></span></code></div><div class="spec-doc"><p>Return the pid of the parent process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getppid_exn" class="anchored"><a href="#val-getppid_exn" class="anchor"></a><code><span><span class="keyword">val</span> getppid_exn : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></div><div class="spec-doc"><p>Return the pid of the parent process, if you're really sure you're never going to be the init process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setpgid" class="anchored"><a href="#val-setpgid" class="anchor"></a><code><span><span class="keyword">val</span> setpgid : <span>of_:<a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> <span>to_:<a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set process group ID of a process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getpgid" class="anchored"><a href="#val-getpgid" class="anchor"></a><code><span><span class="keyword">val</span> getpgid : <span><a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Pid/index.html#type-t">Core.Pid.t</a></span></code></div><div class="spec-doc"><p>Return process group ID of a process.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Thread_id" class="anchored"><a href="#module-Thread_id" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Thread_id/index.html">Thread_id</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-gettid" class="anchored"><a href="#val-gettid" class="anchor"></a><code><span><span class="keyword">val</span> gettid : <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="Thread_id/index.html#type-t">Thread_id.t</a> )</span> <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p>Get the numeric ID of the current thread, e.g. for identifying it in top(1).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nice" class="anchored"><a href="#val-nice" class="anchor"></a><code><span><span class="keyword">val</span> nice : <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Change the process priority. The integer argument is added to the ``nice'' value. (Higher values of the ``nice'' value mean lower priorities.) Return the new nice value.</p></div></div><h6 id="basic-file-input/output"><a href="#basic-file-input/output" class="anchor"></a>Basic file input/output</h6><p>The abstract type of file descriptors.</p><div class="odoc-spec"><div class="spec value" id="val-stdin" class="anchored"><a href="#val-stdin" class="anchor"></a><code><span><span class="keyword">val</span> stdin : <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>File descriptor for standard input.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-stdout" class="anchored"><a href="#val-stdout" class="anchor"></a><code><span><span class="keyword">val</span> stdout : <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>File descriptor for standard output.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-stderr" class="anchored"><a href="#val-stderr" class="anchor"></a><code><span><span class="keyword">val</span> stderr : <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>File descriptor for standard standard error.</p></div></div><p>The flags to <code>UnixLabels</code>.openfile.</p><div class="odoc-spec"><div class="spec type" id="type-open_flag" class="anchored"><a href="#type-open_flag" class="anchor"></a><code><span><span class="keyword">type</span> open_flag</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.open_flag</span><span> = </span></code><table><tr id="type-open_flag.O_RDONLY" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_RDONLY" class="anchor"></a><code><span>| </span><span><span class="constructor">O_RDONLY</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Open for reading</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_WRONLY" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_WRONLY" class="anchor"></a><code><span>| </span><span><span class="constructor">O_WRONLY</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Open for writing</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_RDWR" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_RDWR" class="anchor"></a><code><span>| </span><span><span class="constructor">O_RDWR</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Open for reading and writing</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_NONBLOCK" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_NONBLOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">O_NONBLOCK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Open in non-blocking mode</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_APPEND" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_APPEND" class="anchor"></a><code><span>| </span><span><span class="constructor">O_APPEND</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Open for append</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_CREAT" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_CREAT" class="anchor"></a><code><span>| </span><span><span class="constructor">O_CREAT</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Create if nonexistent</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_TRUNC" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_TRUNC" class="anchor"></a><code><span>| </span><span><span class="constructor">O_TRUNC</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Truncate to 0 length if existing</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_EXCL" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_EXCL" class="anchor"></a><code><span>| </span><span><span class="constructor">O_EXCL</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Fail if existing</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_NOCTTY" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_NOCTTY" class="anchor"></a><code><span>| </span><span><span class="constructor">O_NOCTTY</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Don't make this dev a controlling tty</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_DSYNC" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_DSYNC" class="anchor"></a><code><span>| </span><span><span class="constructor">O_DSYNC</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Writes complete as `Synchronised I/O data integrity completion'</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_SYNC" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_SYNC" class="anchor"></a><code><span>| </span><span><span class="constructor">O_SYNC</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Writes complete as `Synchronised I/O file integrity completion'</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_RSYNC" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_RSYNC" class="anchor"></a><code><span>| </span><span><span class="constructor">O_RSYNC</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Reads complete as writes (depending on O_SYNC/O_DSYNC)</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_SHARE_DELETE" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_SHARE_DELETE" class="anchor"></a><code><span>| </span><span><span class="constructor">O_SHARE_DELETE</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Windows only: allow the file to be deleted while still open</p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_CLOEXEC" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_CLOEXEC" class="anchor"></a><code><span>| </span><span><span class="constructor">O_CLOEXEC</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Set the close-on-exec flag on the descriptor returned by <a href="#val-openfile"><code>openfile</code></a></p><span class="comment-delim">*)</span></td></tr><tr id="type-open_flag.O_KEEPEXEC" class="anchored"><td class="def variant constructor"><a href="#type-open_flag.O_KEEPEXEC" class="anchor"></a><code><span>| </span><span><span class="constructor">O_KEEPEXEC</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-open_flag_of_sexp" class="anchored"><a href="#val-open_flag_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> open_flag_of_sexp : <span><a href="../../core/Core/Sexp/index.html#type-t">Core.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-open_flag">open_flag</a></span></code></div><div class="spec-doc"><p>We can't use <code>with sexp</code> because pa_sexp inserts two copies of the <code>val</code> specs, which leads to a spurious &quot;unused&quot; warning.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_open_flag" class="anchored"><a href="#val-sexp_of_open_flag" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_open_flag : <span><a href="#type-open_flag">open_flag</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Sexp/index.html#type-t">Core.Sexp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-file_perm" class="anchored"><a href="#type-file_perm" class="anchor"></a><code><span><span class="keyword">type</span> file_perm</span><span> = int</span></code></div><div class="spec-doc"><p>file access rights</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_file_perm" class="anchored"><a href="#val-sexp_of_file_perm" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_file_perm : <span><a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-file_perm_of_sexp" class="anchored"><a href="#val-file_perm_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> file_perm_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-file_perm">file_perm</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-openfile" class="anchored"><a href="#val-openfile" class="anchor"></a><code><span><span class="keyword">val</span> openfile : <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> <span>mode:<span><a href="#type-open_flag">open_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>Open the named file with the given flags. Third argument is the permissions to give to the file if it is created. Return a file descriptor on the named file. Default permissions 0o644.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Open_flags" class="anchored"><a href="#module-Open_flags" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Open_flags/index.html">Open_flags</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fcntl_getfl" class="anchored"><a href="#val-fcntl_getfl" class="anchor"></a><code><span><span class="keyword">val</span> fcntl_getfl : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Open_flags/index.html#type-t">Open_flags.t</a></span></code></div><div class="spec-doc"><p><code>fcntl_getfl fd</code> gets the current flags for <code>fd</code> from the open-file-descriptor table via the system call <code>fcntl(fd, F_GETFL)</code>. See &quot;man fcntl&quot;.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fcntl_setfl" class="anchored"><a href="#val-fcntl_setfl" class="anchor"></a><code><span><span class="keyword">val</span> fcntl_setfl : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Open_flags/index.html#type-t">Open_flags.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>fcntl_setfl fd flags</code> sets the flags for <code>fd</code> in the open-file-descriptor table via the system call <code>fcntl(fd, F_SETFL, flags)</code>. See &quot;man fcntl&quot;. As per the Linux man page, on Linux this only allows <code>append</code>, <code>async</code>, <code>direct</code>, <code>noatime</code>, and <code>nonblock</code> to be set.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-close" class="anchored"><a href="#val-close" class="anchor"></a><code><span><span class="keyword">val</span> close : <span>?restart:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Close a file descriptor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-with_file" class="anchored"><a href="#val-with_file" class="anchor"></a><code><span><span class="keyword">val</span> with_file : 
  <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-open_flag">open_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>with_file file ~mode ~perm ~f</code> opens <code>file</code>, and applies <code>f</code> to the resulting file descriptor. When <code>f</code> finishes (or raises), <code>with_file</code> closes the descriptor and returns the result of <code>f</code> (or raises).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read" class="anchored"><a href="#val-read" class="anchor"></a><code><span><span class="keyword">val</span> read : 
  <span>?restart:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:<a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>read fd buff ofs len</code> reads <code>len</code> characters from descriptor <code>fd</code>, storing them in string <code>buff</code>, starting at position <code>ofs</code> in string <code>buff</code>. Return the number of characters actually read.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write" class="anchored"><a href="#val-write" class="anchor"></a><code><span><span class="keyword">val</span> write : <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>buf:<a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>write fd buff ofs len</code> writes <code>len</code> characters to descriptor <code>fd</code>, taking them from bytes <code>buff</code>, starting at position <code>ofs</code> in bytes <code>buff</code>. Return the number of characters actually written.</p><p>When an error is reported some characters might have already been written. Use <code>single_write</code> instead to ensure that this is not the case.</p><p>WARNING: write is an interruptible call and has no way to handle EINTR properly. You should most probably be using single write.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_substring" class="anchored"><a href="#val-write_substring" class="anchor"></a><code><span><span class="keyword">val</span> write_substring : <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>buf:string <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Same as <code>write</code> but with a string buffer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-single_write" class="anchored"><a href="#val-single_write" class="anchor"></a><code><span><span class="keyword">val</span> single_write : 
  <span>?restart:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:<a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Same as <code>write</code> but ensures that all errors are reported and that no character has ever been written when an error is reported.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-single_write_substring" class="anchored"><a href="#val-single_write_substring" class="anchor"></a><code><span><span class="keyword">val</span> single_write_substring : 
  <span>?restart:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:string <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Same as <code>single_write</code> but with a string buffer.</p></div></div><h6 id="interfacing-with-the-standard-input/output-library"><a href="#interfacing-with-the-standard-input/output-library" class="anchor"></a>Interfacing with the standard input/output library</h6><div class="odoc-spec"><div class="spec value" id="val-in_channel_of_descr" class="anchored"><a href="#val-in_channel_of_descr" class="anchor"></a><code><span><span class="keyword">val</span> in_channel_of_descr : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a></span></code></div><div class="spec-doc"><p>Create an input channel reading from the given descriptor. The channel is initially in binary mode; use <code>set_binary_mode_in ic false</code> if text mode is desired.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-out_channel_of_descr" class="anchored"><a href="#val-out_channel_of_descr" class="anchor"></a><code><span><span class="keyword">val</span> out_channel_of_descr : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a></span></code></div><div class="spec-doc"><p>Create an output channel writing on the given descriptor. The channel is initially in binary mode; use <code>set_binary_mode_out oc false</code> if text mode is desired.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-descr_of_in_channel" class="anchored"><a href="#val-descr_of_in_channel" class="anchor"></a><code><span><span class="keyword">val</span> descr_of_in_channel : <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>Return the descriptor corresponding to an input channel.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-descr_of_out_channel" class="anchored"><a href="#val-descr_of_out_channel" class="anchor"></a><code><span><span class="keyword">val</span> descr_of_out_channel : <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>Return the descriptor corresponding to an output channel.</p></div></div><h6 id="seeking-and-truncating"><a href="#seeking-and-truncating" class="anchor"></a>Seeking and truncating</h6><div class="odoc-spec"><div class="spec type" id="type-seek_command" class="anchored"><a href="#type-seek_command" class="anchor"></a><code><span><span class="keyword">type</span> seek_command</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.seek_command</span><span> = </span></code><table><tr id="type-seek_command.SEEK_SET" class="anchored"><td class="def variant constructor"><a href="#type-seek_command.SEEK_SET" class="anchor"></a><code><span>| </span><span><span class="constructor">SEEK_SET</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>indicates positions relative to the beginning of the file</p><span class="comment-delim">*)</span></td></tr><tr id="type-seek_command.SEEK_CUR" class="anchored"><td class="def variant constructor"><a href="#type-seek_command.SEEK_CUR" class="anchor"></a><code><span>| </span><span><span class="constructor">SEEK_CUR</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>indicates positions relative to the current position</p><span class="comment-delim">*)</span></td></tr><tr id="type-seek_command.SEEK_END" class="anchored"><td class="def variant constructor"><a href="#type-seek_command.SEEK_END" class="anchor"></a><code><span>| </span><span><span class="constructor">SEEK_END</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>indicates positions relative to the end of the file</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>POSITIONING modes for <code>UnixLabels</code>.lseek.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_seek_command" class="anchored"><a href="#val-sexp_of_seek_command" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_seek_command : <span><a href="#type-seek_command">seek_command</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-seek_command_of_sexp" class="anchored"><a href="#val-seek_command_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> seek_command_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-seek_command">seek_command</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lseek" class="anchored"><a href="#val-lseek" class="anchor"></a><code><span><span class="keyword">val</span> lseek : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int64 <span class="arrow">&#45;&gt;</span></span> <span>mode:<a href="#type-seek_command">seek_command</a> <span class="arrow">&#45;&gt;</span></span> int64</span></code></div><div class="spec-doc"><p>Set the current position for a file descriptor</p></div></div><div class="odoc-spec"><div class="spec value" id="val-truncate" class="anchored"><a href="#val-truncate" class="anchor"></a><code><span><span class="keyword">val</span> truncate : <span>string <span class="arrow">&#45;&gt;</span></span> <span>len:int64 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Truncates the named file to the given size.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ftruncate" class="anchored"><a href="#val-ftruncate" class="anchor"></a><code><span><span class="keyword">val</span> ftruncate : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>len:int64 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Truncates the file corresponding to the given descriptor to the given size.</p></div></div><h6 id="file-statistics"><a href="#file-statistics" class="anchor"></a>File statistics</h6><div class="odoc-spec"><div class="spec type" id="type-file_kind" class="anchored"><a href="#type-file_kind" class="anchor"></a><code><span><span class="keyword">type</span> file_kind</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.file_kind</span><span> = </span></code><table><tr id="type-file_kind.S_REG" class="anchored"><td class="def variant constructor"><a href="#type-file_kind.S_REG" class="anchor"></a><code><span>| </span><span><span class="constructor">S_REG</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Regular file</p><span class="comment-delim">*)</span></td></tr><tr id="type-file_kind.S_DIR" class="anchored"><td class="def variant constructor"><a href="#type-file_kind.S_DIR" class="anchor"></a><code><span>| </span><span><span class="constructor">S_DIR</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Directory</p><span class="comment-delim">*)</span></td></tr><tr id="type-file_kind.S_CHR" class="anchored"><td class="def variant constructor"><a href="#type-file_kind.S_CHR" class="anchor"></a><code><span>| </span><span><span class="constructor">S_CHR</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Character device</p><span class="comment-delim">*)</span></td></tr><tr id="type-file_kind.S_BLK" class="anchored"><td class="def variant constructor"><a href="#type-file_kind.S_BLK" class="anchor"></a><code><span>| </span><span><span class="constructor">S_BLK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Block device</p><span class="comment-delim">*)</span></td></tr><tr id="type-file_kind.S_LNK" class="anchored"><td class="def variant constructor"><a href="#type-file_kind.S_LNK" class="anchor"></a><code><span>| </span><span><span class="constructor">S_LNK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Symbolic link</p><span class="comment-delim">*)</span></td></tr><tr id="type-file_kind.S_FIFO" class="anchored"><td class="def variant constructor"><a href="#type-file_kind.S_FIFO" class="anchor"></a><code><span>| </span><span><span class="constructor">S_FIFO</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Named pipe</p><span class="comment-delim">*)</span></td></tr><tr id="type-file_kind.S_SOCK" class="anchored"><td class="def variant constructor"><a href="#type-file_kind.S_SOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">S_SOCK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Socket</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_file_kind" class="anchored"><a href="#val-sexp_of_file_kind" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_file_kind : <span><a href="#type-file_kind">file_kind</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-file_kind_of_sexp" class="anchored"><a href="#val-file_kind_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> file_kind_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-file_kind">file_kind</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-stats" class="anchored"><a href="#type-stats" class="anchor"></a><code><span><span class="keyword">type</span> stats</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.LargeFile.stats</span><span> = </span><span>{</span></code><table><tr id="type-stats.st_dev" class="anchored"><td class="def record field"><a href="#type-stats.st_dev" class="anchor"></a><code><span>st_dev : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Device number</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_ino" class="anchored"><td class="def record field"><a href="#type-stats.st_ino" class="anchor"></a><code><span>st_ino : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Inode number</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_kind" class="anchored"><td class="def record field"><a href="#type-stats.st_kind" class="anchor"></a><code><span>st_kind : <a href="#type-file_kind">file_kind</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Kind of the file</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_perm" class="anchored"><td class="def record field"><a href="#type-stats.st_perm" class="anchor"></a><code><span>st_perm : <a href="#type-file_perm">file_perm</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Access rights</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_nlink" class="anchored"><td class="def record field"><a href="#type-stats.st_nlink" class="anchor"></a><code><span>st_nlink : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Number of links</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_uid" class="anchored"><td class="def record field"><a href="#type-stats.st_uid" class="anchor"></a><code><span>st_uid : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>User id of the owner</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_gid" class="anchored"><td class="def record field"><a href="#type-stats.st_gid" class="anchor"></a><code><span>st_gid : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Group ID of the file's group</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_rdev" class="anchored"><td class="def record field"><a href="#type-stats.st_rdev" class="anchor"></a><code><span>st_rdev : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Device minor number</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_size" class="anchored"><td class="def record field"><a href="#type-stats.st_size" class="anchor"></a><code><span>st_size : int64;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Size in bytes</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_atime" class="anchored"><td class="def record field"><a href="#type-stats.st_atime" class="anchor"></a><code><span>st_atime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Last access time</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_mtime" class="anchored"><td class="def record field"><a href="#type-stats.st_mtime" class="anchor"></a><code><span>st_mtime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Last modification time</p><span class="comment-delim">*)</span></td></tr><tr id="type-stats.st_ctime" class="anchored"><td class="def record field"><a href="#type-stats.st_ctime" class="anchor"></a><code><span>st_ctime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Last status change time</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The informations returned by the <code>UnixLabels</code>.stat calls. The times are <code>float</code> number of seconds since the epoch; we don't use <code>Time.t</code> because <code>Time</code> depends on <code>Unix</code>, so the fix isn't so trivial. Same for <code>Native_file.stats</code> below.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_stats" class="anchored"><a href="#val-sexp_of_stats" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_stats : <span><a href="#type-stats">stats</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-stats_of_sexp" class="anchored"><a href="#val-stats_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> stats_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-stats">stats</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-stat" class="anchored"><a href="#val-stat" class="anchor"></a><code><span><span class="keyword">val</span> stat : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-stats">stats</a></span></code></div><div class="spec-doc"><p>Return the information for the named file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lstat" class="anchored"><a href="#val-lstat" class="anchor"></a><code><span><span class="keyword">val</span> lstat : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-stats">stats</a></span></code></div><div class="spec-doc"><p>Same as <code>UnixLabels</code>.stat, but in case the file is a symbolic link, return the information for the link itself.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fstat" class="anchored"><a href="#val-fstat" class="anchor"></a><code><span><span class="keyword">val</span> fstat : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-stats">stats</a></span></code></div><div class="spec-doc"><p>Return the information for the file associated with the given descriptor.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Native_file" class="anchored"><a href="#module-Native_file" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Native_file/index.html">Native_file</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This sub-module provides the normal OCaml Unix functions that deal with file size using native ints. These are here because, in general, you should be using 64bit file operations so that large files aren't an issue. If you have a real need to use potentially 31bit file operations (and you should be dubious of such a need) you can open this module</p></div></div><h6 id="locking"><a href="#locking" class="anchor"></a>Locking</h6><div class="odoc-spec"><div class="spec type" id="type-lock_command" class="anchored"><a href="#type-lock_command" class="anchor"></a><code><span><span class="keyword">type</span> lock_command</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.lock_command</span><span> = </span></code><table><tr id="type-lock_command.F_ULOCK" class="anchored"><td class="def variant constructor"><a href="#type-lock_command.F_ULOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">F_ULOCK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Unlock a region</p><span class="comment-delim">*)</span></td></tr><tr id="type-lock_command.F_LOCK" class="anchored"><td class="def variant constructor"><a href="#type-lock_command.F_LOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">F_LOCK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Lock a region for writing, and block if already locked</p><span class="comment-delim">*)</span></td></tr><tr id="type-lock_command.F_TLOCK" class="anchored"><td class="def variant constructor"><a href="#type-lock_command.F_TLOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">F_TLOCK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Lock a region for writing, or fail if already locked</p><span class="comment-delim">*)</span></td></tr><tr id="type-lock_command.F_TEST" class="anchored"><td class="def variant constructor"><a href="#type-lock_command.F_TEST" class="anchor"></a><code><span>| </span><span><span class="constructor">F_TEST</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Test a region for other process locks</p><span class="comment-delim">*)</span></td></tr><tr id="type-lock_command.F_RLOCK" class="anchored"><td class="def variant constructor"><a href="#type-lock_command.F_RLOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">F_RLOCK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Lock a region for reading, and block if already locked</p><span class="comment-delim">*)</span></td></tr><tr id="type-lock_command.F_TRLOCK" class="anchored"><td class="def variant constructor"><a href="#type-lock_command.F_TRLOCK" class="anchor"></a><code><span>| </span><span><span class="constructor">F_TRLOCK</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Lock a region for reading, or fail if already locked</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Commands for <a href="#val-lockf"><code>lockf</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_lock_command" class="anchored"><a href="#val-sexp_of_lock_command" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_lock_command : <span><a href="#type-lock_command">lock_command</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lock_command_of_sexp" class="anchored"><a href="#val-lock_command_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> lock_command_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-lock_command">lock_command</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lockf" class="anchored"><a href="#val-lockf" class="anchor"></a><code><span><span class="keyword">val</span> lockf : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>mode:<a href="#type-lock_command">lock_command</a> <span class="arrow">&#45;&gt;</span></span> <span>len:<a href="../../core/Core/Int64/index.html#type-t">Core.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>lockf fd cmd size</code> place a lock on a file_descr that prevents any other process from calling lockf successfully on the same file. Due to a limitation in the current implementation the length will be converted to a native int, potentially throwing an exception if it is too large.</p><p>Note that, despite the name, this function does not call the UNIX lockf() system call; rather it calls fcntl() with one of F_SETLK, F_SETLKW, or F_GETLK.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Flock_command" class="anchored"><a href="#module-Flock_command" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Flock_command/index.html">Flock_command</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-flock" class="anchored"><a href="#val-flock" class="anchor"></a><code><span><span class="keyword">val</span> flock : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Flock_command/index.html#type-t">Flock_command.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>flock fd cmd</code> places or releases a lock on the fd as per the flock C call of the same name. The request is &quot;nonblocking&quot; (LOCK_NB in C), meaning that if the lock cannot be granted immediately, the return value is false. However, the system call still blocks until the lock status can be ascertained. <code>true</code> is returned if the lock was granted.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-flock_blocking" class="anchored"><a href="#val-flock_blocking" class="anchor"></a><code><span><span class="keyword">val</span> flock_blocking : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Flock_command/index.html#type-t">Flock_command.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>flock_blocking fd cmd</code> places or releases a lock on the fd as per the flock C call. The function does not return until a lock can be granted.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-isatty" class="anchored"><a href="#val-isatty" class="anchor"></a><code><span><span class="keyword">val</span> isatty : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Return <code>true</code> if the given file descriptor refers to a terminal or console window, <code>false</code> otherwise.</p></div></div><h6 id="mapping-files-into-memory"><a href="#mapping-files-into-memory" class="anchor"></a>Mapping files into memory</h6><div class="odoc-spec"><div class="spec value" id="val-map_file" class="anchored"><a href="#val-map_file" class="anchor"></a><code><span><span class="keyword">val</span> map_file : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int64 <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'b</span> )</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.kind</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'c</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.layout</span> <span class="arrow">&#45;&gt;</span></span>
  <span>shared:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span> )</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Genarray.t</span></span></code></div><div class="spec-doc"><p>Memory mapping of a file as a big array. <code>map_file fd kind layout ~shared dims</code> returns a big array of kind <code>kind</code>, layout <code>layout</code>, and dimensions as specified in <code>dims</code>.</p><p>The data contained in this big array are the contents of the file referred to by the file descriptor <code>fd</code>.</p><p>The optional <code>pos</code> parameter is the byte offset in the file of the data being mapped. It defaults to 0.</p><p>If <code>shared</code> is <code>true</code>, all modifications performed on the array are reflected in the file. This requires that <code>fd</code> be opened with write permissions. If <code>shared</code> is <code>false</code>, modifications performed on the array are done in memory only, using copy-on-write of the modified pages; the underlying file is not affected.</p><p>To adjust automatically the dimensions of the big array to the actual size of the file, the major dimension (that is, the first dimension for an array with C layout, and the last dimension for an array with Fortran layout) can be given as <code>-1</code>. <code>map_file</code> then determines the major dimension from the size of the file. The file must contain an integral number of sub-arrays as determined by the non-major dimensions, otherwise <code>Failure</code> is raised. If all dimensions of the big array are given, the file size is matched against the size of the big array. If the file is larger than the big array, only the initial portion of the file is mapped to the big array. If the file is smaller than the bigarray, the file is automatically grown to the size of the big array. This requires write permissions on <code>fd</code>.</p><p>Array accesses are bounds-checked, but the bounds are determined by the initial call to <code>map_file</code>. Therefore, you should make sure no other process modifies the mapped file while you're accessing it, or a SIGBUS signal may be raised. This happens, for instance, if the file is shrunk. <code>Invalid_argument</code> or <code>Failure</code> may be raised in cases where argument validation fails.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.05.0</li></ul></div></div><h6 id="operations-on-file-names"><a href="#operations-on-file-names" class="anchor"></a>Operations on file names</h6><div class="odoc-spec"><div class="spec value" id="val-unlink" class="anchored"><a href="#val-unlink" class="anchor"></a><code><span><span class="keyword">val</span> unlink : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Removes the named file</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span><span class="keyword">val</span> remove : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Removes the named file or directory</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rename" class="anchored"><a href="#val-rename" class="anchor"></a><code><span><span class="keyword">val</span> rename : <span>src:string <span class="arrow">&#45;&gt;</span></span> <span>dst:string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>rename old new</code> changes the name of a file from <code>old</code> to <code>new</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-link" class="anchored"><a href="#val-link" class="anchor"></a><code><span><span class="keyword">val</span> link : <span>?force:bool <span class="arrow">&#45;&gt;</span></span> <span>target:string <span class="arrow">&#45;&gt;</span></span> <span>link_name:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>link ?force ~target ~link_name ()</code> creates a hard link named <code>link_name</code> to the file named <code>target</code>. If <code>force</code> is true, an existing entry in place of <code>link_name</code> will be unlinked. This unlinking may raise a Unix error, e.g. if the entry is a directory.</p></div></div><h6 id="file-permissions-and-ownership"><a href="#file-permissions-and-ownership" class="anchor"></a>File permissions and ownership</h6><div class="odoc-spec"><div class="spec value" id="val-chmod" class="anchored"><a href="#val-chmod" class="anchor"></a><code><span><span class="keyword">val</span> chmod : <span>string <span class="arrow">&#45;&gt;</span></span> <span>perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Change the permissions of the named file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fchmod" class="anchored"><a href="#val-fchmod" class="anchor"></a><code><span><span class="keyword">val</span> fchmod : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Change the permissions of an opened file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-chown" class="anchored"><a href="#val-chown" class="anchor"></a><code><span><span class="keyword">val</span> chown : <span>string <span class="arrow">&#45;&gt;</span></span> <span>uid:int <span class="arrow">&#45;&gt;</span></span> <span>gid:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Change the owner uid and owner gid of the named file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fchown" class="anchored"><a href="#val-fchown" class="anchor"></a><code><span><span class="keyword">val</span> fchown : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>uid:int <span class="arrow">&#45;&gt;</span></span> <span>gid:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Change the owner uid and owner gid of an opened file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-umask" class="anchored"><a href="#val-umask" class="anchor"></a><code><span><span class="keyword">val</span> umask : <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Set the process creation mask, and return the previous mask.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-access" class="anchored"><a href="#val-access" class="anchor"></a><code><span><span class="keyword">val</span> access : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>[ `Read <span>| `Write</span> <span>| `Exec</span> <span>| `Exists</span> ]</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( unit, exn )</span> <a href="../../core/Core/Result/index.html#type-t">Core.Result.t</a></span></span></code></div><div class="spec-doc"><p>Check that the process has the given permissions over the named file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-access_exn" class="anchored"><a href="#val-access_exn" class="anchor"></a><code><span><span class="keyword">val</span> access_exn : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>[ `Read <span>| `Write</span> <span>| `Exec</span> <span>| `Exists</span> ]</span> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h6 id="operations-on-file-descriptors"><a href="#operations-on-file-descriptors" class="anchor"></a>Operations on file descriptors</h6><div class="odoc-spec"><div class="spec value" id="val-dup" class="anchored"><a href="#val-dup" class="anchor"></a><code><span><span class="keyword">val</span> dup : <span>?close_on_exec:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>Return a new file descriptor referencing the same file as the given descriptor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dup2" class="anchored"><a href="#val-dup2" class="anchor"></a><code><span><span class="keyword">val</span> dup2 : 
  <span>?close_on_exec:bool <span class="arrow">&#45;&gt;</span></span>
  <span>src:<a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>dst:<a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>dup2 ~src ~dst</code> duplicates <code>src</code> to <code>dst</code>, closing <code>dst</code> if already opened.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_nonblock" class="anchored"><a href="#val-set_nonblock" class="anchor"></a><code><span><span class="keyword">val</span> set_nonblock : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the ``non-blocking'' flag on the given descriptor. When the non-blocking flag is set, reading on a descriptor on which there is temporarily no data available raises the <code>EAGAIN</code> or <code>EWOULDBLOCK</code> error instead of blocking; writing on a descriptor on which there is temporarily no room for writing also raises <code>EAGAIN</code> or <code>EWOULDBLOCK</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear_nonblock" class="anchored"><a href="#val-clear_nonblock" class="anchor"></a><code><span><span class="keyword">val</span> clear_nonblock : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear the ``non-blocking'' flag on the given descriptor. See <code>UnixLabels</code>.set_nonblock.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_close_on_exec" class="anchored"><a href="#val-set_close_on_exec" class="anchor"></a><code><span><span class="keyword">val</span> set_close_on_exec : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the ``close-on-exec'' flag on the given descriptor. A descriptor with the close-on-exec flag is automatically closed when the current process starts another program with one of the <code>exec</code> functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear_close_on_exec" class="anchored"><a href="#val-clear_close_on_exec" class="anchor"></a><code><span><span class="keyword">val</span> clear_close_on_exec : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear the ``close-on-exec'' flag on the given descriptor. See <code>UnixLabels</code>.set_close_on_exec.</p></div></div><h6 id="directories"><a href="#directories" class="anchor"></a>Directories</h6><div class="odoc-spec"><div class="spec value" id="val-mkdir" class="anchored"><a href="#val-mkdir" class="anchor"></a><code><span><span class="keyword">val</span> mkdir : <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Create a directory. The permissions of the created directory are (perm &amp; ~umask &amp; 0777). The default perm is 0777.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mkdir_p" class="anchored"><a href="#val-mkdir_p" class="anchor"></a><code><span><span class="keyword">val</span> mkdir_p : <span>?perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Create a directory recursively. The permissions of the created directory are those granted by <code>mkdir ~perm</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rmdir" class="anchored"><a href="#val-rmdir" class="anchor"></a><code><span><span class="keyword">val</span> rmdir : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove an empty directory.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-chdir" class="anchored"><a href="#val-chdir" class="anchor"></a><code><span><span class="keyword">val</span> chdir : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Change the process working directory.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getcwd" class="anchored"><a href="#val-getcwd" class="anchor"></a><code><span><span class="keyword">val</span> getcwd : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Return the name of the current working directory.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-chroot" class="anchored"><a href="#val-chroot" class="anchor"></a><code><span><span class="keyword">val</span> chroot : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Change the process root directory.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-dir_handle" class="anchored"><a href="#type-dir_handle" class="anchor"></a><code><span><span class="keyword">type</span> dir_handle</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.dir_handle</span></code></div><div class="spec-doc"><p>The type of descriptors over opened directories.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-opendir" class="anchored"><a href="#val-opendir" class="anchor"></a><code><span><span class="keyword">val</span> opendir : <span>?restart:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir_handle">dir_handle</a></span></code></div><div class="spec-doc"><p>Open a descriptor on a directory</p></div></div><div class="odoc-spec"><div class="spec value" id="val-readdir_opt" class="anchored"><a href="#val-readdir_opt" class="anchor"></a><code><span><span class="keyword">val</span> readdir_opt : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>Return the next entry in a directory. Returns <code>None</code> when the end of the directory has been reached.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-readdir" class="anchored"><a href="#val-readdir" class="anchor"></a><code><span><span class="keyword">val</span> readdir : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Same as <code>readdir_opt</code> except that it signals the end of the directory by raising <code>End_of_file</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rewinddir" class="anchored"><a href="#val-rewinddir" class="anchor"></a><code><span><span class="keyword">val</span> rewinddir : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Reposition the descriptor to the beginning of the directory</p></div></div><div class="odoc-spec"><div class="spec value" id="val-closedir" class="anchored"><a href="#val-closedir" class="anchor"></a><code><span><span class="keyword">val</span> closedir : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Close a directory descriptor.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Readdir_detailed" class="anchored"><a href="#module-Readdir_detailed" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Readdir_detailed/index.html">Readdir_detailed</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-readdir_detailed_opt" class="anchored"><a href="#val-readdir_detailed_opt" class="anchor"></a><code><span><span class="keyword">val</span> readdir_detailed_opt : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Readdir_detailed/index.html#type-t">Readdir_detailed.t</a> option</span></span></code></div><div class="spec-doc"><p><code>readdir_detailed_opt dh</code> return the next entry in a directory. Returns <code>None</code> when the end of the directory has been reached.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ls_dir_detailed" class="anchored"><a href="#val-ls_dir_detailed" class="anchor"></a><code><span><span class="keyword">val</span> ls_dir_detailed : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="Readdir_detailed/index.html#type-t">Readdir_detailed.t</a> list</span></span></code></div><div class="spec-doc"><p><code>ls_dir_detailed path</code> returns the information from <code>readdir_detailed_opt</code> with an interface similar to that of <code>Sys_unix.ls_dir</code>.</p></div></div><h6 id="pipes-and-redirections"><a href="#pipes-and-redirections" class="anchor"></a>Pipes and redirections</h6><div class="odoc-spec"><div class="spec value" id="val-pipe" class="anchored"><a href="#val-pipe" class="anchor"></a><code><span><span class="keyword">val</span> pipe : <span>?close_on_exec:bool <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="File_descr/index.html#type-t">File_descr.t</a> * <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>Create a pipe. The first component of the result is opened for reading, that's the exit to the pipe. The second component is opened for writing, that's the entrance to the pipe.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mkfifo" class="anchored"><a href="#val-mkfifo" class="anchor"></a><code><span><span class="keyword">val</span> mkfifo : <span>string <span class="arrow">&#45;&gt;</span></span> <span>perm:<a href="#type-file_perm">file_perm</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Create a named pipe with the given permissions.</p></div></div><h6 id="high-level-process-and-redirection-management"><a href="#high-level-process-and-redirection-management" class="anchor"></a>High-level process and redirection management</h6><div class="odoc-spec"><div class="spec module" id="module-Process_info" class="anchored"><a href="#module-Process_info" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Process_info/index.html">Process_info</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>Low-level process</p><div class="odoc-spec"><div class="spec value" id="val-create_process" class="anchored"><a href="#val-create_process" class="anchor"></a><code><span><span class="keyword">val</span> create_process : <span>prog:string <span class="arrow">&#45;&gt;</span></span> <span>args:<span>string list</span> <span class="arrow">&#45;&gt;</span></span> <a href="Process_info/index.html#type-t">Process_info.t</a></span></code></div><div class="spec-doc"><p><code>create_process ~prog ~args</code> forks a new process that executes the program <code>prog</code> with arguments <code>args</code>. The function returns the pid of the process along with file descriptors attached to stdin, stdout, and stderr of the new process. The executable file <code>prog</code> is searched for in the path. The new process has the same environment as the current process. Unlike in <code>execve</code> the program name is automatically passed as the first argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_process_env" class="anchored"><a href="#val-create_process_env" class="anchor"></a><code><span><span class="keyword">val</span> create_process_env : 
  <span>?working_dir:string <span class="arrow">&#45;&gt;</span></span>
  <span>?prog_search_path:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?argv0:string <span class="arrow">&#45;&gt;</span></span>
  <span>?setpgid:<a href="Pgid/index.html#type-t">Pgid.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>prog:string <span class="arrow">&#45;&gt;</span></span>
  <span>args:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>env:<a href="#type-env">env</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="Process_info/index.html#type-t">Process_info.t</a></span></code></div><div class="spec-doc"><p><code>create_process_env ~prog ~args ~env</code> as <code>create_process</code>, but takes an additional parameter that extends or replaces the current environment. No effort is made to ensure that the keys passed in as env are unique, so if an environment variable is set twice the second version will override the first. If <code>argv0</code> is given, it is used (instead of <code>prog</code>) as the first element of the <code>argv</code> array passed to <code>execve</code>.</p><p>The exact program to execute is determined using the usual conventions. More precisely, if <code>prog</code> contains at least one '/' character then it is used as is (relative to <code>working_dir</code> if <code>prog</code> is a relative path, absolute otherwise). Note that <code>working_dir</code> defaults to the working directory of the current process, i.e. <code>getcwd ()</code>. If <code>prog</code> contains no '/' character, then it is looked up in <code>prog_search_path</code>: for the first <code>dir</code> in <code>prog_search_path</code> such that <code>Filename.concat dir prog</code> exists and is executable, <code>Filename.concat dir prog</code> is the program that will be executed.</p><p><code>prog_search_path</code> defaults to the list of directories encoded as a ':' separated list in the &quot;PATH&quot; environment variable of the current running process. If no such variable is defined, then </p><pre><code>[&quot;/bin&quot;; &quot;/usr/bin&quot;]</code></pre><p>is used instead. Note that the &quot;PATH&quot; environment variable is looked up in the environment of the current running process, i.e. via <code>getenv &quot;PATH&quot;</code>. Setting the &quot;PATH&quot; variable in the <code>env</code> argument of this function has no effect on how <code>prog</code> is resolved.</p><p>In a setuid or setgid program, or one which has inherited such privileges, reading of the PATH variable will return an empty result. If a search path is required then it should be provided explicitly using <code>prog_search_path</code> in such scenarios; alternatively, perhaps more satisfactorily, an absolute path should be given as <code>prog</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-open_process_in" class="anchored"><a href="#val-open_process_in" class="anchor"></a><code><span><span class="keyword">val</span> open_process_in : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a></span></code></div><div class="spec-doc"><p>High-level pipe and process management. These functions (with <code>UnixLabels</code>.open_process_out and <code>UnixLabels</code>.open_process) run the given command in parallel with the program, and return channels connected to the standard input and/or the standard output of the command. The command is interpreted by the shell <code>/bin/sh</code> (cf. <code>system</code>). Warning: writes on channels are buffered, hence be careful to call <a href="../../base/Caml/index.html#val-flush"><code>Caml.flush</code></a> at the right times to ensure correct synchronization.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-open_process_out" class="anchored"><a href="#val-open_process_out" class="anchor"></a><code><span><span class="keyword">val</span> open_process_out : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a></span></code></div><div class="spec-doc"><p>See <code>UnixLabels</code>.open_process_in.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-open_process" class="anchored"><a href="#val-open_process" class="anchor"></a><code><span><span class="keyword">val</span> open_process : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> * <a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a></span></code></div><div class="spec-doc"><p>See <code>UnixLabels</code>.open_process_in.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Process_channels" class="anchored"><a href="#module-Process_channels" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Process_channels/index.html">Process_channels</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Similar to <code>UnixLabels</code>.open_process, but the second argument specifies the environment passed to the command. The result is a triple of channels connected to the standard output, standard input, and standard error of the command.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-open_process_full" class="anchored"><a href="#val-open_process_full" class="anchor"></a><code><span><span class="keyword">val</span> open_process_full : <span>string <span class="arrow">&#45;&gt;</span></span> <span>env:<span>string array</span> <span class="arrow">&#45;&gt;</span></span> <a href="Process_channels/index.html#type-t">Process_channels.t</a></span></code></div></div><p><code>close_process_*</code> raises <code>Unix_error</code> if, for example, the file descriptor has already been closed.</p><div class="odoc-spec"><div class="spec value" id="val-close_process_in" class="anchored"><a href="#val-close_process_in" class="anchor"></a><code><span><span class="keyword">val</span> close_process_in : <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a></span></code></div><div class="spec-doc"><p>Close channels opened by <code>UnixLabels</code>.open_process_in, wait for the associated command to terminate, and return its termination status.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-close_process_out" class="anchored"><a href="#val-close_process_out" class="anchor"></a><code><span><span class="keyword">val</span> close_process_out : <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a></span></code></div><div class="spec-doc"><p>Close channels opened by <code>UnixLabels</code>.open_process_out, wait for the associated command to terminate, and return its termination status.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-close_process" class="anchored"><a href="#val-close_process" class="anchor"></a><code><span><span class="keyword">val</span> close_process : 
  <span><span>(<a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> * <a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a></span></code></div><div class="spec-doc"><p>Close channels opened by <code>UnixLabels</code>.open_process, wait for the associated command to terminate, and return its termination status.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-close_process_full" class="anchored"><a href="#val-close_process_full" class="anchor"></a><code><span><span class="keyword">val</span> close_process_full : <span><a href="Process_channels/index.html#type-t">Process_channels.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Exit_or_signal/index.html#type-t">Exit_or_signal.t</a></span></code></div><div class="spec-doc"><p>Close channels opened by <code>UnixLabels</code>.open_process_full, wait for the associated command to terminate, and return its termination status.</p></div></div><h6 id="symbolic-links"><a href="#symbolic-links" class="anchor"></a>Symbolic links</h6><div class="odoc-spec"><div class="spec value" id="val-symlink" class="anchored"><a href="#val-symlink" class="anchor"></a><code><span><span class="keyword">val</span> symlink : <span>target:string <span class="arrow">&#45;&gt;</span></span> <span>link_name:string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>symlink ~target ~link_name</code> creates the file <code>link_name</code> as a symbolic link to the file <code>target</code>. On Windows, this has the semantics using <code>stat</code> as described at: http://caml.inria.fr/pub/docs/manual-ocaml/libref/Unix.html</p></div></div><div class="odoc-spec"><div class="spec value" id="val-readlink" class="anchored"><a href="#val-readlink" class="anchor"></a><code><span><span class="keyword">val</span> readlink : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Read the contents of a link.</p></div></div><h6 id="polling"><a href="#polling" class="anchor"></a>Polling</h6><div class="odoc-spec"><div class="spec module" id="module-Select_fds" class="anchored"><a href="#module-Select_fds" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Select_fds/index.html">Select_fds</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-select_timeout" class="anchored"><a href="#type-select_timeout" class="anchor"></a><code><span><span class="keyword">type</span> select_timeout</span><span> = </span><span>[ </span></code><table><tr id="type-select_timeout.Never" class="anchored"><td class="def constructor"><a href="#type-select_timeout.Never" class="anchor"></a><code><span>| </span></code><code><span>`Never</span></code></td></tr><tr id="type-select_timeout.Immediately" class="anchored"><td class="def constructor"><a href="#type-select_timeout.Immediately" class="anchor"></a><code><span>| </span></code><code><span>`Immediately</span></code></td></tr><tr id="type-select_timeout.After" class="anchored"><td class="def constructor"><a href="#type-select_timeout.After" class="anchor"></a><code><span>| </span></code><code><span>`After <span class="keyword">of</span> <a href="../../core/Core/Time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a></span></code></td></tr></table><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_select_timeout" class="anchored"><a href="#val-sexp_of_select_timeout" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_select_timeout : <span><a href="#type-select_timeout">select_timeout</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-select" class="anchored"><a href="#val-select" class="anchor"></a><code><span><span class="keyword">val</span> select : 
  <span>?restart:bool <span class="arrow">&#45;&gt;</span></span>
  <span>read:<span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>write:<span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>except:<span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>timeout:<a href="#type-select_timeout">select_timeout</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="Select_fds/index.html#type-t">Select_fds.t</a></span></code></div><div class="spec-doc"><p>Wait until some input/output operations become possible on some channels. The three list arguments are a set of descriptors to check for reading, for writing, or for exceptional conditions. <code>~timeout</code> is the maximal timeout. The result is composed of three sets of descriptors: those ready for reading, ready for writing, and over which an exceptional condition is pending.</p><p>Setting restart to true means that we want <code>select</code> to restart automatically on EINTR (instead of propagating the exception)...</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pause" class="anchored"><a href="#val-pause" class="anchor"></a><code><span><span class="keyword">val</span> pause : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Wait until a non-ignored, non-blocked signal is delivered.</p></div></div><h6 id="time-functions"><a href="#time-functions" class="anchor"></a>Time functions</h6><div class="odoc-spec"><div class="spec type" id="type-process_times" class="anchored"><a href="#type-process_times" class="anchor"></a><code><span><span class="keyword">type</span> process_times</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.process_times</span><span> = </span><span>{</span></code><table><tr id="type-process_times.tms_utime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_utime" class="anchor"></a><code><span>tms_utime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>User time for the process</p><span class="comment-delim">*)</span></td></tr><tr id="type-process_times.tms_stime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_stime" class="anchor"></a><code><span>tms_stime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>System time for the process</p><span class="comment-delim">*)</span></td></tr><tr id="type-process_times.tms_cutime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_cutime" class="anchor"></a><code><span>tms_cutime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>User time for the children processes</p><span class="comment-delim">*)</span></td></tr><tr id="type-process_times.tms_cstime" class="anchored"><td class="def record field"><a href="#type-process_times.tms_cstime" class="anchor"></a><code><span>tms_cstime : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>System time for the children processes</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The execution times (CPU times) of a process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_process_times" class="anchored"><a href="#val-sexp_of_process_times" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_process_times : <span><a href="#type-process_times">process_times</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-process_times_of_sexp" class="anchored"><a href="#val-process_times_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> process_times_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-process_times">process_times</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Clock" class="anchored"><a href="#module-Clock" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Clock/index.html">Clock</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-tm" class="anchored"><a href="#type-tm" class="anchor"></a><code><span><span class="keyword">type</span> tm</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.tm</span><span> = </span><span>{</span></code><table><tr id="type-tm.tm_sec" class="anchored"><td class="def record field"><a href="#type-tm.tm_sec" class="anchor"></a><code><span>tm_sec : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Seconds 0..59</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_min" class="anchored"><td class="def record field"><a href="#type-tm.tm_min" class="anchor"></a><code><span>tm_min : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Minutes 0..59</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_hour" class="anchored"><td class="def record field"><a href="#type-tm.tm_hour" class="anchor"></a><code><span>tm_hour : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Hours 0..23</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_mday" class="anchored"><td class="def record field"><a href="#type-tm.tm_mday" class="anchor"></a><code><span>tm_mday : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Day of month 1..31</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_mon" class="anchored"><td class="def record field"><a href="#type-tm.tm_mon" class="anchor"></a><code><span>tm_mon : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Month of year 0..11</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_year" class="anchored"><td class="def record field"><a href="#type-tm.tm_year" class="anchor"></a><code><span>tm_year : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Year - 1900</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_wday" class="anchored"><td class="def record field"><a href="#type-tm.tm_wday" class="anchor"></a><code><span>tm_wday : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Day of week (Sunday is 0)</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_yday" class="anchored"><td class="def record field"><a href="#type-tm.tm_yday" class="anchor"></a><code><span>tm_yday : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Day of year 0..365</p><span class="comment-delim">*)</span></td></tr><tr id="type-tm.tm_isdst" class="anchored"><td class="def record field"><a href="#type-tm.tm_isdst" class="anchor"></a><code><span>tm_isdst : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Daylight time savings in effect</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The type representing wallclock time and calendar date.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_tm" class="anchored"><a href="#val-sexp_of_tm" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_tm : <span><a href="#type-tm">tm</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-tm_of_sexp" class="anchored"><a href="#val-tm_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> tm_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-tm">tm</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-time" class="anchored"><a href="#val-time" class="anchor"></a><code><span><span class="keyword">val</span> time : <span>unit <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Return the current time since 00:00:00 GMT, Jan. 1, 1970, in seconds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-gettimeofday" class="anchored"><a href="#val-gettimeofday" class="anchor"></a><code><span><span class="keyword">val</span> gettimeofday : <span>unit <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Same as <a href="#val-time"><code>time</code></a> above, but with resolution better than 1 second.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-gmtime" class="anchored"><a href="#val-gmtime" class="anchor"></a><code><span><span class="keyword">val</span> gmtime : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-tm">tm</a></span></code></div><div class="spec-doc"><p>Convert a time in seconds, as returned by <code>UnixLabels</code>.time, into a date and a time. Assumes UTC.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-timegm" class="anchored"><a href="#val-timegm" class="anchor"></a><code><span><span class="keyword">val</span> timegm : <span><a href="#type-tm">tm</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Convert a UTC time in a tm record to a time in seconds</p></div></div><div class="odoc-spec"><div class="spec value" id="val-localtime" class="anchored"><a href="#val-localtime" class="anchor"></a><code><span><span class="keyword">val</span> localtime : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-tm">tm</a></span></code></div><div class="spec-doc"><p>Convert a time in seconds, as returned by <code>UnixLabels</code>.time, into a date and a time. Assumes the local time zone.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mktime" class="anchored"><a href="#val-mktime" class="anchor"></a><code><span><span class="keyword">val</span> mktime : <span><a href="#type-tm">tm</a> <span class="arrow">&#45;&gt;</span></span> float * <a href="#type-tm">tm</a></span></code></div><div class="spec-doc"><p>Convert a date and time, specified by the <code>tm</code> argument, into a time in seconds, as returned by <code>UnixLabels</code>.time. Also return a normalized copy of the given <code>tm</code> record, with the <code>tm_wday</code>, <code>tm_yday</code>, and <code>tm_isdst</code> fields recomputed from the other fields. The <code>tm</code> argument is interpreted in the local time zone.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-strftime" class="anchored"><a href="#val-strftime" class="anchor"></a><code><span><span class="keyword">val</span> strftime : <span><a href="#type-tm">tm</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert a date and time, specified by the <code>tm</code> argument, into a formatted string. See 'man strftime' for format options.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-strptime" class="anchored"><a href="#val-strptime" class="anchor"></a><code><span><span class="keyword">val</span> strptime : 
  <span>?allow_trailing_input:bool <span class="arrow">&#45;&gt;</span></span>
  <span>fmt:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Core_unix__</span>.Import.Unix.tm</span></code></div><div class="spec-doc"><p>Given a format string, convert a corresponding string to a date and time See 'man strptime' for format options.</p><p>Raise if <code>allow_trailing_input</code> is false and <code>fmt</code> does not consume all of the input.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-alarm" class="anchored"><a href="#val-alarm" class="anchor"></a><code><span><span class="keyword">val</span> alarm : <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Schedule a <code>SIGALRM</code> signal after the given number of seconds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sleep" class="anchored"><a href="#val-sleep" class="anchor"></a><code><span><span class="keyword">val</span> sleep : <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Stop execution for the given number of seconds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nanosleep" class="anchored"><a href="#val-nanosleep" class="anchor"></a><code><span><span class="keyword">val</span> nanosleep : <span>float <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>nanosleep f</code> delays execution of the program for at least <code>f</code> seconds. The function can return earlier if a signal has been delivered, in which case the number of seconds left is returned. Any other failure raises an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-times" class="anchored"><a href="#val-times" class="anchor"></a><code><span><span class="keyword">val</span> times : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-process_times">process_times</a></span></code></div><div class="spec-doc"><p>Return the execution times of the process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-utimes" class="anchored"><a href="#val-utimes" class="anchor"></a><code><span><span class="keyword">val</span> utimes : <span>string <span class="arrow">&#45;&gt;</span></span> <span>access:float <span class="arrow">&#45;&gt;</span></span> <span>modif:float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the last access time (second arg) and last modification time (third arg) for a file. Times are expressed in seconds from 00:00:00 GMT, Jan. 1, 1970.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-interval_timer" class="anchored"><a href="#type-interval_timer" class="anchor"></a><code><span><span class="keyword">type</span> interval_timer</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.interval_timer</span><span> = </span></code><table><tr id="type-interval_timer.ITIMER_REAL" class="anchored"><td class="def variant constructor"><a href="#type-interval_timer.ITIMER_REAL" class="anchor"></a><code><span>| </span><span><span class="constructor">ITIMER_REAL</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>decrements in real time, and sends the signal <code>SIGALRM</code> when expired.</p><span class="comment-delim">*)</span></td></tr><tr id="type-interval_timer.ITIMER_VIRTUAL" class="anchored"><td class="def variant constructor"><a href="#type-interval_timer.ITIMER_VIRTUAL" class="anchor"></a><code><span>| </span><span><span class="constructor">ITIMER_VIRTUAL</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>decrements in process virtual time, and sends <code>SIGVTALRM</code> when expired.</p><span class="comment-delim">*)</span></td></tr><tr id="type-interval_timer.ITIMER_PROF" class="anchored"><td class="def variant constructor"><a href="#type-interval_timer.ITIMER_PROF" class="anchor"></a><code><span>| </span><span><span class="constructor">ITIMER_PROF</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>(for profiling) decrements both when the process is running and when the system is running on behalf of the process; it sends <code>SIGPROF</code> when expired.</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The three kinds of interval timers.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_interval_timer" class="anchored"><a href="#val-sexp_of_interval_timer" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_interval_timer : <span><a href="#type-interval_timer">interval_timer</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-interval_timer_of_sexp" class="anchored"><a href="#val-interval_timer_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> interval_timer_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-interval_timer">interval_timer</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-interval_timer_status" class="anchored"><a href="#type-interval_timer_status" class="anchor"></a><code><span><span class="keyword">type</span> interval_timer_status</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.interval_timer_status</span><span> = </span><span>{</span></code><table><tr id="type-interval_timer_status.it_interval" class="anchored"><td class="def record field"><a href="#type-interval_timer_status.it_interval" class="anchor"></a><code><span>it_interval : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Period</p><span class="comment-delim">*)</span></td></tr><tr id="type-interval_timer_status.it_value" class="anchored"><td class="def record field"><a href="#type-interval_timer_status.it_value" class="anchor"></a><code><span>it_value : float;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Current value of the timer</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The type describing the status of an interval timer</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_interval_timer_status" class="anchored"><a href="#val-sexp_of_interval_timer_status" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_interval_timer_status : <span><a href="#type-interval_timer_status">interval_timer_status</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-interval_timer_status_of_sexp" class="anchored"><a href="#val-interval_timer_status_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> interval_timer_status_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-interval_timer_status">interval_timer_status</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getitimer" class="anchored"><a href="#val-getitimer" class="anchor"></a><code><span><span class="keyword">val</span> getitimer : <span><a href="#type-interval_timer">interval_timer</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-interval_timer_status">interval_timer_status</a></span></code></div><div class="spec-doc"><p>Return the current status of the given interval timer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setitimer" class="anchored"><a href="#val-setitimer" class="anchor"></a><code><span><span class="keyword">val</span> setitimer : 
  <span><a href="#type-interval_timer">interval_timer</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-interval_timer_status">interval_timer_status</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-interval_timer_status">interval_timer_status</a></span></code></div><div class="spec-doc"><p><code>setitimer t s</code> sets the interval timer <code>t</code> and returns its previous status. The <code>s</code> argument is interpreted as follows: <code>s.it_value</code>, if nonzero, is the time to the next timer expiration; <code>s.it_interval</code>, if nonzero, specifies a value to be used in reloading it_value when the timer expires. Setting <code>s.it_value</code> to zero disable the timer. Setting <code>s.it_interval</code> to zero causes the timer to be disabled after its next expiration.</p></div></div><h6 id="user-id,-group-id"><a href="#user-id,-group-id" class="anchor"></a>User id, group id</h6><p>It's highly recommended to read the straight unix docs on these functions for more color. You can get that info from man pages or http://www.opengroup.org/onlinepubs/000095399/functions/setuid.html</p><div class="odoc-spec"><div class="spec value" id="val-getuid" class="anchored"><a href="#val-getuid" class="anchor"></a><code><span><span class="keyword">val</span> getuid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Return the user id of the user executing the process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-geteuid" class="anchored"><a href="#val-geteuid" class="anchor"></a><code><span><span class="keyword">val</span> geteuid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Return the effective user id under which the process runs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setuid" class="anchored"><a href="#val-setuid" class="anchor"></a><code><span><span class="keyword">val</span> setuid : <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Sets the real user id and effective user id for the process. Only use this when superuser. To setuid as an ordinary user, see Core_extended.Unix.seteuid.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getgid" class="anchored"><a href="#val-getgid" class="anchor"></a><code><span><span class="keyword">val</span> getgid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Return the group id of the user executing the process.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getegid" class="anchored"><a href="#val-getegid" class="anchor"></a><code><span><span class="keyword">val</span> getegid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Return the effective group id under which the process runs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setgid" class="anchored"><a href="#val-setgid" class="anchor"></a><code><span><span class="keyword">val</span> setgid : <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the real group id and effective group id for the process.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Passwd" class="anchored"><a href="#module-Passwd" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Passwd/index.html">Passwd</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Structure of entries in the <code>passwd</code> database</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Group" class="anchored"><a href="#module-Group" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Group/index.html">Group</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Structure of entries in the <code>groups</code> database.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getlogin" class="anchored"><a href="#val-getlogin" class="anchor"></a><code><span><span class="keyword">val</span> getlogin : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Return the login name of the user executing the process.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Protocol_family" class="anchored"><a href="#module-Protocol_family" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Protocol_family/index.html">Protocol_family</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h6 id="internet-addresses"><a href="#internet-addresses" class="anchor"></a>Internet addresses</h6><div class="odoc-spec"><div class="spec module" id="module-Inet_addr" class="anchored"><a href="#module-Inet_addr" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Inet_addr/index.html">Inet_addr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Cidr" class="anchored"><a href="#module-Cidr" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Cidr/index.html">Cidr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A representation of CIDR netmasks (e.g. &quot;192.168.0.0/24&quot;) and functions to match if a given address is inside the range or not. Only IPv4 addresses are supported. Values are always normalized so the base address is the lowest IP address in the range, so for example <code>to_string (of_string &quot;192.168.1.101/24&quot;) = &quot;192.168.1.0/24&quot;</code>.</p></div></div><h6 id="sockets"><a href="#sockets" class="anchor"></a>Sockets</h6><div class="odoc-spec"><div class="spec type" id="type-socket_domain" class="anchored"><a href="#type-socket_domain" class="anchor"></a><code><span><span class="keyword">type</span> socket_domain</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.socket_domain</span><span> = </span></code><table><tr id="type-socket_domain.PF_UNIX" class="anchored"><td class="def variant constructor"><a href="#type-socket_domain.PF_UNIX" class="anchor"></a><code><span>| </span><span><span class="constructor">PF_UNIX</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Unix domain</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_domain.PF_INET" class="anchored"><td class="def variant constructor"><a href="#type-socket_domain.PF_INET" class="anchor"></a><code><span>| </span><span><span class="constructor">PF_INET</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Internet domain</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_domain.PF_INET6" class="anchored"><td class="def variant constructor"><a href="#type-socket_domain.PF_INET6" class="anchor"></a><code><span>| </span><span><span class="constructor">PF_INET6</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Internet domain (IPv6)</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The type of socket domains.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_socket_domain" class="anchored"><a href="#val-sexp_of_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socket_domain_of_sexp" class="anchored"><a href="#val-socket_domain_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> socket_domain_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_domain">socket_domain</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_socket_domain" class="anchored"><a href="#val-bin_shape_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_socket_domain : <a href="../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_socket_domain" class="anchored"><a href="#val-bin_size_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_socket_domain" class="anchored"><a href="#val-bin_write_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_socket_domain" class="anchored"><a href="#val-bin_writer_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_socket_domain" class="anchored"><a href="#val-bin_read_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_socket_domain__" class="anchored"><a href="#val-__bin_read_socket_domain__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_socket_domain__ : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_domain">socket_domain</a> )</span> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_socket_domain" class="anchored"><a href="#val-bin_reader_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_socket_domain" class="anchored"><a href="#val-bin_socket_domain" class="anchor"></a><code><span><span class="keyword">val</span> bin_socket_domain : <span><a href="#type-socket_domain">socket_domain</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-socket_type" class="anchored"><a href="#type-socket_type" class="anchor"></a><code><span><span class="keyword">type</span> socket_type</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.socket_type</span><span> = </span></code><table><tr id="type-socket_type.SOCK_STREAM" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_STREAM" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_STREAM</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Stream socket</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_type.SOCK_DGRAM" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_DGRAM" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_DGRAM</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Datagram socket</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_type.SOCK_RAW" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_RAW" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_RAW</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Raw socket</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_type.SOCK_SEQPACKET" class="anchored"><td class="def variant constructor"><a href="#type-socket_type.SOCK_SEQPACKET" class="anchor"></a><code><span>| </span><span><span class="constructor">SOCK_SEQPACKET</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Sequenced packets socket</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The type of socket kinds, specifying the semantics of communications.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_socket_type" class="anchored"><a href="#val-sexp_of_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_socket_type : <span><a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socket_type_of_sexp" class="anchored"><a href="#val-socket_type_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> socket_type_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_type">socket_type</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_socket_type" class="anchored"><a href="#val-bin_shape_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_socket_type : <a href="../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_socket_type" class="anchored"><a href="#val-bin_size_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_socket_type" class="anchored"><a href="#val-bin_write_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_socket_type" class="anchored"><a href="#val-bin_writer_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_socket_type" class="anchored"><a href="#val-bin_read_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_socket_type__" class="anchored"><a href="#val-__bin_read_socket_type__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_socket_type__ : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_type">socket_type</a> )</span> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_socket_type" class="anchored"><a href="#val-bin_reader_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_socket_type" class="anchored"><a href="#val-bin_socket_type" class="anchor"></a><code><span><span class="keyword">val</span> bin_socket_type : <span><a href="#type-socket_type">socket_type</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-sockaddr" class="anchored"><a href="#type-sockaddr" class="anchor"></a><code><span><span class="keyword">type</span> sockaddr</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.sockaddr</span><span> = </span></code><table><tr id="type-sockaddr.ADDR_UNIX" class="anchored"><td class="def variant constructor"><a href="#type-sockaddr.ADDR_UNIX" class="anchor"></a><code><span>| </span><span><span class="constructor">ADDR_UNIX</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-sockaddr.ADDR_INET" class="anchored"><td class="def variant constructor"><a href="#type-sockaddr.ADDR_INET" class="anchor"></a><code><span>| </span><span><span class="constructor">ADDR_INET</span> <span class="keyword">of</span> <a href="Inet_addr/index.html#type-t">Inet_addr.t</a> * int</span></code></td></tr></table></div><div class="spec-doc"><p>The type of socket addresses. <code>ADDR_UNIX name</code> is a socket address in the Unix domain; <code>name</code> is a file name in the file system. <code>ADDR_INET(addr,port)</code> is a socket address in the Internet domain; <code>addr</code> is the Internet address of the machine, and <code>port</code> is the port number.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_sockaddr" class="anchored"><a href="#val-bin_shape_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_sockaddr : <a href="../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_sockaddr" class="anchored"><a href="#val-bin_size_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_sockaddr" class="anchored"><a href="#val-bin_write_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_sockaddr" class="anchored"><a href="#val-bin_writer_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_sockaddr" class="anchored"><a href="#val-bin_read_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_sockaddr__" class="anchored"><a href="#val-__bin_read_sockaddr__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_sockaddr__ : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr">sockaddr</a> )</span> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_sockaddr" class="anchored"><a href="#val-bin_reader_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_sockaddr" class="anchored"><a href="#val-bin_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> bin_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_sockaddr" class="anchored"><a href="#val-compare_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> compare_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_sockaddr" class="anchored"><a href="#val-sexp_of_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sockaddr_of_sexp" class="anchored"><a href="#val-sockaddr_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> sockaddr_of_sexp : <span><a href="../../core/Core/Sexp/index.html#type-t">Core.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr">sockaddr</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-sockaddr_blocking_sexp" class="anchored"><a href="#type-sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">type</span> sockaddr_blocking_sexp</span><span> = <a href="#type-sockaddr">sockaddr</a></span></code></div><div class="spec-doc"><p><code>sockaddr_blocking_sexp</code> is like <code>sockaddr</code>, with <code>of_sexp</code> that performs DNS lookup to resolve <code>Inet_addr.t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_shape_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_sockaddr_blocking_sexp : <a href="../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_size_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_write_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_writer_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_read_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_sockaddr_blocking_sexp__" class="anchored"><a href="#val-__bin_read_sockaddr_blocking_sexp__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_sockaddr_blocking_sexp__ : 
  <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> )</span> <a href="../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_reader_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_sockaddr_blocking_sexp : 
  <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_sockaddr_blocking_sexp" class="anchored"><a href="#val-bin_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bin_sockaddr_blocking_sexp : <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_sockaddr_blocking_sexp" class="anchored"><a href="#val-sexp_of_sockaddr_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_sockaddr_blocking_sexp : <span><a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sockaddr_blocking_sexp_of_sexp" class="anchored"><a href="#val-sockaddr_blocking_sexp_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> sockaddr_blocking_sexp_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr_blocking_sexp">sockaddr_blocking_sexp</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-domain_of_sockaddr" class="anchored"><a href="#val-domain_of_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> domain_of_sockaddr : <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_domain">socket_domain</a></span></code></div><div class="spec-doc"><p>Return the socket domain adequate for the given socket address.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-socket" class="anchored"><a href="#val-socket" class="anchor"></a><code><span><span class="keyword">val</span> socket : 
  <span>?close_on_exec:bool <span class="arrow">&#45;&gt;</span></span>
  <span>domain:<a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span>
  <span>kind:<a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span>
  <span>protocol:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>Create a new socket in the given domain, and with the given kind. The third argument is the protocol type; 0 selects the default protocol for that kind of sockets.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-socketpair" class="anchored"><a href="#val-socketpair" class="anchor"></a><code><span><span class="keyword">val</span> socketpair : 
  <span>?close_on_exec:bool <span class="arrow">&#45;&gt;</span></span>
  <span>domain:<a href="#type-socket_domain">socket_domain</a> <span class="arrow">&#45;&gt;</span></span>
  <span>kind:<a href="#type-socket_type">socket_type</a> <span class="arrow">&#45;&gt;</span></span>
  <span>protocol:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="File_descr/index.html#type-t">File_descr.t</a> * <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p>Create a pair of unnamed sockets, connected together.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-accept" class="anchored"><a href="#val-accept" class="anchor"></a><code><span><span class="keyword">val</span> accept : <span>?close_on_exec:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="File_descr/index.html#type-t">File_descr.t</a> * <a href="#type-sockaddr">sockaddr</a></span></code></div><div class="spec-doc"><p>Accept connections on the given socket. The returned descriptor is a socket connected to the client; the returned address is the address of the connecting client.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bind" class="anchored"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>addr:<a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Bind a socket to an address.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-connect" class="anchored"><a href="#val-connect" class="anchor"></a><code><span><span class="keyword">val</span> connect : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>addr:<a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Connect a socket to an address.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-listen" class="anchored"><a href="#val-listen" class="anchor"></a><code><span><span class="keyword">val</span> listen : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>backlog:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set up a socket for receiving connection requests. The integer argument is the number of pending requests that will be established and queued for <a href="#val-accept"><code>accept</code></a>. Depending on operating system, version, and configuration, subsequent connections may be refused actively (as with <code>RST</code>), ignored, or effectively established and queued anyway.</p><p>Because handling of excess connections varies, it is most robust for applications to accept and close excess connections if they can. To be sure the client receives an <code>RST</code> rather than an orderly shutdown, you can <code>setsockopt_optint file_descr SO_LINGER
    (Some 0)</code> before closing.</p><p>In Linux, for example, the system configuration parameters <code>tcp_max_syn_backlog</code>, <code>tcp_abort_on_overflow</code>, and <code>syncookies</code> can all affect connection queuing behavior.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-shutdown_command" class="anchored"><a href="#type-shutdown_command" class="anchor"></a><code><span><span class="keyword">type</span> shutdown_command</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.shutdown_command</span><span> = </span></code><table><tr id="type-shutdown_command.SHUTDOWN_RECEIVE" class="anchored"><td class="def variant constructor"><a href="#type-shutdown_command.SHUTDOWN_RECEIVE" class="anchor"></a><code><span>| </span><span><span class="constructor">SHUTDOWN_RECEIVE</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Close for receiving</p><span class="comment-delim">*)</span></td></tr><tr id="type-shutdown_command.SHUTDOWN_SEND" class="anchored"><td class="def variant constructor"><a href="#type-shutdown_command.SHUTDOWN_SEND" class="anchor"></a><code><span>| </span><span><span class="constructor">SHUTDOWN_SEND</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Close for sending</p><span class="comment-delim">*)</span></td></tr><tr id="type-shutdown_command.SHUTDOWN_ALL" class="anchored"><td class="def variant constructor"><a href="#type-shutdown_command.SHUTDOWN_ALL" class="anchor"></a><code><span>| </span><span><span class="constructor">SHUTDOWN_ALL</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Close both</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The type of commands for <code>shutdown</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_shutdown_command" class="anchored"><a href="#val-sexp_of_shutdown_command" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_shutdown_command : <span><a href="#type-shutdown_command">shutdown_command</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shutdown_command_of_sexp" class="anchored"><a href="#val-shutdown_command_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> shutdown_command_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-shutdown_command">shutdown_command</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shutdown" class="anchored"><a href="#val-shutdown" class="anchor"></a><code><span><span class="keyword">val</span> shutdown : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>mode:<a href="#type-shutdown_command">shutdown_command</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Shutdown a socket connection. <code>SHUTDOWN_SEND</code> as second argument causes reads on the other end of the connection to return an end-of-file condition. <code>SHUTDOWN_RECEIVE</code> causes writes on the other end of the connection to return a closed pipe condition (<code>SIGPIPE</code> signal).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getsockname" class="anchored"><a href="#val-getsockname" class="anchor"></a><code><span><span class="keyword">val</span> getsockname : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr">sockaddr</a></span></code></div><div class="spec-doc"><p>Return the address of the given socket.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getpeername" class="anchored"><a href="#val-getpeername" class="anchor"></a><code><span><span class="keyword">val</span> getpeername : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr">sockaddr</a></span></code></div><div class="spec-doc"><p>Return the address of the host connected to the given socket.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-msg_flag" class="anchored"><a href="#type-msg_flag" class="anchor"></a><code><span><span class="keyword">type</span> msg_flag</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.msg_flag</span><span> = </span></code><table><tr id="type-msg_flag.MSG_OOB" class="anchored"><td class="def variant constructor"><a href="#type-msg_flag.MSG_OOB" class="anchor"></a><code><span>| </span><span><span class="constructor">MSG_OOB</span></span></code></td></tr><tr id="type-msg_flag.MSG_DONTROUTE" class="anchored"><td class="def variant constructor"><a href="#type-msg_flag.MSG_DONTROUTE" class="anchor"></a><code><span>| </span><span><span class="constructor">MSG_DONTROUTE</span></span></code></td></tr><tr id="type-msg_flag.MSG_PEEK" class="anchored"><td class="def variant constructor"><a href="#type-msg_flag.MSG_PEEK" class="anchor"></a><code><span>| </span><span><span class="constructor">MSG_PEEK</span></span></code></td></tr></table></div><div class="spec-doc"><p>The flags for <code>UnixLabels</code>.recv, <code>UnixLabels</code>.recvfrom, <code>UnixLabels</code>.send and <code>UnixLabels</code>.sendto.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_msg_flag" class="anchored"><a href="#val-sexp_of_msg_flag" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_msg_flag : <span><a href="#type-msg_flag">msg_flag</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-msg_flag_of_sexp" class="anchored"><a href="#val-msg_flag_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> msg_flag_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-msg_flag">msg_flag</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-recv" class="anchored"><a href="#val-recv" class="anchor"></a><code><span><span class="keyword">val</span> recv : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:<a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-msg_flag">msg_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Receive data from a connected socket.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-recvfrom" class="anchored"><a href="#val-recvfrom" class="anchor"></a><code><span><span class="keyword">val</span> recvfrom : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:<a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-msg_flag">msg_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  int * <a href="#type-sockaddr">sockaddr</a></span></code></div><div class="spec-doc"><p>Receive data from an unconnected socket.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-send" class="anchored"><a href="#val-send" class="anchor"></a><code><span><span class="keyword">val</span> send : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:<a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-msg_flag">msg_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Send data over a connected socket.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-send_substring" class="anchored"><a href="#val-send_substring" class="anchor"></a><code><span><span class="keyword">val</span> send_substring : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:string <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-msg_flag">msg_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Same as <code>send</code> but with a string buffer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sendto" class="anchored"><a href="#val-sendto" class="anchor"></a><code><span><span class="keyword">val</span> sendto : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:<a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-msg_flag">msg_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>addr:<a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Send data over an unconnected socket.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sendto_substring" class="anchored"><a href="#val-sendto_substring" class="anchor"></a><code><span><span class="keyword">val</span> sendto_substring : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>buf:string <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span>mode:<span><a href="#type-msg_flag">msg_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>addr:<a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Same as <code>sendto</code> but with a string buffer.</p></div></div><h6 id="socket-options"><a href="#socket-options" class="anchor"></a>Socket options</h6><div class="odoc-spec"><div class="spec type" id="type-socket_bool_option" class="anchored"><a href="#type-socket_bool_option" class="anchor"></a><code><span><span class="keyword">type</span> socket_bool_option</span><span> = </span></code><table><tr id="type-socket_bool_option.SO_DEBUG" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_DEBUG" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_DEBUG</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Record debugging information</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.SO_BROADCAST" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_BROADCAST" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_BROADCAST</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Permit sending of broadcast messages</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.SO_REUSEADDR" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_REUSEADDR" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_REUSEADDR</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Allow reuse of local addresses for bind</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.SO_KEEPALIVE" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_KEEPALIVE" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_KEEPALIVE</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Keep connection active</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.SO_DONTROUTE" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_DONTROUTE" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_DONTROUTE</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Bypass the standard routing algorithms</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.SO_OOBINLINE" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_OOBINLINE" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_OOBINLINE</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Leave out-of-band data in line</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.SO_ACCEPTCONN" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_ACCEPTCONN" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_ACCEPTCONN</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Report whether socket listening is enabled</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.TCP_NODELAY" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.TCP_NODELAY" class="anchor"></a><code><span>| </span><span><span class="constructor">TCP_NODELAY</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Control the Nagle algorithm for TCP sockets</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.IPV6_ONLY" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.IPV6_ONLY" class="anchor"></a><code><span>| </span><span><span class="constructor">IPV6_ONLY</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Forbid binding an IPv6 socket to an IPv4 address</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_bool_option.SO_REUSEPORT" class="anchored"><td class="def variant constructor"><a href="#type-socket_bool_option.SO_REUSEPORT" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_REUSEPORT</span></span></code></td></tr></table></div><div class="spec-doc"><p>The socket options that can be consulted with <code>UnixLabels</code>.getsockopt and modified with <code>UnixLabels</code>.setsockopt. These options have a boolean (<code>true</code>/<code>false</code>) value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_socket_bool_option" class="anchored"><a href="#val-sexp_of_socket_bool_option" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_socket_bool_option : <span><a href="#type-socket_bool_option">socket_bool_option</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socket_bool_option_of_sexp" class="anchored"><a href="#val-socket_bool_option_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> socket_bool_option_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_bool_option">socket_bool_option</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-socket_int_option" class="anchored"><a href="#type-socket_int_option" class="anchor"></a><code><span><span class="keyword">type</span> socket_int_option</span><span> = </span></code><table><tr id="type-socket_int_option.SO_SNDBUF" class="anchored"><td class="def variant constructor"><a href="#type-socket_int_option.SO_SNDBUF" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_SNDBUF</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Size of send buffer</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_int_option.SO_RCVBUF" class="anchored"><td class="def variant constructor"><a href="#type-socket_int_option.SO_RCVBUF" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_RCVBUF</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Size of received buffer</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_int_option.SO_ERROR" class="anchored"><td class="def variant constructor"><a href="#type-socket_int_option.SO_ERROR" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_ERROR</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Report the error status and clear it</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_int_option.SO_TYPE" class="anchored"><td class="def variant constructor"><a href="#type-socket_int_option.SO_TYPE" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_TYPE</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Report the socket type</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_int_option.SO_RCVLOWAT" class="anchored"><td class="def variant constructor"><a href="#type-socket_int_option.SO_RCVLOWAT" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_RCVLOWAT</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Minimum number of bytes to process for input operations</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_int_option.SO_SNDLOWAT" class="anchored"><td class="def variant constructor"><a href="#type-socket_int_option.SO_SNDLOWAT" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_SNDLOWAT</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Minimum number of bytes to process for output operations</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The socket options that can be consulted with <code>UnixLabels</code>.getsockopt_int and modified with <code>UnixLabels</code>.setsockopt_int. These options have an integer value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_socket_int_option" class="anchored"><a href="#val-sexp_of_socket_int_option" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_socket_int_option : <span><a href="#type-socket_int_option">socket_int_option</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socket_int_option_of_sexp" class="anchored"><a href="#val-socket_int_option_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> socket_int_option_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_int_option">socket_int_option</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-socket_optint_option" class="anchored"><a href="#type-socket_optint_option" class="anchor"></a><code><span><span class="keyword">type</span> socket_optint_option</span><span> = </span></code><table><tr id="type-socket_optint_option.SO_LINGER" class="anchored"><td class="def variant constructor"><a href="#type-socket_optint_option.SO_LINGER" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_LINGER</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Whether to linger on closed connections with sexp that have data present, and for how long (in seconds)</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The socket options that can be consulted with <code>UnixLabels</code>.getsockopt_optint and modified with <code>UnixLabels</code>.setsockopt_optint. These options have a value of type <code>int option</code>, with <code>None</code> meaning ``disabled''.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-socket_float_option" class="anchored"><a href="#type-socket_float_option" class="anchor"></a><code><span><span class="keyword">type</span> socket_float_option</span><span> = </span></code><table><tr id="type-socket_float_option.SO_RCVTIMEO" class="anchored"><td class="def variant constructor"><a href="#type-socket_float_option.SO_RCVTIMEO" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_RCVTIMEO</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Timeout for input operations</p><span class="comment-delim">*)</span></td></tr><tr id="type-socket_float_option.SO_SNDTIMEO" class="anchored"><td class="def variant constructor"><a href="#type-socket_float_option.SO_SNDTIMEO" class="anchor"></a><code><span>| </span><span><span class="constructor">SO_SNDTIMEO</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Timeout for output operations</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The socket options that can be consulted with <code>UnixLabels</code>.getsockopt_float and modified with <code>UnixLabels</code>.setsockopt_float. These options have a floating-point value representing a time in seconds. The value 0 means infinite timeout.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_socket_float_option" class="anchored"><a href="#val-sexp_of_socket_float_option" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_socket_float_option : <span><a href="#type-socket_float_option">socket_float_option</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-socket_float_option_of_sexp" class="anchored"><a href="#val-socket_float_option_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> socket_float_option_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-socket_float_option">socket_float_option</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getsockopt" class="anchored"><a href="#val-getsockopt" class="anchor"></a><code><span><span class="keyword">val</span> getsockopt : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_bool_option">socket_bool_option</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Return the current status of a boolean-valued option in the given socket.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setsockopt" class="anchored"><a href="#val-setsockopt" class="anchor"></a><code><span><span class="keyword">val</span> setsockopt : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_bool_option">socket_bool_option</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set or clear a boolean-valued option in the given socket.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getsockopt_int" class="anchored"><a href="#val-getsockopt_int" class="anchor"></a><code><span><span class="keyword">val</span> getsockopt_int : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_int_option">socket_int_option</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Same as <code>UnixLabels</code>.getsockopt for an integer-valued socket option.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setsockopt_int" class="anchored"><a href="#val-setsockopt_int" class="anchor"></a><code><span><span class="keyword">val</span> setsockopt_int : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_int_option">socket_int_option</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>UnixLabels</code>.setsockopt for an integer-valued socket option.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getsockopt_optint" class="anchored"><a href="#val-getsockopt_optint" class="anchor"></a><code><span><span class="keyword">val</span> getsockopt_optint : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_optint_option">socket_optint_option</a> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p>Same as <code>UnixLabels</code>.getsockopt for a socket option whose value is an <code>int option</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setsockopt_optint" class="anchored"><a href="#val-setsockopt_optint" class="anchor"></a><code><span><span class="keyword">val</span> setsockopt_optint : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-socket_optint_option">socket_optint_option</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int option</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Same as <code>UnixLabels</code>.setsockopt for a socket option whose value is an <code>int option</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getsockopt_float" class="anchored"><a href="#val-getsockopt_float" class="anchor"></a><code><span><span class="keyword">val</span> getsockopt_float : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_float_option">socket_float_option</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Same as <code>UnixLabels</code>.getsockopt for a socket option whose value is a floating-point number.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setsockopt_float" class="anchored"><a href="#val-setsockopt_float" class="anchor"></a><code><span><span class="keyword">val</span> setsockopt_float : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-socket_float_option">socket_float_option</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>UnixLabels</code>.setsockopt for a socket option whose value is a floating-point number.</p></div></div><h6 id="high-level-network-connection-functions"><a href="#high-level-network-connection-functions" class="anchor"></a>High-level network connection functions</h6><div class="odoc-spec"><div class="spec value" id="val-open_connection" class="anchored"><a href="#val-open_connection" class="anchor"></a><code><span><span class="keyword">val</span> open_connection : <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> * <a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a></span></code></div><div class="spec-doc"><p>Connect to a server at the given address. Return a pair of buffered channels connected to the server. Remember to call <a href="../../base/Caml/index.html#val-flush"><code>Caml.flush</code></a> on the output channel at the right times to ensure correct synchronization.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-shutdown_connection" class="anchored"><a href="#val-shutdown_connection" class="anchor"></a><code><span><span class="keyword">val</span> shutdown_connection : <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>``Shut down'' a connection established with <code>UnixLabels</code>.open_connection; that is, transmit an end-of-file condition to the server reading on the other side of the connection.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-establish_server" class="anchored"><a href="#val-establish_server" class="anchor"></a><code><span><span class="keyword">val</span> establish_server : 
  <span><span>( <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>addr:<a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Establish a server on the given address. The function given as first argument is called for each connection with two buffered channels connected to the client. A new process is created for each connection. The function <code>UnixLabels</code>.establish_server never returns normally.</p></div></div><h6 id="host-and-protocol-databases"><a href="#host-and-protocol-databases" class="anchor"></a>Host and protocol databases</h6><div class="odoc-spec"><div class="spec value" id="val-gethostname" class="anchored"><a href="#val-gethostname" class="anchor"></a><code><span><span class="keyword">val</span> gethostname : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Return the name of the local host.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Host" class="anchored"><a href="#module-Host" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Host/index.html">Host</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Protocol" class="anchored"><a href="#module-Protocol" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Protocol/index.html">Protocol</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Service" class="anchored"><a href="#module-Service" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Service/index.html">Service</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-addr_info" class="anchored"><a href="#type-addr_info" class="anchor"></a><code><span><span class="keyword">type</span> addr_info</span><span> = </span><span>{</span></code><table><tr id="type-addr_info.ai_family" class="anchored"><td class="def record field"><a href="#type-addr_info.ai_family" class="anchor"></a><code><span>ai_family : <a href="#type-socket_domain">socket_domain</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Socket domain</p><span class="comment-delim">*)</span></td></tr><tr id="type-addr_info.ai_socktype" class="anchored"><td class="def record field"><a href="#type-addr_info.ai_socktype" class="anchor"></a><code><span>ai_socktype : <a href="#type-socket_type">socket_type</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Socket type</p><span class="comment-delim">*)</span></td></tr><tr id="type-addr_info.ai_protocol" class="anchored"><td class="def record field"><a href="#type-addr_info.ai_protocol" class="anchor"></a><code><span>ai_protocol : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Socket protocol number</p><span class="comment-delim">*)</span></td></tr><tr id="type-addr_info.ai_addr" class="anchored"><td class="def record field"><a href="#type-addr_info.ai_addr" class="anchor"></a><code><span>ai_addr : <a href="#type-sockaddr">sockaddr</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Address</p><span class="comment-delim">*)</span></td></tr><tr id="type-addr_info.ai_canonname" class="anchored"><td class="def record field"><a href="#type-addr_info.ai_canonname" class="anchor"></a><code><span>ai_canonname : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Canonical host name</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Address information returned by <code>Unix</code>.getaddrinfo.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_addr_info" class="anchored"><a href="#val-sexp_of_addr_info" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_addr_info : <span><a href="#type-addr_info">addr_info</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-addr_info_blocking_sexp" class="anchored"><a href="#type-addr_info_blocking_sexp" class="anchor"></a><code><span><span class="keyword">type</span> addr_info_blocking_sexp</span><span> = <a href="#type-addr_info">addr_info</a></span></code></div><div class="spec-doc"><p><code>addr_info_blocking_sexp</code> is like <code>addr_info</code>, with <code>of_sexp</code> that performs DNS lookup to resolve <code>Inet_addr.t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_addr_info_blocking_sexp" class="anchored"><a href="#val-sexp_of_addr_info_blocking_sexp" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_addr_info_blocking_sexp : 
  <span><a href="#type-addr_info_blocking_sexp">addr_info_blocking_sexp</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-addr_info_blocking_sexp_of_sexp" class="anchored"><a href="#val-addr_info_blocking_sexp_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> addr_info_blocking_sexp_of_sexp : 
  <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-addr_info_blocking_sexp">addr_info_blocking_sexp</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-getaddrinfo_option" class="anchored"><a href="#type-getaddrinfo_option" class="anchor"></a><code><span><span class="keyword">type</span> getaddrinfo_option</span><span> = </span></code><table><tr id="type-getaddrinfo_option.AI_FAMILY" class="anchored"><td class="def variant constructor"><a href="#type-getaddrinfo_option.AI_FAMILY" class="anchor"></a><code><span>| </span><span><span class="constructor">AI_FAMILY</span> <span class="keyword">of</span> <a href="#type-socket_domain">socket_domain</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Impose the given socket domain</p><span class="comment-delim">*)</span></td></tr><tr id="type-getaddrinfo_option.AI_SOCKTYPE" class="anchored"><td class="def variant constructor"><a href="#type-getaddrinfo_option.AI_SOCKTYPE" class="anchor"></a><code><span>| </span><span><span class="constructor">AI_SOCKTYPE</span> <span class="keyword">of</span> <a href="#type-socket_type">socket_type</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Impose the given socket type</p><span class="comment-delim">*)</span></td></tr><tr id="type-getaddrinfo_option.AI_PROTOCOL" class="anchored"><td class="def variant constructor"><a href="#type-getaddrinfo_option.AI_PROTOCOL" class="anchor"></a><code><span>| </span><span><span class="constructor">AI_PROTOCOL</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Impose the given protocol</p><span class="comment-delim">*)</span></td></tr><tr id="type-getaddrinfo_option.AI_NUMERICHOST" class="anchored"><td class="def variant constructor"><a href="#type-getaddrinfo_option.AI_NUMERICHOST" class="anchor"></a><code><span>| </span><span><span class="constructor">AI_NUMERICHOST</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Do not call name resolver, expect numeric IP address</p><span class="comment-delim">*)</span></td></tr><tr id="type-getaddrinfo_option.AI_CANONNAME" class="anchored"><td class="def variant constructor"><a href="#type-getaddrinfo_option.AI_CANONNAME" class="anchor"></a><code><span>| </span><span><span class="constructor">AI_CANONNAME</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Fill the <code>ai_canonname</code> field of the result</p><span class="comment-delim">*)</span></td></tr><tr id="type-getaddrinfo_option.AI_PASSIVE" class="anchored"><td class="def variant constructor"><a href="#type-getaddrinfo_option.AI_PASSIVE" class="anchor"></a><code><span>| </span><span><span class="constructor">AI_PASSIVE</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Set address to ``any'' address for use with <code>Unix</code>.bind</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Options to <code>Unix</code>.getaddrinfo.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_getaddrinfo_option" class="anchored"><a href="#val-sexp_of_getaddrinfo_option" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_getaddrinfo_option : <span><a href="#type-getaddrinfo_option">getaddrinfo_option</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getaddrinfo_option_of_sexp" class="anchored"><a href="#val-getaddrinfo_option_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> getaddrinfo_option_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-getaddrinfo_option">getaddrinfo_option</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getaddrinfo" class="anchored"><a href="#val-getaddrinfo" class="anchor"></a><code><span><span class="keyword">val</span> getaddrinfo : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-getaddrinfo_option">getaddrinfo_option</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-addr_info">addr_info</a> list</span></span></code></div><div class="spec-doc"><p><code>getaddrinfo host service opts</code> returns a list of <code>Unix</code>.addr_info records describing socket parameters and addresses suitable for communicating with the given host and service. The empty list is returned if the host or service names are unknown, or the constraints expressed in <code>opts</code> cannot be satisfied.</p><p><code>host</code> is either a host name or the string representation of an IP address. <code>host</code> can be given as the empty string; in this case, the ``any'' address or the ``loopback'' address are used, depending whether <code>opts</code> contains <code>AI_PASSIVE</code>. <code>service</code> is either a service name or the string representation of a port number. <code>service</code> can be given as the empty string; in this case, the port field of the returned addresses is set to 0. <code>opts</code> is a possibly empty list of options that allows the caller to force a particular socket domain (e.g. IPv6 only, or IPv4 only) or a particular socket type (e.g. TCP only or UDP only).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-name_info" class="anchored"><a href="#type-name_info" class="anchor"></a><code><span><span class="keyword">type</span> name_info</span><span> = </span><span>{</span></code><table><tr id="type-name_info.ni_hostname" class="anchored"><td class="def record field"><a href="#type-name_info.ni_hostname" class="anchor"></a><code><span>ni_hostname : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Name or IP address of host</p><span class="comment-delim">*)</span></td></tr><tr id="type-name_info.ni_service" class="anchored"><td class="def record field"><a href="#type-name_info.ni_service" class="anchor"></a><code><span>ni_service : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Name of service or port number</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Host and service information returned by <code>Unix</code>.getnameinfo.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_name_info" class="anchored"><a href="#val-sexp_of_name_info" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_name_info : <span><a href="#type-name_info">name_info</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-name_info_of_sexp" class="anchored"><a href="#val-name_info_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> name_info_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-name_info">name_info</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-getnameinfo_option" class="anchored"><a href="#type-getnameinfo_option" class="anchor"></a><code><span><span class="keyword">type</span> getnameinfo_option</span><span> = </span></code><table><tr id="type-getnameinfo_option.NI_NOFQDN" class="anchored"><td class="def variant constructor"><a href="#type-getnameinfo_option.NI_NOFQDN" class="anchor"></a><code><span>| </span><span><span class="constructor">NI_NOFQDN</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Do not qualify local host names</p><span class="comment-delim">*)</span></td></tr><tr id="type-getnameinfo_option.NI_NUMERICHOST" class="anchored"><td class="def variant constructor"><a href="#type-getnameinfo_option.NI_NUMERICHOST" class="anchor"></a><code><span>| </span><span><span class="constructor">NI_NUMERICHOST</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Always return host as IP address</p><span class="comment-delim">*)</span></td></tr><tr id="type-getnameinfo_option.NI_NAMEREQD" class="anchored"><td class="def variant constructor"><a href="#type-getnameinfo_option.NI_NAMEREQD" class="anchor"></a><code><span>| </span><span><span class="constructor">NI_NAMEREQD</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Fail if host name cannot be determined</p><span class="comment-delim">*)</span></td></tr><tr id="type-getnameinfo_option.NI_NUMERICSERV" class="anchored"><td class="def variant constructor"><a href="#type-getnameinfo_option.NI_NUMERICSERV" class="anchor"></a><code><span>| </span><span><span class="constructor">NI_NUMERICSERV</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Always return service as port number</p><span class="comment-delim">*)</span></td></tr><tr id="type-getnameinfo_option.NI_DGRAM" class="anchored"><td class="def variant constructor"><a href="#type-getnameinfo_option.NI_DGRAM" class="anchor"></a><code><span>| </span><span><span class="constructor">NI_DGRAM</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Consider the service as UDP-based instead of the default TCP</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Options to <code>Unix</code>.getnameinfo.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_getnameinfo_option" class="anchored"><a href="#val-sexp_of_getnameinfo_option" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_getnameinfo_option : <span><a href="#type-getnameinfo_option">getnameinfo_option</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getnameinfo_option_of_sexp" class="anchored"><a href="#val-getnameinfo_option_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> getnameinfo_option_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-getnameinfo_option">getnameinfo_option</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getnameinfo" class="anchored"><a href="#val-getnameinfo" class="anchor"></a><code><span><span class="keyword">val</span> getnameinfo : <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-getnameinfo_option">getnameinfo_option</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-name_info">name_info</a></span></code></div><div class="spec-doc"><p><code>getnameinfo addr opts</code> returns the host name and service name corresponding to the socket address <code>addr</code>. <code>opts</code> is a possibly empty list of options that governs how these names are obtained. Raise <code>Caml.Not_found</code> or <code>Not_found_s</code> if an error occurs.</p></div></div><h6 id="terminal-interface"><a href="#terminal-interface" class="anchor"></a>Terminal interface</h6><p>The following functions implement the POSIX standard terminal interface. They provide control over asynchronous communication ports and pseudo-terminals. Refer to the <code>termios</code> man page for a complete description.</p><div class="odoc-spec"><div class="spec module" id="module-Terminal_io" class="anchored"><a href="#module-Terminal_io" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Terminal_io/index.html">Terminal_io</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_sockaddr" class="anchored"><a href="#val-get_sockaddr" class="anchor"></a><code><span><span class="keyword">val</span> get_sockaddr : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-sockaddr">sockaddr</a></span></code></div><div class="spec-doc"><p>Get a sockaddr from a hostname or IP, and a port</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_in_channel_timeout" class="anchored"><a href="#val-set_in_channel_timeout" class="anchor"></a><code><span><span class="keyword">val</span> set_in_channel_timeout : <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set a timeout for a socket associated with an <code>In_channel.t</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_out_channel_timeout" class="anchored"><a href="#val-set_out_channel_timeout" class="anchor"></a><code><span><span class="keyword">val</span> set_out_channel_timeout : <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set a timeout for a socket associated with an <code>Out_channel.t</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-exit_immediately" class="anchored"><a href="#val-exit_immediately" class="anchor"></a><code><span><span class="keyword">val</span> exit_immediately : <span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">_</span></span></code></div><div class="spec-doc"><p><code>exit_immediately exit_code</code> immediately calls the <code>exit</code> system call with the given exit code without performing any other actions (unlike Caml.exit). Does not return.</p></div></div><h3 id="filesystem-functions"><a href="#filesystem-functions" class="anchor"></a>Filesystem functions</h3><div class="odoc-spec"><div class="spec value" id="val-mknod" class="anchored"><a href="#val-mknod" class="anchor"></a><code><span><span class="keyword">val</span> mknod : 
  <span>?file_kind:<a href="#type-file_kind">file_kind</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?perm:int <span class="arrow">&#45;&gt;</span></span>
  <span>?major:int <span class="arrow">&#45;&gt;</span></span>
  <span>?minor:int <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>mknod ?file_kind ?perm ?major ?minor path</code> creates a filesystem entry. Note that only FIFO-entries are guaranteed to be supported across all platforms as required by the POSIX-standard. On Linux directories and symbolic links cannot be created with this function. Use <code>Unix</code>.mkdir and <code>Unix</code>.symlink instead there respectively.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if an unsupported file kind is used.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>if the system call fails.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">file_kind</span> <p>default = <code>S_REG</code> (= regular file)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">perm</span> <p>default = <code>0o600</code> (= read/write for user only)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">major</span> <p>default = <code>0</code></p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">minor</span> <p>default = <code>0</code></p></li></ul></div></div><h3 id="i/o-vectors"><a href="#i/o-vectors" class="anchor"></a>I/O vectors</h3><div class="odoc-spec"><div class="spec module" id="module-IOVec" class="anchored"><a href="#module-IOVec" class="anchor"></a><code><span><span class="keyword">module</span> <a href="IOVec/index.html">IOVec</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>I/O-vectors for scatter/gather-operations</p></div></div><h3 id="i/o-functions"><a href="#i/o-functions" class="anchor"></a>I/O functions</h3><div class="odoc-spec"><div class="spec value" id="val-dirfd" class="anchored"><a href="#val-dirfd" class="anchor"></a><code><span><span class="keyword">val</span> dirfd : <span><a href="#type-dir_handle">dir_handle</a> <span class="arrow">&#45;&gt;</span></span> <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div></div><p>Extract a file descriptor from a directory handle.</p><div class="odoc-spec"><div class="spec value" id="val-sync" class="anchored"><a href="#val-sync" class="anchor"></a><code><span><span class="keyword">val</span> sync : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Synchronize all filesystem buffers with disk.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fsync" class="anchored"><a href="#val-fsync" class="anchor"></a><code><span><span class="keyword">val</span> fsync : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fdatasync" class="anchored"><a href="#val-fdatasync" class="anchor"></a><code><span><span class="keyword">val</span> fdatasync : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Synchronize the kernel buffers of a given file descriptor with disk, but do not necessarily write file attributes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_assume_fd_is_nonblocking" class="anchored"><a href="#val-read_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> read_assume_fd_is_nonblocking : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>read_assume_fd_is_nonblocking fd ?pos ?len buf</code> calls the system call <code>read</code> ASSUMING THAT IT IS NOT GOING TO BLOCK. Reads at most <code>len</code> bytes into buffer <code>buf</code> starting at position <code>pos</code>. </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the number of bytes actually read.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if buffer range out of bounds.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>on Unix-errors.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>= 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>= <code>String.length buf - pos</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-write_assume_fd_is_nonblocking" class="anchored"><a href="#val-write_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> write_assume_fd_is_nonblocking : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../core/Core/Bytes/index.html#type-t">Core.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>write_assume_fd_is_nonblocking fd ?pos ?len buf</code> calls the system call <code>write</code> ASSUMING THAT IT IS NOT GOING TO BLOCK. Writes at most <code>len</code> bytes from buffer <code>buf</code> starting at position <code>pos</code>. </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the number of bytes actually written.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if buffer range out of bounds.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>on Unix-errors.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>= 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>= <code>String.length buf - pos</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-writev_assume_fd_is_nonblocking" class="anchored"><a href="#val-writev_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> writev_assume_fd_is_nonblocking : 
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?count:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>string <a href="IOVec/index.html#type-t">IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>writev_assume_fd_is_nonblocking fd ?count iovecs</code> calls the system call <code>writev</code> ASSUMING THAT IT IS NOT GOING TO BLOCK using <code>count</code> I/O-vectors <code>iovecs</code>. </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the number of bytes actually written.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the designated ranges are invalid.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>on Unix-errors.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-writev" class="anchored"><a href="#val-writev" class="anchor"></a><code><span><span class="keyword">val</span> writev : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?count:int <span class="arrow">&#45;&gt;</span></span> <span><span><span>string <a href="IOVec/index.html#type-t">IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>writev fd ?count iovecs</code> like <a href="#val-writev_assume_fd_is_nonblocking"><code>writev_assume_fd_is_nonblocking</code></a>, but does not require the descriptor to not block. If you feel you have to use this function, you should probably have chosen I/O-vectors that build on bigstrings, because this function has to internally blit the I/O-vectors (ordinary OCaml strings) to intermediate buffers on the C-heap.</p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the number of bytes actually written.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the designated ranges are invalid.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>on Unix-errors.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-pselect" class="anchored"><a href="#val-pselect" class="anchor"></a><code><span><span class="keyword">val</span> pselect : 
  <span><span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span><span>int list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> * <span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span> * <span><a href="File_descr/index.html#type-t">File_descr.t</a> list</span></span></code></div><div class="spec-doc"><p><code>pselect rfds wfds efds timeout sigmask</code> like <a href="#val-select"><code>Core_unix.select</code></a> but also allows one to wait for the arrival of signals.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-RLimit" class="anchored"><a href="#module-RLimit" class="anchor"></a><code><span><span class="keyword">module</span> <a href="RLimit/index.html">RLimit</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Resource_usage" class="anchored"><a href="#module-Resource_usage" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Resource_usage/index.html">Resource_usage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-sysconf" class="anchored"><a href="#type-sysconf" class="anchor"></a><code><span><span class="keyword">type</span> sysconf</span><span> = </span></code><table><tr id="type-sysconf.ARG_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.ARG_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">ARG_MAX</span></span></code></td></tr><tr id="type-sysconf.CHILD_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.CHILD_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">CHILD_MAX</span></span></code></td></tr><tr id="type-sysconf.HOST_NAME_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.HOST_NAME_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">HOST_NAME_MAX</span></span></code></td></tr><tr id="type-sysconf.LOGIN_NAME_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.LOGIN_NAME_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">LOGIN_NAME_MAX</span></span></code></td></tr><tr id="type-sysconf.OPEN_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.OPEN_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">OPEN_MAX</span></span></code></td></tr><tr id="type-sysconf.PAGESIZE" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.PAGESIZE" class="anchor"></a><code><span>| </span><span><span class="constructor">PAGESIZE</span></span></code></td></tr><tr id="type-sysconf.RE_DUP_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.RE_DUP_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">RE_DUP_MAX</span></span></code></td></tr><tr id="type-sysconf.STREAM_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.STREAM_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">STREAM_MAX</span></span></code></td></tr><tr id="type-sysconf.SYMLOOP_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.SYMLOOP_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">SYMLOOP_MAX</span></span></code></td></tr><tr id="type-sysconf.TTY_NAME_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.TTY_NAME_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">TTY_NAME_MAX</span></span></code></td></tr><tr id="type-sysconf.TZNAME_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.TZNAME_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">TZNAME_MAX</span></span></code></td></tr><tr id="type-sysconf.POSIX_VERSION" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.POSIX_VERSION" class="anchor"></a><code><span>| </span><span><span class="constructor">POSIX_VERSION</span></span></code></td></tr><tr id="type-sysconf.PHYS_PAGES" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.PHYS_PAGES" class="anchor"></a><code><span>| </span><span><span class="constructor">PHYS_PAGES</span></span></code></td></tr><tr id="type-sysconf.AVPHYS_PAGES" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.AVPHYS_PAGES" class="anchor"></a><code><span>| </span><span><span class="constructor">AVPHYS_PAGES</span></span></code></td></tr><tr id="type-sysconf.IOV_MAX" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.IOV_MAX" class="anchor"></a><code><span>| </span><span><span class="constructor">IOV_MAX</span></span></code></td></tr><tr id="type-sysconf.CLK_TCK" class="anchored"><td class="def variant constructor"><a href="#type-sysconf.CLK_TCK" class="anchor"></a><code><span>| </span><span><span class="constructor">CLK_TCK</span></span></code></td></tr></table></div><div class="spec-doc"><p>System configuration</p><p>See 'man sysconf' for documentation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_sysconf" class="anchored"><a href="#val-sexp_of_sysconf" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_sysconf : <span><a href="#type-sysconf">sysconf</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sysconf_of_sexp" class="anchored"><a href="#val-sysconf_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> sysconf_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-sysconf">sysconf</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sysconf" class="anchored"><a href="#val-sysconf" class="anchor"></a><code><span><span class="keyword">val</span> sysconf : <span><a href="#type-sysconf">sysconf</a> <span class="arrow">&#45;&gt;</span></span> <span>int64 option</span></span></code></div><div class="spec-doc"><p>Wrapper over <code>sysconf</code> function in C.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sysconf_exn" class="anchored"><a href="#val-sysconf_exn" class="anchor"></a><code><span><span class="keyword">val</span> sysconf_exn : <span><a href="#type-sysconf">sysconf</a> <span class="arrow">&#45;&gt;</span></span> int64</span></code></div></div><h3 id="temporary-file-and-directory-creation"><a href="#temporary-file-and-directory-creation" class="anchor"></a>Temporary file and directory creation</h3><div class="odoc-spec"><div class="spec value" id="val-mkstemp" class="anchored"><a href="#val-mkstemp" class="anchor"></a><code><span><span class="keyword">val</span> mkstemp : <span>string <span class="arrow">&#45;&gt;</span></span> string * <a href="File_descr/index.html#type-t">File_descr.t</a></span></code></div><div class="spec-doc"><p><code>mkstemp prefix</code> creates and opens a unique temporary file with <code>prefix</code>, automatically appending a suffix of <code>.tmp.</code> followed by six random characters to make the name unique. Unlike C's <code>mkstemp</code>, <code>prefix</code> should not include six X's at the end.</p><p>The file descriptor will have close-on-exec flag set, atomically when the O_CLOEXEC flag is supported.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>on errors.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-mkdtemp" class="anchored"><a href="#val-mkdtemp" class="anchor"></a><code><span><span class="keyword">val</span> mkdtemp : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>mkdtemp prefix</code> creates a temporary directory with <code>prefix</code>, automatically appending a suffix of <code>.tmp.</code> followed by six random characters to make the name unique.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Unix_error</span> <p>on errors.</p></li></ul></div></div><h3 id="signal-handling"><a href="#signal-handling" class="anchor"></a>Signal handling</h3><div class="odoc-spec"><div class="spec value" id="val-abort" class="anchored"><a href="#val-abort" class="anchor"></a><code><span><span class="keyword">val</span> abort : <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">_</span></span></code></div><div class="spec-doc"><p>Causes abnormal program termination unless the signal SIGABRT is caught and the signal handler does not return. If the SIGABRT signal is blocked or ignored, the abort() function will still override it.</p></div></div><h3 id="user-id,-group-id_2"><a href="#user-id,-group-id_2" class="anchor"></a>User id, group id</h3><div class="odoc-spec"><div class="spec value" id="val-initgroups" class="anchored"><a href="#val-initgroups" class="anchor"></a><code><span><span class="keyword">val</span> initgroups : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getgrouplist" class="anchored"><a href="#val-getgrouplist" class="anchor"></a><code><span><span class="keyword">val</span> getgrouplist : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int array</span></span></code></div><div class="spec-doc"><p><code>getgrouplist user group</code> returns the list of groups to which <code>user</code> belongs. See 'man getgrouplist'.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getgroups" class="anchored"><a href="#val-getgroups" class="anchor"></a><code><span><span class="keyword">val</span> getgroups : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>int array</span></span></code></div><div class="spec-doc"><p>Return the list of groups to which the user executing the process belongs.</p></div></div><h3 id="globbing-and-shell-expansion"><a href="#globbing-and-shell-expansion" class="anchor"></a>Globbing and shell expansion</h3><div class="odoc-spec"><div class="spec value" id="val-fnmatch" class="anchored"><a href="#val-fnmatch" class="anchor"></a><code><span><span class="keyword">val</span> fnmatch : 
  <span>?flags:
    <span><span>[ `No_escape
    <span>| `Pathname</span>
    <span>| `Period</span>
    <span>| `File_name</span>
    <span>| `Leading_dir</span>
    <span>| `Casefold</span> ]</span>
      list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>pat:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  bool</span></code></div><div class="spec-doc"><p>no system calls involved</p></div></div><div class="odoc-spec"><div class="spec value" id="val-wordexp" class="anchored"><a href="#val-wordexp" class="anchor"></a><code><span><span class="keyword">val</span> wordexp : 
  <span><span>( <span>?flags:<span><span>[ `No_cmd <span>| `Show_err</span> <span>| `Undef</span> ]</span> list</span> <span class="arrow">&#45;&gt;</span></span>
    <span>string <span class="arrow">&#45;&gt;</span></span>
    <span>string array</span> )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p>See man page for wordexp.</p></div></div><h3 id="system-information"><a href="#system-information" class="anchor"></a>System information</h3><div class="odoc-spec"><div class="spec module" id="module-Utsname" class="anchored"><a href="#module-Utsname" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Utsname/index.html">Utsname</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-uname" class="anchored"><a href="#val-uname" class="anchor"></a><code><span><span class="keyword">val</span> uname : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="Utsname/index.html#type-t">Utsname.t</a></span></code></div><div class="spec-doc"><p>See man page for uname.</p></div></div><h3 id="additional-ip-functionality"><a href="#additional-ip-functionality" class="anchor"></a>Additional IP functionality</h3><div class="odoc-spec"><div class="spec value" id="val-if_indextoname" class="anchored"><a href="#val-if_indextoname" class="anchor"></a><code><span><span class="keyword">val</span> if_indextoname : <span>int <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>if_indextoname ifindex</code> If <code>ifindex</code> is an interface index, then the function returns the interface name. Otherwise, it raises <code>Unix_error</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mcast_join" class="anchored"><a href="#val-mcast_join" class="anchor"></a><code><span><span class="keyword">val</span> mcast_join : 
  <span>?ifname:string <span class="arrow">&#45;&gt;</span></span>
  <span>?source:<a href="Inet_addr/index.html#type-t">Inet_addr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>mcast_join ?ifname ?source sock addr</code> join a multicast group at <code>addr</code> with socket <code>sock</code>, from source at <code>source</code> if specified, optionally using network interface <code>ifname</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">ifname</span> <p>default = any interface</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-mcast_leave" class="anchored"><a href="#val-mcast_leave" class="anchor"></a><code><span><span class="keyword">val</span> mcast_leave : 
  <span>?ifname:string <span class="arrow">&#45;&gt;</span></span>
  <span>?source:<a href="Inet_addr/index.html#type-t">Inet_addr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-sockaddr">sockaddr</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>mcast_leave ?ifname ?source sock addr</code> leaves a multicast group at <code>addr</code> with socket <code>sock</code>, from source at <code>source</code> if specified, optionally using network interface <code>ifname</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">ifname</span> <p>default = any interface</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_mcast_ttl" class="anchored"><a href="#val-get_mcast_ttl" class="anchor"></a><code><span><span class="keyword">val</span> get_mcast_ttl : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>get_mcast_ttl sock</code> reads the time-to-live value of outgoing multicast packets for socket <code>sock</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_mcast_ttl" class="anchored"><a href="#val-set_mcast_ttl" class="anchor"></a><code><span><span class="keyword">val</span> set_mcast_ttl : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_mcast_ttl sock ttl</code> sets the time-to-live value of outgoing multicast packets for socket <code>sock</code> to <code>ttl</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_mcast_loop" class="anchored"><a href="#val-get_mcast_loop" class="anchor"></a><code><span><span class="keyword">val</span> get_mcast_loop : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>get_mcast_loop sock</code> reads the boolean argument that determines whether sent multicast packets are looped back to local sockets.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_mcast_loop" class="anchored"><a href="#val-set_mcast_loop" class="anchor"></a><code><span><span class="keyword">val</span> set_mcast_loop : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_mcast_loop sock loop</code> sets the boolean argument that determines whether sent multicast packets are looped back to local sockets.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_mcast_ifname" class="anchored"><a href="#val-set_mcast_ifname" class="anchor"></a><code><span><span class="keyword">val</span> set_mcast_ifname : <span><a href="File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_mcast_ifname sock &quot;eth0&quot;</code> sets outgoing multicast traffic on IPv4 UDP socket <code>sock</code> to go out through interface <code>eth0</code>.</p><p>This uses <code>setsockopt</code> with <code>IP_MULTICAST_IF</code> and applies to multicast traffic. For non-multicast applications, see <a href="../Linux_ext/index.html#val-bind_to_interface"><code>Linux_ext.bind_to_interface</code></a>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Scheduler" class="anchored"><a href="#module-Scheduler" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Scheduler/index.html">Scheduler</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Priority" class="anchored"><a href="#module-Priority" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Priority/index.html">Priority</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Mman" class="anchored"><a href="#module-Mman" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Mman/index.html">Mman</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>For keeping your memory in RAM, i.e. preventing it from being swapped out.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Ifaddr" class="anchored"><a href="#module-Ifaddr" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Ifaddr/index.html">Ifaddr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A network interface on the local machine. See <code>man getifaddrs</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getifaddrs" class="anchored"><a href="#val-getifaddrs" class="anchor"></a><code><span><span class="keyword">val</span> getifaddrs : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="Ifaddr/index.html#type-t">Ifaddr.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Stable" class="anchored"><a href="#module-Stable" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stable/index.html">Stable</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>