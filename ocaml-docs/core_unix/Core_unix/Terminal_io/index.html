<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Terminal_io (core_unix.Core_unix.Terminal_io)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">core_unix</a> &#x00BB; <a href="../index.html">Core_unix</a> &#x00BB; Terminal_io</nav><header class="odoc-preamble"><h1>Module <code><span>Core_unix.Terminal_io</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.terminal_io</span><span> = </span><span>{</span></code><table><tr id="type-t.c_ignbrk" class="anchored"><td class="def record field"><a href="#type-t.c_ignbrk" class="anchor"></a><code><span><span class="keyword">mutable</span> c_ignbrk : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Ignore the break condition.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_brkint" class="anchored"><td class="def record field"><a href="#type-t.c_brkint" class="anchor"></a><code><span><span class="keyword">mutable</span> c_brkint : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Signal interrupt on break condition.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_ignpar" class="anchored"><td class="def record field"><a href="#type-t.c_ignpar" class="anchor"></a><code><span><span class="keyword">mutable</span> c_ignpar : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Ignore characters with parity errors.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_parmrk" class="anchored"><td class="def record field"><a href="#type-t.c_parmrk" class="anchor"></a><code><span><span class="keyword">mutable</span> c_parmrk : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Mark parity errors.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_inpck" class="anchored"><td class="def record field"><a href="#type-t.c_inpck" class="anchor"></a><code><span><span class="keyword">mutable</span> c_inpck : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Enable parity check on input.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_istrip" class="anchored"><td class="def record field"><a href="#type-t.c_istrip" class="anchor"></a><code><span><span class="keyword">mutable</span> c_istrip : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Strip 8th bit on input characters.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_inlcr" class="anchored"><td class="def record field"><a href="#type-t.c_inlcr" class="anchor"></a><code><span><span class="keyword">mutable</span> c_inlcr : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Map NL to CR on input.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_igncr" class="anchored"><td class="def record field"><a href="#type-t.c_igncr" class="anchor"></a><code><span><span class="keyword">mutable</span> c_igncr : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Ignore CR on input.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_icrnl" class="anchored"><td class="def record field"><a href="#type-t.c_icrnl" class="anchor"></a><code><span><span class="keyword">mutable</span> c_icrnl : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Map CR to NL on input.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_ixon" class="anchored"><td class="def record field"><a href="#type-t.c_ixon" class="anchor"></a><code><span><span class="keyword">mutable</span> c_ixon : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Recognize XON/XOFF characters on input.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_ixoff" class="anchored"><td class="def record field"><a href="#type-t.c_ixoff" class="anchor"></a><code><span><span class="keyword">mutable</span> c_ixoff : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Emit XON/XOFF chars to control input flow.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_opost" class="anchored"><td class="def record field"><a href="#type-t.c_opost" class="anchor"></a><code><span><span class="keyword">mutable</span> c_opost : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Enable output processing.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_obaud" class="anchored"><td class="def record field"><a href="#type-t.c_obaud" class="anchor"></a><code><span><span class="keyword">mutable</span> c_obaud : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Output baud rate (0 means close connection).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_ibaud" class="anchored"><td class="def record field"><a href="#type-t.c_ibaud" class="anchor"></a><code><span><span class="keyword">mutable</span> c_ibaud : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Input baud rate.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_csize" class="anchored"><td class="def record field"><a href="#type-t.c_csize" class="anchor"></a><code><span><span class="keyword">mutable</span> c_csize : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Number of bits per character (5-8).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_cstopb" class="anchored"><td class="def record field"><a href="#type-t.c_cstopb" class="anchor"></a><code><span><span class="keyword">mutable</span> c_cstopb : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Number of stop bits (1-2).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_cread" class="anchored"><td class="def record field"><a href="#type-t.c_cread" class="anchor"></a><code><span><span class="keyword">mutable</span> c_cread : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Reception is enabled.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_parenb" class="anchored"><td class="def record field"><a href="#type-t.c_parenb" class="anchor"></a><code><span><span class="keyword">mutable</span> c_parenb : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Enable parity generation and detection.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_parodd" class="anchored"><td class="def record field"><a href="#type-t.c_parodd" class="anchor"></a><code><span><span class="keyword">mutable</span> c_parodd : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Specify odd parity instead of even.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_hupcl" class="anchored"><td class="def record field"><a href="#type-t.c_hupcl" class="anchor"></a><code><span><span class="keyword">mutable</span> c_hupcl : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Hang up on last close.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_clocal" class="anchored"><td class="def record field"><a href="#type-t.c_clocal" class="anchor"></a><code><span><span class="keyword">mutable</span> c_clocal : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Ignore modem status lines.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_isig" class="anchored"><td class="def record field"><a href="#type-t.c_isig" class="anchor"></a><code><span><span class="keyword">mutable</span> c_isig : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Generate signal on INTR, QUIT, SUSP.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_icanon" class="anchored"><td class="def record field"><a href="#type-t.c_icanon" class="anchor"></a><code><span><span class="keyword">mutable</span> c_icanon : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Enable canonical processing (line buffering and editing)</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_noflsh" class="anchored"><td class="def record field"><a href="#type-t.c_noflsh" class="anchor"></a><code><span><span class="keyword">mutable</span> c_noflsh : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Disable flush after INTR, QUIT, SUSP.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_echo" class="anchored"><td class="def record field"><a href="#type-t.c_echo" class="anchor"></a><code><span><span class="keyword">mutable</span> c_echo : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Echo input characters.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_echoe" class="anchored"><td class="def record field"><a href="#type-t.c_echoe" class="anchor"></a><code><span><span class="keyword">mutable</span> c_echoe : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Echo ERASE (to erase previous character).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_echok" class="anchored"><td class="def record field"><a href="#type-t.c_echok" class="anchor"></a><code><span><span class="keyword">mutable</span> c_echok : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Echo KILL (to erase the current line).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_echonl" class="anchored"><td class="def record field"><a href="#type-t.c_echonl" class="anchor"></a><code><span><span class="keyword">mutable</span> c_echonl : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Echo NL even if c_echo is not set.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_vintr" class="anchored"><td class="def record field"><a href="#type-t.c_vintr" class="anchor"></a><code><span><span class="keyword">mutable</span> c_vintr : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Interrupt character (usually ctrl-C).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_vquit" class="anchored"><td class="def record field"><a href="#type-t.c_vquit" class="anchor"></a><code><span><span class="keyword">mutable</span> c_vquit : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Quit character (usually ctrl-\).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_verase" class="anchored"><td class="def record field"><a href="#type-t.c_verase" class="anchor"></a><code><span><span class="keyword">mutable</span> c_verase : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Erase character (usually DEL or ctrl-H).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_vkill" class="anchored"><td class="def record field"><a href="#type-t.c_vkill" class="anchor"></a><code><span><span class="keyword">mutable</span> c_vkill : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Kill line character (usually ctrl-U).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_veof" class="anchored"><td class="def record field"><a href="#type-t.c_veof" class="anchor"></a><code><span><span class="keyword">mutable</span> c_veof : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>End-of-file character (usually ctrl-D).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_veol" class="anchored"><td class="def record field"><a href="#type-t.c_veol" class="anchor"></a><code><span><span class="keyword">mutable</span> c_veol : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Alternate end-of-line char. (usually none).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_vmin" class="anchored"><td class="def record field"><a href="#type-t.c_vmin" class="anchor"></a><code><span><span class="keyword">mutable</span> c_vmin : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Minimum number of characters to read before the read request is satisfied.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_vtime" class="anchored"><td class="def record field"><a href="#type-t.c_vtime" class="anchor"></a><code><span><span class="keyword">mutable</span> c_vtime : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Maximum read wait (in 0.1s units).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_vstart" class="anchored"><td class="def record field"><a href="#type-t.c_vstart" class="anchor"></a><code><span><span class="keyword">mutable</span> c_vstart : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Start character (usually ctrl-Q).</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.c_vstop" class="anchored"><td class="def record field"><a href="#type-t.c_vstop" class="anchor"></a><code><span><span class="keyword">mutable</span> c_vstop : char;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Stop character (usually ctrl-S).</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-setattr_when" class="anchored"><a href="#type-setattr_when" class="anchor"></a><code><span><span class="keyword">type</span> setattr_when</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.setattr_when</span><span> = </span></code><table><tr id="type-setattr_when.TCSANOW" class="anchored"><td class="def variant constructor"><a href="#type-setattr_when.TCSANOW" class="anchor"></a><code><span>| </span><span><span class="constructor">TCSANOW</span></span></code></td></tr><tr id="type-setattr_when.TCSADRAIN" class="anchored"><td class="def variant constructor"><a href="#type-setattr_when.TCSADRAIN" class="anchor"></a><code><span>| </span><span><span class="constructor">TCSADRAIN</span></span></code></td></tr><tr id="type-setattr_when.TCSAFLUSH" class="anchored"><td class="def variant constructor"><a href="#type-setattr_when.TCSAFLUSH" class="anchor"></a><code><span>| </span><span><span class="constructor">TCSAFLUSH</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_setattr_when" class="anchored"><a href="#val-sexp_of_setattr_when" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_setattr_when : <span><a href="#type-setattr_when">setattr_when</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-tcgetattr" class="anchored"><a href="#val-tcgetattr" class="anchor"></a><code><span><span class="keyword">val</span> tcgetattr : <span><a href="../File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Return the status of the terminal referred to by the given file descriptor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tcsetattr" class="anchored"><a href="#val-tcsetattr" class="anchor"></a><code><span><span class="keyword">val</span> tcsetattr : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>mode:<a href="#type-setattr_when">setattr_when</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the status of the terminal referred to by the given file descriptor. The second argument indicates when the status change takes place: immediately (<code>TCSANOW</code>), when all pending output has been transmitted (<code>TCSADRAIN</code>), or after flushing all input that has been received but not read (<code>TCSAFLUSH</code>). <code>TCSADRAIN</code> is recommended when changing the output parameters; <code>TCSAFLUSH</code>, when changing the input parameters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tcsendbreak" class="anchored"><a href="#val-tcsendbreak" class="anchor"></a><code><span><span class="keyword">val</span> tcsendbreak : <span><a href="../File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>duration:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Send a break condition on the given file descriptor. The second argument is the duration of the break, in 0.1s units; 0 means standard duration (0.25s).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tcdrain" class="anchored"><a href="#val-tcdrain" class="anchor"></a><code><span><span class="keyword">val</span> tcdrain : <span><a href="../File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Waits until all output written on the given file descriptor has been transmitted.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-flush_queue" class="anchored"><a href="#type-flush_queue" class="anchor"></a><code><span><span class="keyword">type</span> flush_queue</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.flush_queue</span><span> = </span></code><table><tr id="type-flush_queue.TCIFLUSH" class="anchored"><td class="def variant constructor"><a href="#type-flush_queue.TCIFLUSH" class="anchor"></a><code><span>| </span><span><span class="constructor">TCIFLUSH</span></span></code></td></tr><tr id="type-flush_queue.TCOFLUSH" class="anchored"><td class="def variant constructor"><a href="#type-flush_queue.TCOFLUSH" class="anchor"></a><code><span>| </span><span><span class="constructor">TCOFLUSH</span></span></code></td></tr><tr id="type-flush_queue.TCIOFLUSH" class="anchored"><td class="def variant constructor"><a href="#type-flush_queue.TCIOFLUSH" class="anchor"></a><code><span>| </span><span><span class="constructor">TCIOFLUSH</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_flush_queue" class="anchored"><a href="#val-sexp_of_flush_queue" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_flush_queue : <span><a href="#type-flush_queue">flush_queue</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-flush_queue_of_sexp" class="anchored"><a href="#val-flush_queue_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> flush_queue_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-flush_queue">flush_queue</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-tcflush" class="anchored"><a href="#val-tcflush" class="anchor"></a><code><span><span class="keyword">val</span> tcflush : <span><a href="../File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>mode:<a href="#type-flush_queue">flush_queue</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Discard data written on the given file descriptor but not yet transmitted, or data received but not yet read, depending on the second argument: <code>TCIFLUSH</code> flushes data received but not read, <code>TCOFLUSH</code> flushes data written but not transmitted, and <code>TCIOFLUSH</code> flushes both.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-flow_action" class="anchored"><a href="#type-flow_action" class="anchor"></a><code><span><span class="keyword">type</span> flow_action</span><span> = <span class="xref-unresolved">Core_unix__</span>.Import.Unix.flow_action</span><span> = </span></code><table><tr id="type-flow_action.TCOOFF" class="anchored"><td class="def variant constructor"><a href="#type-flow_action.TCOOFF" class="anchor"></a><code><span>| </span><span><span class="constructor">TCOOFF</span></span></code></td></tr><tr id="type-flow_action.TCOON" class="anchored"><td class="def variant constructor"><a href="#type-flow_action.TCOON" class="anchor"></a><code><span>| </span><span><span class="constructor">TCOON</span></span></code></td></tr><tr id="type-flow_action.TCIOFF" class="anchored"><td class="def variant constructor"><a href="#type-flow_action.TCIOFF" class="anchor"></a><code><span>| </span><span><span class="constructor">TCIOFF</span></span></code></td></tr><tr id="type-flow_action.TCION" class="anchored"><td class="def variant constructor"><a href="#type-flow_action.TCION" class="anchor"></a><code><span>| </span><span><span class="constructor">TCION</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_flow_action" class="anchored"><a href="#val-sexp_of_flow_action" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_flow_action : <span><a href="#type-flow_action">flow_action</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-flow_action_of_sexp" class="anchored"><a href="#val-flow_action_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> flow_action_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-flow_action">flow_action</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-tcflow" class="anchored"><a href="#val-tcflow" class="anchor"></a><code><span><span class="keyword">val</span> tcflow : <span><a href="../File_descr/index.html#type-t">File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>mode:<a href="#type-flow_action">flow_action</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Suspend or restart reception or transmission of data on the given file descriptor, depending on the second argument: <code>TCOOFF</code> suspends output, <code>TCOON</code> restarts output, <code>TCIOFF</code> transmits a STOP character to suspend input, and <code>TCION</code> transmits a START character to restart input.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setsid" class="anchored"><a href="#val-setsid" class="anchor"></a><code><span><span class="keyword">val</span> setsid : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Put the calling process in a new session and detach it from its controlling terminal.</p></div></div></div></body></html>