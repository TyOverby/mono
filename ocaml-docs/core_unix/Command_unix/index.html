<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Command_unix (core_unix.Command_unix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">core_unix</a> &#x00BB; Command_unix</nav><header class="odoc-preamble"><h1>Module <code><span>Command_unix</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-run" class="anchored"><a href="#val-run" class="anchor"></a><code><span><span class="keyword">val</span> run : 
  <span>?verbose_on_parse_error:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?version:string <span class="arrow">&#45;&gt;</span></span>
  <span>?build_info:string <span class="arrow">&#45;&gt;</span></span>
  <span>?argv:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?extend:<span>( <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>string list</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?when_parsing_succeeds:<span>( <span>unit <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?complete_subcommands:
    <span>( <span>path:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
      <span>part:string <span class="arrow">&#45;&gt;</span></span>
      <span><span><span>string list</span> list</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span>string list</span> option</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../core/Core/Command/index.html#type-t">Core.Command.t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Runs a command against <code>Sys.argv</code>, or <code>argv</code> if it is specified.</p><p><code>extend</code> can be used to add extra command line arguments to basic subcommands of the command. <code>extend</code> will be passed the (fully expanded) path to a command, and its output will be appended to the list of arguments being processed. For example, suppose a program like this is compiled into <code>exe</code>:</p><pre><code>let bar = Command.basic ___
let foo = Command.group ~summary:___ [&quot;bar&quot;, bar]
let main = Command.group ~summary:___ [&quot;foo&quot;, foo]
let () = Command.run ~extend:(fun _ -&gt; [&quot;-baz&quot;]) main</code></pre><p>Then if a user ran <code>exe f b</code>, <code>extend</code> would be passed <code>[&quot;foo&quot;; &quot;bar&quot;]</code> and <code>&quot;-baz&quot;</code> would be appended to the command line for processing by <code>bar</code>. This can be used to add a default flags section to a user config file.</p><p><code>verbose_on_parse_error</code> controls whether to print a line suggesting the user try the &quot;-help&quot; flag when an exception is raised while parsing the arguments. By default it is true.</p><p><code>when_parsing_succeeds</code> is invoked after argument parsing has completed successfully, but before the main function of the associated command has run. One use-case is for performing logging when a command is being invoked, where there's no reason to log incorrect invocations or -help calls.</p><p><code>complete_subcommands</code> can be used to override the completion mechanism.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Path" class="anchored"><a href="#module-Path" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Path/index.html">Path</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Shape" class="anchored"><a href="#module-Shape" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Shape/index.html">Shape</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shape" class="anchored"><a href="#val-shape" class="anchor"></a><code><span><span class="keyword">val</span> shape : <span><a href="../../core/Core/Command/index.html#type-t">Core.Command.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../core/Core/Command/Shape/index.html#type-t">Core.Command.Shape.t</a></span></code></div><div class="spec-doc"><p>Exposes the shape of a command.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Deprecated" class="anchored"><a href="#module-Deprecated" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Deprecated/index.html">Deprecated</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>Deprecated</code> should be used only by <code>Deprecated_command</code>. At some point it will go away.</p></div></div></div></body></html>