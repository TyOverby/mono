<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bigstring_unix (core_unix.Bigstring_unix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">core_unix</a> &#x00BB; Bigstring_unix</nav><header class="odoc-preamble"><h1>Module <code><span>Bigstring_unix</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#input-functions">Input functions</a></li><li><a href="#output-functions">Output functions</a></li><li><a href="#unsafe-functions">Unsafe functions</a></li><li><a href="#memory-mapping">Memory mapping</a></li></ul></nav><div class="odoc-content"><p>String type based on <code>Bigarray</code>, for use in I/O and C-bindings, extending <a href="../../core/Core/Bigstring/index.html"><code>Core.Bigstring</code></a>.</p><div class="odoc-spec"><div class="spec module-substitution" id="module-Unix" class="anchored"><a href="#module-Unix" class="anchor"></a><code><span><span class="keyword">module</span> Unix := <a href="../Core_unix/index.html">Core_unix</a></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="../../core/Core/Bigstring/index.html">Core.Bigstring</a> <span class="keyword">end</span></span></code></summary><h3 id="types-and-exceptions"><a href="#types-and-exceptions" class="anchor"></a>Types and exceptions</h3><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> =
  <span><span>( <a href="../../base/Base/Char/index.html#type-t">Base.Char.t</a>, <span class="xref-unresolved">Stdlib</span>.Bigarray.int8_unsigned_elt, <span class="xref-unresolved">Stdlib</span>.Bigarray.c_layout )</span>
    <span class="xref-unresolved">Stdlib</span>.Bigarray.Array1.t</span></span></code></div><div class="spec-doc"><p>Type of bigstrings</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../ppx_compare/Ppx_compare_lib/Comparable/module-type-S/index.html">Ppx_compare_lib.Comparable.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../ppx_compare/Ppx_compare_lib/Comparable/module-type-S/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../base_quickcheck/Ppx_quickcheck_runtime/Quickcheckable/module-type-S/index.html">Ppx_quickcheck_runtime.Quickcheckable.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base_quickcheck/Ppx_quickcheck_runtime/Quickcheckable/module-type-S/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-quickcheck_generator" class="anchored"><a href="#val-quickcheck_generator" class="anchor"></a><code><span><span class="keyword">val</span> quickcheck_generator : <span><a href="#type-t">t</a> <a href="../../base_quickcheck/Base_quickcheck/Generator/index.html#type-t">Base_quickcheck.Generator.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-quickcheck_observer" class="anchored"><a href="#val-quickcheck_observer" class="anchor"></a><code><span><span class="keyword">val</span> quickcheck_observer : <span><a href="#type-t">t</a> <a href="../../base_quickcheck/Base_quickcheck/Observer/index.html#type-t">Base_quickcheck.Observer.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-quickcheck_shrinker" class="anchored"><a href="#val-quickcheck_shrinker" class="anchor"></a><code><span><span class="keyword">val</span> quickcheck_shrinker : <span><a href="#type-t">t</a> <a href="../../base_quickcheck/Base_quickcheck/Shrinker/index.html#type-t">Base_quickcheck.Shrinker.t</a></span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t_frozen" class="anchored"><a href="#type-t_frozen" class="anchor"></a><code><span><span class="keyword">type</span> t_frozen</span><span> = <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Type of bigstrings which support hashing. Note that mutation invalidates previous hashes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_t_frozen" class="anchored"><a href="#val-compare_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> compare_t_frozen : <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_fold_t_frozen" class="anchored"><a href="#val-hash_fold_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> hash_fold_t_frozen : <span><a href="../../base/Base/Hash/index.html#type-state">Base.Hash.state</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Hash/index.html#type-state">Base.Hash.state</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_t_frozen" class="anchored"><a href="#val-hash_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> hash_t_frozen : <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Hash/index.html#type-hash_value">Base.Hash.hash_value</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t_frozen" class="anchored"><a href="#val-sexp_of_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t_frozen : <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../../base_bigstring/Base_bigstring/index.html">Base_bigstring</a>
  <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base_bigstring/Base_bigstring/index.html#type-t">t</a> := <a href="#type-t">t</a></span>
   <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../base_bigstring/Base_bigstring/index.html#type-t_frozen">t_frozen</a> := <a href="#type-t_frozen">t_frozen</a></span></span></code></summary><h3 id="types-and-exceptions_2"><a href="#types-and-exceptions_2" class="anchor"></a>Types and exceptions</h3><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../ppx_compare/Ppx_compare_lib/Comparable/module-type-S/index.html">Ppx_compare_lib.Comparable.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../ppx_compare/Ppx_compare_lib/Comparable/module-type-S/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Sexplib0</span>.Sexpable.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-t_of_sexp" class="anchored"><a href="#val-t_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> t_of_sexp : <span><span class="xref-unresolved">Sexplib0__</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0__</span>.Sexp.t</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-compare_t_frozen" class="anchored"><a href="#val-compare_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> compare_t_frozen : <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_fold_t_frozen" class="anchored"><a href="#val-hash_fold_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> hash_fold_t_frozen : <span><a href="../../base/Base/Hash/index.html#type-state">Base.Hash.state</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Hash/index.html#type-state">Base.Hash.state</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_t_frozen" class="anchored"><a href="#val-hash_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> hash_t_frozen : <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Hash/index.html#type-hash_value">Base.Hash.hash_value</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t_frozen" class="anchored"><a href="#val-sexp_of_t_frozen" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t_frozen : <span><a href="#type-t_frozen">t_frozen</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-t_frozen_of_sexp" class="anchored"><a href="#val-t_frozen_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> t_frozen_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t_frozen">t_frozen</a></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../base/Base/Equal/module-type-S/index.html">Base.Equal.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Equal/module-type-S/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <a href="../../base/Base/Equal/index.html#type-equal">Base.Equal.equal</a></span></span></code></div></div></details></div><h3 id="creation-and-string-conversion"><a href="#creation-and-string-conversion" class="anchor"></a>Creation and string conversion</h3><div class="odoc-spec"><div class="spec value" id="val-init" class="anchored"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-char">Base.char</a> )</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>init n ~f</code> creates a bigstring <code>t</code> of length <code>n</code>, with <code>t.{i} = f i</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_string" class="anchored"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>?pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span>?len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_string ?pos ?len str</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a new bigstring that is equivalent to the substring of length <code>len</code> in <code>str</code> starting at position <code>pos</code>.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>default = 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>default = <code>String.length str - pos</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-of_bytes" class="anchored"><a href="#val-of_bytes" class="anchor"></a><code><span><span class="keyword">val</span> of_bytes : <span>?pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span>?len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-bytes">Base.bytes</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_bytes ?pos ?len str</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a new bigstring that is equivalent to the subbytes of length <code>len</code> in <code>str</code> starting at position <code>pos</code>.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>default = 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>default = <code>Bytes.length str - pos</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span>?pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span>?len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-string">Base.string</a></span></code></div><div class="spec-doc"><p><code>to_string ?pos ?len bstr</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a new string that is equivalent to the substring of length <code>len</code> in <code>bstr</code> starting at position <code>pos</code>.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>default = 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>default = <code>length bstr - pos</code></p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the string would exceed runtime limits.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-to_bytes" class="anchored"><a href="#val-to_bytes" class="anchor"></a><code><span><span class="keyword">val</span> to_bytes : <span>?pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span>?len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-bytes">Base.bytes</a></span></code></div><div class="spec-doc"><p><code>to_bytes ?pos ?len bstr</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a new byte sequence that is equivalent to the substring of length <code>len</code> in <code>bstr</code> starting at position <code>pos</code>.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>default = 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>default = <code>length bstr - pos</code></p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the bytes would exceed runtime limits.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-concat" class="anchored"><a href="#val-concat" class="anchor"></a><code><span><span class="keyword">val</span> concat : <span>?sep:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> <a href="../../base/Base/index.html#type-list">Base.list</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>concat ?sep list</code> returns the concatenation of <code>list</code> with <code>sep</code> in between each.</p></div></div><h3 id="checking"><a href="#checking" class="anchor"></a>Checking</h3><div class="odoc-spec"><div class="spec value" id="val-check_args" class="anchored"><a href="#val-check_args" class="anchor"></a><code><span><span class="keyword">val</span> check_args : 
  <span>loc:<a href="../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span>len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>check_args ~loc ~pos ~len bstr</code> checks the position and length arguments <code>pos</code> and <code>len</code> for bigstrings <code>bstr</code>. </p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span>  <p>Invalid_argument if these arguments are illegal for the given bigstring using <code>loc</code> to indicate the calling context.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_opt_len" class="anchored"><a href="#val-get_opt_len" class="anchor"></a><code><span><span class="keyword">val</span> get_opt_len : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../base/Base/index.html#type-int">Base.int</a> <a href="../../base/Base/index.html#type-option">Base.option</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div><div class="spec-doc"><p><code>get_opt_len bstr ~pos opt_len</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the length of a subbigstring in <code>bstr</code> starting at position <code>pos</code> and given optional length <code>opt_len</code>. This function does not check the validity of its arguments. Use <code>check_args</code> for that purpose.</p></li></ul></div></div><h3 id="accessors"><a href="#accessors" class="anchor"></a>Accessors</h3><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div><div class="spec-doc"><p><code>length bstr</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the length of bigstring <code>bstr</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-char">Base.char</a></span></code></div><div class="spec-doc"><p><code>get t pos</code> returns the character at <code>pos</code></p></div></div><div class="odoc-spec"><div class="spec value external" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-char">Base.char</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>set t pos</code> sets the character at <code>pos</code></p></div></div><div class="odoc-spec"><div class="spec value external" id="val-is_mmapped" class="anchored"><a href="#val-is_mmapped" class="anchor"></a><code><span><span class="keyword">val</span> is_mmapped : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-bool">Base.bool</a></span></code></div><div class="spec-doc"><p><code>is_mmapped bstr</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>whether the bigstring <code>bstr</code> is memory-mapped.</p></li></ul></div></div><h3 id="blitting"><a href="#blitting" class="anchor"></a>Blitting</h3><p><code>blit ~src ?src_pos ?src_len ~dst ?dst_pos ()</code> blits <code>src_len</code> characters from <code>src</code> starting at position <code>src_pos</code> to <code>dst</code> at position <code>dst_pos</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the designated ranges are out of bounds.</p></li></ul><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../base/Base/Blit/module-type-S/index.html">Base.Blit.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Blit/module-type-S/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-blit" class="anchored"><a href="#val-blit" class="anchor"></a><code><span><span class="keyword">val</span> blit : <span>src:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>src_pos:int <span class="arrow">&#45;&gt;</span></span> <span>dst:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>dst_pos:int <span class="arrow">&#45;&gt;</span></span> <span>len:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-blito" class="anchored"><a href="#val-blito" class="anchor"></a><code><span><span class="keyword">val</span> blito : 
  <span>src:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?src_pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?src_len:int <span class="arrow">&#45;&gt;</span></span>
  <span>dst:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?dst_pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_blit" class="anchored"><a href="#val-unsafe_blit" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_blit : 
  <span>src:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>src_pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>dst:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>dst_pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:int <span class="arrow">&#45;&gt;</span></span> <span>len:int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-subo" class="anchored"><a href="#val-subo" class="anchor"></a><code><span><span class="keyword">val</span> subo : <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-To_string" class="anchored"><a href="#module-To_string" class="anchor"></a><code><span><span class="keyword">module</span> <a href="To_string/index.html">To_string</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-From_string" class="anchored"><a href="#module-From_string" class="anchor"></a><code><span><span class="keyword">module</span> <a href="From_string/index.html">From_string</a></span><span> : 
  <a href="../../base/Base/Blit/module-type-S_distinct/index.html">Base.Blit.S_distinct</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Blit/module-type-S_distinct/index.html#type-src">src</a> := <a href="../../base/Base/index.html#type-string">Base.string</a></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Blit/module-type-S_distinct/index.html#type-dst">dst</a> := <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-To_bytes" class="anchored"><a href="#module-To_bytes" class="anchor"></a><code><span><span class="keyword">module</span> <a href="To_bytes/index.html">To_bytes</a></span><span> : 
  <a href="../../base/Base/Blit/module-type-S_distinct/index.html">Base.Blit.S_distinct</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Blit/module-type-S_distinct/index.html#type-src">src</a> := <a href="#type-t">t</a></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Blit/module-type-S_distinct/index.html#type-dst">dst</a> := <a href="../../base/Base/index.html#type-bytes">Base.bytes</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-From_bytes" class="anchored"><a href="#module-From_bytes" class="anchor"></a><code><span><span class="keyword">module</span> <a href="From_bytes/index.html">From_bytes</a></span><span> : 
  <a href="../../base/Base/Blit/module-type-S_distinct/index.html">Base.Blit.S_distinct</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Blit/module-type-S_distinct/index.html#type-src">src</a> := <a href="../../base/Base/index.html#type-bytes">Base.bytes</a></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../base/Base/Blit/module-type-S_distinct/index.html#type-dst">dst</a> := <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-memset" class="anchored"><a href="#val-memset" class="anchor"></a><code><span><span class="keyword">val</span> memset : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span>len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-char">Base.char</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>memset t ~pos ~len c</code> fills <code>t</code> with <code>c</code> within the range <code>[pos, pos + len)</code>.</p></div></div><p>Memcmp</p><div class="odoc-spec"><div class="spec value" id="val-memcmp" class="anchored"><a href="#val-memcmp" class="anchor"></a><code><span><span class="keyword">val</span> memcmp : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos1:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos2:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span>len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div><div class="spec-doc"><p><code>memcmp t1 ~pos1 t2 ~pos2 ~len</code> is like <code>compare t1 t2</code> except performs the comparison on the subregions of <code>t1</code> and <code>t2</code> defined by <code>pos1</code>, <code>pos2</code>, and <code>len</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-memcmp_bytes" class="anchored"><a href="#val-memcmp_bytes" class="anchor"></a><code><span><span class="keyword">val</span> memcmp_bytes : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos1:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../base/Base/Bytes/index.html#type-t">Base.Bytes.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos2:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span>len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div><div class="spec-doc"><p><code>memcmp_bytes</code>, for efficient <code>memcmp</code> between <code>Bigstring</code> and <code>Bytes</code> data.</p></div></div><h3 id="search"><a href="#search" class="anchor"></a>Search</h3><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : 
  <span>?pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../base/Base/index.html#type-char">Base.char</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../base/Base/index.html#type-int">Base.int</a> <a href="../../base/Base/index.html#type-option">Base.option</a></span></span></code></div><div class="spec-doc"><p><code>find ?pos ?len char t</code> returns <code>Some i</code> for the smallest <code>i &gt;= pos</code> such that <code>t.{i} = char</code>, or <code>None</code> if there is no such <code>i</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>default = 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>default = <code>length bstr - pos</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_find" class="anchored"><a href="#val-unsafe_find" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_find : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-char">Base.char</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span>len:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div><div class="spec-doc"><p>Same as <code>find</code>, but does no bounds checking, and returns a negative value instead of <code>None</code> if <code>char</code> is not found.</p></div></div><h3 id="accessors-for-parsing-binary-values,-analogous-to-binary_packing"><a href="#accessors-for-parsing-binary-values,-analogous-to-binary_packing" class="anchor"></a>Accessors for parsing binary values, analogous to <code>Binary_packing</code></h3><p>These are in <code>Bigstring</code> rather than a separate module because:</p><p>1. Existing <code>Binary_packing</code> requires copies and does not work with <code>bigstring</code>s. 2. The accessors rely on the implementation of <code>bigstring</code>, and hence should change should the implementation of <code>bigstring</code> move away from <code>Bigarray</code>. 3. <code>Bigstring</code> already has some external C functions, so it didn't require many changes to the <code>jbuild</code> ^_^.</p><p>In a departure from <code>Binary_packing</code>, the naming conventions are chosen to be close to C99 stdint types, as it's a more standard description and it is somewhat useful in making compact macros for the implementations. The accessor names contain endian-ness to allow for branch-free implementations</p><p>&lt;accessor&gt; ::= &lt;unsafe&gt;&lt;operation&gt;&lt;type&gt;&lt;endian&gt; &lt;unsafe&gt; ::= unsafe_ | '' &lt;operation&gt; ::= get_ | set_ &lt;type&gt; ::= int8 | uint8 | int16 | uint16 | int32 | uint32 | int64 | uint64 &lt;endian&gt; ::= _le | _be | ''</p><p>The <code>unsafe_</code> prefix indicates that these functions do no bounds checking and silently truncate out-of-range numeric arguments.</p><div class="odoc-spec"><div class="spec value" id="val-get_int8" class="anchored"><a href="#val-get_int8" class="anchor"></a><code><span><span class="keyword">val</span> get_int8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int8_exn" class="anchored"><a href="#val-set_int8_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_int8_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_uint8" class="anchored"><a href="#val-get_uint8" class="anchor"></a><code><span><span class="keyword">val</span> get_uint8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_uint8_exn" class="anchored"><a href="#val-set_uint8_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_uint8_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int8" class="anchored"><a href="#val-unsafe_get_int8" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int8" class="anchored"><a href="#val-unsafe_set_int8" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_uint8" class="anchored"><a href="#val-unsafe_get_uint8" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_uint8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_uint8" class="anchored"><a href="#val-unsafe_set_uint8" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_uint8 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><h3 id="16-bit-methods"><a href="#16-bit-methods" class="anchor"></a>16-bit methods</h3><div class="odoc-spec"><div class="spec value" id="val-get_int16_le" class="anchored"><a href="#val-get_int16_le" class="anchor"></a><code><span><span class="keyword">val</span> get_int16_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int16_be" class="anchored"><a href="#val-get_int16_be" class="anchor"></a><code><span><span class="keyword">val</span> get_int16_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int16_le_exn" class="anchored"><a href="#val-set_int16_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_int16_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int16_be_exn" class="anchored"><a href="#val-set_int16_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_int16_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int16_le" class="anchored"><a href="#val-unsafe_get_int16_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int16_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int16_be" class="anchored"><a href="#val-unsafe_get_int16_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int16_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int16_le" class="anchored"><a href="#val-unsafe_set_int16_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int16_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int16_be" class="anchored"><a href="#val-unsafe_set_int16_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int16_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_uint16_le" class="anchored"><a href="#val-get_uint16_le" class="anchor"></a><code><span><span class="keyword">val</span> get_uint16_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_uint16_be" class="anchored"><a href="#val-get_uint16_be" class="anchor"></a><code><span><span class="keyword">val</span> get_uint16_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_uint16_le_exn" class="anchored"><a href="#val-set_uint16_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_uint16_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_uint16_be_exn" class="anchored"><a href="#val-set_uint16_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_uint16_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_uint16_le" class="anchored"><a href="#val-unsafe_get_uint16_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_uint16_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_uint16_be" class="anchored"><a href="#val-unsafe_get_uint16_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_uint16_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_uint16_le" class="anchored"><a href="#val-unsafe_set_uint16_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_uint16_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_uint16_be" class="anchored"><a href="#val-unsafe_set_uint16_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_uint16_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><h3 id="32-bit-methods"><a href="#32-bit-methods" class="anchor"></a>32-bit methods</h3><div class="odoc-spec"><div class="spec value" id="val-get_int32_le" class="anchored"><a href="#val-get_int32_le" class="anchor"></a><code><span><span class="keyword">val</span> get_int32_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int32_be" class="anchored"><a href="#val-get_int32_be" class="anchor"></a><code><span><span class="keyword">val</span> get_int32_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int32_le_exn" class="anchored"><a href="#val-set_int32_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_int32_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int32_be_exn" class="anchored"><a href="#val-set_int32_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_int32_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int32_le" class="anchored"><a href="#val-unsafe_get_int32_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int32_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int32_be" class="anchored"><a href="#val-unsafe_get_int32_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int32_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int32_le" class="anchored"><a href="#val-unsafe_set_int32_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int32_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int32_be" class="anchored"><a href="#val-unsafe_set_int32_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int32_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_uint32_le" class="anchored"><a href="#val-get_uint32_le" class="anchor"></a><code><span><span class="keyword">val</span> get_uint32_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_uint32_be" class="anchored"><a href="#val-get_uint32_be" class="anchor"></a><code><span><span class="keyword">val</span> get_uint32_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_uint32_le_exn" class="anchored"><a href="#val-set_uint32_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_uint32_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_uint32_be_exn" class="anchored"><a href="#val-set_uint32_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_uint32_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_uint32_le" class="anchored"><a href="#val-unsafe_get_uint32_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_uint32_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_uint32_be" class="anchored"><a href="#val-unsafe_get_uint32_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_uint32_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_uint32_le" class="anchored"><a href="#val-unsafe_set_uint32_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_uint32_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_uint32_be" class="anchored"><a href="#val-unsafe_set_uint32_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_uint32_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><p>Similar to the usage in binary_packing, the below methods are treating the value being read (or written), as an ocaml immediate integer, as such it is actually 63 bits. If the user is confident that the range of values used in practice will not require 64-bit precision (i.e. Less than Max_Long), then we can avoid allocation and use an immediate. If the user is wrong, an exception will be thrown (for get).</p><h3 id="64-bit-signed-values"><a href="#64-bit-signed-values" class="anchor"></a>64-bit signed values</h3><div class="odoc-spec"><div class="spec value" id="val-get_int64_le_exn" class="anchored"><a href="#val-get_int64_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> get_int64_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int64_be_exn" class="anchored"><a href="#val-get_int64_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> get_int64_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int64_le_trunc" class="anchored"><a href="#val-get_int64_le_trunc" class="anchor"></a><code><span><span class="keyword">val</span> get_int64_le_trunc : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int64_be_trunc" class="anchored"><a href="#val-get_int64_be_trunc" class="anchor"></a><code><span><span class="keyword">val</span> get_int64_be_trunc : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int64_le" class="anchored"><a href="#val-set_int64_le" class="anchor"></a><code><span><span class="keyword">val</span> set_int64_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int64_be" class="anchored"><a href="#val-set_int64_be" class="anchor"></a><code><span><span class="keyword">val</span> set_int64_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int64_le_exn" class="anchored"><a href="#val-unsafe_get_int64_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int64_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int64_be_exn" class="anchored"><a href="#val-unsafe_get_int64_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int64_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int64_le_trunc" class="anchored"><a href="#val-unsafe_get_int64_le_trunc" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int64_le_trunc : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int64_be_trunc" class="anchored"><a href="#val-unsafe_get_int64_be_trunc" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int64_be_trunc : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int64_le" class="anchored"><a href="#val-unsafe_set_int64_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int64_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int64_be" class="anchored"><a href="#val-unsafe_set_int64_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int64_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><h3 id="64-bit-unsigned-values"><a href="#64-bit-unsigned-values" class="anchor"></a>64-bit unsigned values</h3><div class="odoc-spec"><div class="spec value" id="val-get_uint64_be_exn" class="anchored"><a href="#val-get_uint64_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> get_uint64_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_uint64_le_exn" class="anchored"><a href="#val-get_uint64_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> get_uint64_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_uint64_le_exn" class="anchored"><a href="#val-set_uint64_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_uint64_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_uint64_be_exn" class="anchored"><a href="#val-set_uint64_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> set_uint64_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_uint64_be_exn" class="anchored"><a href="#val-unsafe_get_uint64_be_exn" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_uint64_be_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_uint64_le_exn" class="anchored"><a href="#val-unsafe_get_uint64_le_exn" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_uint64_le_exn : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-int">Base.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_uint64_le" class="anchored"><a href="#val-unsafe_set_uint64_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_uint64_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_uint64_be" class="anchored"><a href="#val-unsafe_set_uint64_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_uint64_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><h3 id="32-bit-methods-with-full-precision"><a href="#32-bit-methods-with-full-precision" class="anchor"></a>32-bit methods with full precision</h3><div class="odoc-spec"><div class="spec value" id="val-get_int32_t_le" class="anchored"><a href="#val-get_int32_t_le" class="anchor"></a><code><span><span class="keyword">val</span> get_int32_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int32_t_be" class="anchored"><a href="#val-get_int32_t_be" class="anchor"></a><code><span><span class="keyword">val</span> get_int32_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int32_t_le" class="anchored"><a href="#val-set_int32_t_le" class="anchor"></a><code><span><span class="keyword">val</span> set_int32_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int32_t_be" class="anchored"><a href="#val-set_int32_t_be" class="anchor"></a><code><span><span class="keyword">val</span> set_int32_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int32_t_le" class="anchored"><a href="#val-unsafe_get_int32_t_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int32_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int32_t_be" class="anchored"><a href="#val-unsafe_get_int32_t_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int32_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int32_t_le" class="anchored"><a href="#val-unsafe_set_int32_t_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int32_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int32_t_be" class="anchored"><a href="#val-unsafe_set_int32_t_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int32_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int32/index.html#type-t">Base.Int32.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><h3 id="64-bit-methods-with-full-precision"><a href="#64-bit-methods-with-full-precision" class="anchor"></a>64-bit methods with full precision</h3><div class="odoc-spec"><div class="spec value" id="val-get_int64_t_le" class="anchored"><a href="#val-get_int64_t_le" class="anchor"></a><code><span><span class="keyword">val</span> get_int64_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int64_t_be" class="anchored"><a href="#val-get_int64_t_be" class="anchor"></a><code><span><span class="keyword">val</span> get_int64_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int64_t_le" class="anchored"><a href="#val-set_int64_t_le" class="anchor"></a><code><span><span class="keyword">val</span> set_int64_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_int64_t_be" class="anchored"><a href="#val-set_int64_t_be" class="anchor"></a><code><span><span class="keyword">val</span> set_int64_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int64_t_le" class="anchored"><a href="#val-unsafe_get_int64_t_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int64_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_get_int64_t_be" class="anchored"><a href="#val-unsafe_get_int64_t_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_get_int64_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int64_t_le" class="anchored"><a href="#val-unsafe_set_int64_t_le" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int64_t_le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_set_int64_t_be" class="anchored"><a href="#val-unsafe_set_int64_t_be" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_set_int64_t_be : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:<a href="../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int64/index.html#type-t">Base.Int64.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Int_repr" class="anchored"><a href="#module-Int_repr" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Int_repr/index.html">Int_repr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Private" class="anchored"><a href="#module-Private" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Private/index.html">Private</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../core/Core/Hexdump_intf/module-type-S/index.html">Core.Hexdump.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../core/Core/Hexdump_intf/module-type-S/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec module" id="module-Hexdump" class="anchored"><a href="#module-Hexdump" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Hexdump/index.html">Hexdump</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></details></div><h3 id="creation-and-string-conversion_2"><a href="#creation-and-string-conversion_2" class="anchor"></a>Creation and string conversion</h3><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>?max_mem_waiting_gc:<span class="xref-unresolved">Core__Byte_units0.t</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create length</code></p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">max_mem_waiting_gc</span> <p>default = 256 M in OCaml &lt;= 3.12, 1 G otherwise. As the total allocation of calls to <code>create</code> approach <code>max_mem_waiting_gc</code>, the pressure in the garbage collector to be more agressive will increase.</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a new bigstring having <code>length</code>. Content is undefined.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sub_shared" class="anchored"><a href="#val-sub_shared" class="anchor"></a><code><span><span class="keyword">val</span> sub_shared : <span>?pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sub_shared ?pos ?len bstr</code> </p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>the sub-bigstring in <code>bstr</code> that starts at position <code>pos</code> and has length <code>len</code>. The sub-bigstring shares the same memory region, i.e. modifying it will modify the original bigstring. Holding on to the sub-bigstring will also keep the (usually bigger) original one around.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pos</span> <p>default = 0</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">len</span> <p>default = <code>Bigstring.length bstr - pos</code></p></li></ul></div></div><h3 id="reading/writing-bin-prot"><a href="#reading/writing-bin-prot" class="anchor"></a>Reading/writing bin-prot</h3><p>These functions write the &quot;size-prefixed&quot; bin-prot format that is used by, e.g., async's <code>Writer.write_bin_prot</code>, <code>Reader.read_bin_prot</code> and <code>Unpack_buffer.Unpack_one.create_bin_prot</code>.</p><div class="odoc-spec"><div class="spec value" id="val-write_bin_prot" class="anchored"><a href="#val-write_bin_prot" class="anchor"></a><code><span><span class="keyword">val</span> write_bin_prot : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a></span></code></div><div class="spec-doc"><p><code>write_bin_prot t writer a</code> writes <code>a</code> to <code>t</code> starting at <code>pos</code>, and returns the index in <code>t</code> immediately after the last byte written. It raises if <code>pos &lt; 0</code> or if <code>a</code> doesn't fit in <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_bin_prot" class="anchored"><a href="#val-read_bin_prot" class="anchor"></a><code><span><span class="keyword">val</span> read_bin_prot : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span> * <a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a>)</span> <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p>The <code>read_bin_prot*</code> functions read from the region of <code>t</code> starting at <code>pos</code> of length <code>len</code>. They return the index in <code>t</code> immediately after the last byte read. They raise if <code>pos</code> and <code>len</code> don't describe a region of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_bin_prot_verbose_errors" class="anchored"><a href="#val-read_bin_prot_verbose_errors" class="anchor"></a><code><span><span class="keyword">val</span> read_bin_prot_verbose_errors : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>[ <span>`Invalid_data of <a href="../../core/Core/Error/index.html#type-t">Core.Error.t</a></span> <span>| `Not_enough_data</span> <span><span>| `Ok</span> of <span class="type-var">'a</span> * <a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a></span> ]</span></span></code></div></div><h3 id="destruction"><a href="#destruction" class="anchor"></a>Destruction</h3><div class="odoc-spec"><div class="spec value external" id="val-unsafe_destroy" class="anchored"><a href="#val-unsafe_destroy" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_destroy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../base/Base/Unit/index.html#type-t">Base.Unit.t</a></span></code></div><div class="spec-doc"><p><code>unsafe_destroy bstr</code> destroys the bigstring by deallocating its associated data or, if memory-mapped, unmapping the corresponding file, and setting all dimensions to zero. This effectively frees the associated memory or address-space resources instantaneously. This feature helps working around a bug in the current OCaml runtime, which does not correctly estimate how aggressively to reclaim such resources.</p><p>This operation is safe unless you have passed the bigstring to another thread that is performing operations on it at the same time. Access to the bigstring after this operation will yield array bounds exceptions.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>if the bigstring has already been deallocated (or deemed &quot;external&quot;, which is treated equivalently), or if it has proxies, i.e. other bigstrings referring to the same data.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_destroy_and_resize" class="anchored"><a href="#val-unsafe_destroy_and_resize" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_destroy_and_resize : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>unsafe_destroy_and_resize bstr ~len</code> reallocates the memory backing <code>bstr</code> and returns a new bigstring that starts at position 0 and has length <code>len</code>. If <code>len</code> is greater than <code>length bstr</code> then the newly allocated memory will not be initialized.</p><p>Similar to <code>unsafe_destroy</code>, this operation is safe unless you have passed the bigstring to another thread that is performing operations on it at the same time. Access to <code>bstr</code> after this operation will yield array bounds exceptions.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>if the bigstring has already been deallocated (or deemed &quot;external&quot;, which is treated equivalently), if it is backed by a memory map, or if it has proxies, i.e. other bigstrings referring to the same data.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_tail_padded_fixed_string" class="anchored"><a href="#val-get_tail_padded_fixed_string" class="anchor"></a><code><span><span class="keyword">val</span> get_tail_padded_fixed_string : 
  <span>padding:<a href="../../base/Base/Char/index.html#type-t">Base.Char.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../base/Base/Unit/index.html#type-t">Base.Unit.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/String/index.html#type-t">Base.String.t</a></span></code></div><div class="spec-doc"><p>Similar to <code>Binary_packing.unpack_tail_padded_fixed_string</code> and <code>.pack_tail_padded_fixed_string</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_tail_padded_fixed_string" class="anchored"><a href="#val-set_tail_padded_fixed_string" class="anchor"></a><code><span><span class="keyword">val</span> set_tail_padded_fixed_string : 
  <span>padding:<a href="../../base/Base/Char/index.html#type-t">Base.Char.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../base/Base/String/index.html#type-t">Base.String.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/Unit/index.html#type-t">Base.Unit.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_head_padded_fixed_string" class="anchored"><a href="#val-get_head_padded_fixed_string" class="anchor"></a><code><span><span class="keyword">val</span> get_head_padded_fixed_string : 
  <span>padding:<a href="../../base/Base/Char/index.html#type-t">Base.Char.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../base/Base/Unit/index.html#type-t">Base.Unit.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/String/index.html#type-t">Base.String.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_head_padded_fixed_string" class="anchored"><a href="#val-set_head_padded_fixed_string" class="anchor"></a><code><span><span class="keyword">val</span> set_head_padded_fixed_string : 
  <span>padding:<a href="../../base/Base/Char/index.html#type-t">Base.Char.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>len:<a href="../../base/Base/Int/index.html#type-t">Base.Int.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../base/Base/String/index.html#type-t">Base.String.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../base/Base/Unit/index.html#type-t">Base.Unit.t</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Unstable" class="anchored"><a href="#module-Unstable" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Unstable/index.html">Unstable</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Stable" class="anchored"><a href="#module-Stable" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stable/index.html">Stable</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec exception" id="exception-IOError" class="anchored"><a href="#exception-IOError" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">IOError</span> <span class="keyword">of</span> int * exn</span></code></div><div class="spec-doc"><p>Type of I/O errors.</p><p>In <code>IOError (n, exn)</code>, <code>n</code> is the number of bytes successfully read/written before the error and <code>exn</code> is the exception that occurred (e.g., <code>Unix_error</code>, <code>End_of_file</code>)</p></div></div><h3 id="input-functions"><a href="#input-functions" class="anchor"></a>Input functions</h3><div class="odoc-spec"><div class="spec value" id="val-read" class="anchored"><a href="#val-read" class="anchor"></a><code><span><span class="keyword">val</span> read : 
  <span>?min_len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>read ?min_len fd ?pos ?len bstr</code> reads at least <code>min_len</code> (must be <code>&gt;= 0</code>) and at most <code>len</code> (must be <code>&gt;= min_len</code>) bytes from file descriptor <code>fd</code>, and writes them to bigstring <code>bstr</code> starting at position <code>pos</code>. Returns the number of bytes actually read.</p><p><code>read</code> returns zero only if <code>len = 0</code>. If <code>len &gt; 0</code> and there's nothing left to read, <code>read</code> raises to indicate EOF even if <code>min_len = 0</code>.</p><p>NOTE: Even if <code>len</code> is zero, there may still be errors when reading from the descriptor!</p><p>Raises <code>Invalid_argument</code> if the designated ranges are out of bounds. Raises <code>IOError</code> in the case of input errors, or on EOF if the minimum length could not be read.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-really_read" class="anchored"><a href="#val-really_read" class="anchor"></a><code><span><span class="keyword">val</span> really_read : <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>really_read fd ?pos ?len bstr</code> reads <code>len</code> bytes from file descriptor <code>fd</code>, and writes them to bigstring <code>bstr</code> starting at position <code>pos</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>IOError</code> in the case of input errors, or on EOF.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-really_recv" class="anchored"><a href="#val-really_recv" class="anchor"></a><code><span><span class="keyword">val</span> really_recv : <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>really_recv sock ?pos ?len bstr</code> receives <code>len</code> bytes from socket <code>sock</code>, and writes them to bigstring <code>bstr</code> starting at position <code>pos</code>. If <code>len</code> is zero, the function returns immediately without performing the underlying system call.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>IOError</code> in the case of input errors, or on EOF.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-recv_peek_assume_fd_is_nonblocking" class="anchored"><a href="#val-recv_peek_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> recv_peek_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>recv_peek_assume_fd_is_nonblocking sock ?pos ~len bstr</code> peeks <code>len</code> bytes from socket <code>sock</code>, and writes them to bigstring <code>bstr</code> starting at position <code>pos</code>. If <code>len</code> is zero, the function returns immediately without performing the underlying system call.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>Unix_error</code> in the case of input errors</p></div></div><div class="odoc-spec"><div class="spec value" id="val-recvfrom_assume_fd_is_nonblocking" class="anchored"><a href="#val-recvfrom_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> recvfrom_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int * <a href="../Core_unix/index.html#type-sockaddr">Core_unix.sockaddr</a></span></code></div><div class="spec-doc"><p><code>recvfrom_assume_fd_is_nonblocking sock ?pos ?len bstr</code> reads up to <code>len</code> bytes into bigstring <code>bstr</code> starting at position <code>pos</code> from socket <code>sock</code> without yielding to other OCaml-threads.</p><p>Returns the number of bytes actually read and the socket address of the client.</p><p>Raises <code>Unix_error</code> in the case of input errors. Raises <code>Invalid_argument</code> if the designated range is out of bounds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_assume_fd_is_nonblocking" class="anchored"><a href="#val-read_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> read_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Core_unix/Syscall_result/Int/index.html#type-t">Core_unix.Syscall_result.Int.t</a></span></code></div><div class="spec-doc"><p><code>read_assume_fd_is_nonblocking fd ?pos ?len bstr</code> reads up to <code>len</code> bytes into bigstring <code>bstr</code> starting at position <code>pos</code> from file descriptor <code>fd</code> without yielding to other OCaml-threads. Returns the number of bytes actually read.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pread_assume_fd_is_nonblocking" class="anchored"><a href="#val-pread_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> pread_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>offset:int <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>pread_assume_fd_is_nonblocking fd ~offset ?pos ?len bstr</code> reads up to <code>len</code> bytes from file descriptor <code>fd</code> at offset <code>offset</code>, and writes them to bigstring <code>bstr</code> starting at position <code>pos</code>. The <code>fd</code> must be capable of seeking, and the current file offset used for a regular <code>read()</code> is unchanged. Please see <code>man pread</code> for more information. Returns the number of bytes actually read.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>Unix_error</code> in the case of input errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-input" class="anchored"><a href="#val-input" class="anchor"></a><code><span><span class="keyword">val</span> input : 
  <span>?min_len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>input ?min_len ic ?pos ?len bstr</code> tries to read <code>len</code> bytes (guarantees to read at least <code>min_len</code> bytes, which must be <code>&gt;= 0</code> and <code>&lt;= len</code>), if possible, before returning, from input channel <code>ic</code>, and writes them to bigstring <code>bstr</code> starting at position <code>pos</code>. Returns the number of bytes actually read.</p><p>NOTE: Even if <code>len</code> is zero, there may still be errors when reading from the descriptor, which will be done if the internal buffer is empty!</p><p>NOTE: If at least <code>len</code> characters are available in the input channel buffer and if <code>len</code> is not zero, data will only be fetched from the channel buffer. Otherwise data will be read until at least <code>min_len</code> characters are available.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>IOError</code> in the case of input errors, or on premature EOF.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-really_input" class="anchored"><a href="#val-really_input" class="anchor"></a><code><span><span class="keyword">val</span> really_input : <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>really_input ic ?pos ?len bstr</code> reads exactly <code>len</code> bytes from input channel <code>ic</code>, and writes them to bigstring <code>bstr</code> starting at position <code>pos</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>IOError</code> in the case of input errors, or on premature EOF.</p></div></div><h3 id="output-functions"><a href="#output-functions" class="anchor"></a>Output functions</h3><div class="odoc-spec"><div class="spec value" id="val-really_write" class="anchored"><a href="#val-really_write" class="anchor"></a><code><span><span class="keyword">val</span> really_write : <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>really_write fd ?pos ?len bstr</code> writes <code>len</code> bytes in bigstring <code>bstr</code> starting at position <code>pos</code> to file descriptor <code>fd</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>IOError</code> in the case of output errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-really_send_no_sigpipe" class="anchored"><a href="#val-really_send_no_sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> really_send_no_sigpipe : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
    <span>?len:int <span class="arrow">&#45;&gt;</span></span>
    <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
    unit )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>really_send_no_sigpipe sock ?pos ?len bstr</code> sends <code>len</code> bytes in bigstring <code>bstr</code> starting at position <code>pos</code> to socket <code>sock</code> without blocking and ignoring <code>SIGPIPE</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>IOError</code> in the case of output errors.</p><p><code>really_send_no_sigpipe</code> is not implemented on some platforms, in which case it returns an <code>Error</code> value indicating that it is unimplemented.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-send_nonblocking_no_sigpipe" class="anchored"><a href="#val-send_nonblocking_no_sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> send_nonblocking_no_sigpipe : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
    <span>?len:int <span class="arrow">&#45;&gt;</span></span>
    <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
    <a href="../Core_unix/Syscall_result/Int/index.html#type-t">Core_unix.Syscall_result.Int.t</a> )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>send_nonblocking_no_sigpipe sock ?pos ?len bstr</code> tries to send <code>len</code> bytes in bigstring <code>bstr</code> starting at position <code>pos</code> to socket <code>sock</code>. Returns <code>bytes_written</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sendto_nonblocking_no_sigpipe" class="anchored"><a href="#val-sendto_nonblocking_no_sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> sendto_nonblocking_no_sigpipe : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
    <span>?len:int <span class="arrow">&#45;&gt;</span></span>
    <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
    <span><a href="../Core_unix/index.html#type-sockaddr">Core_unix.sockaddr</a> <span class="arrow">&#45;&gt;</span></span>
    <a href="../Core_unix/Syscall_result/Int/index.html#type-t">Core_unix.Syscall_result.Int.t</a> )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>sendto_nonblocking_no_sigpipe sock ?pos ?len bstr sockaddr</code> tries to send <code>len</code> bytes in bigstring <code>bstr</code> starting at position <code>pos</code> to socket <code>sock</code> using address <code>addr</code>. Returns <code>bytes_written</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write" class="anchored"><a href="#val-write" class="anchor"></a><code><span><span class="keyword">val</span> write : <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>write fd ?pos ?len bstr</code> writes <code>len</code> bytes in bigstring <code>bstr</code> starting at position <code>pos</code> to file descriptor <code>fd</code>. Returns the number of bytes actually written.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>Unix_error</code> in the case of output errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pwrite_assume_fd_is_nonblocking" class="anchored"><a href="#val-pwrite_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> pwrite_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>offset:int <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>pwrite_assume_fd_is_nonblocking fd ~offset ?pos ?len bstr</code> writes up to <code>len</code> bytes of bigstring <code>bstr</code> starting at position <code>pos</code> to file descriptor <code>fd</code> at position <code>offset</code>. The <code>fd</code> must be capable of seeking, and the current file offset used for non-positional <code>read()</code>/<code>write()</code> calls is unchanged. Returns the number of bytes written.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>Unix_error</code> in the case of output errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_assume_fd_is_nonblocking" class="anchored"><a href="#val-write_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> write_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>write_assume_fd_is_nonblocking fd ?pos ?len bstr</code> writes <code>len</code> bytes in bigstring <code>bstr</code> starting at position <code>pos</code> to file descriptor <code>fd</code> without yielding to other OCaml-threads. Returns the number of bytes actually written.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>Unix_error</code> in the case of output errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-writev" class="anchored"><a href="#val-writev" class="anchor"></a><code><span><span class="keyword">val</span> writev : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?count:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="#type-t">t</a> <a href="../Core_unix/IOVec/index.html#type-t">Core_unix.IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>writev fd ?count iovecs</code> writes <code>count</code> <code>iovecs</code> of bigstrings to file descriptor <code>fd</code>. Returns the number of bytes written.</p><p>Raises <code>Invalid_argument</code> if <code>count</code> is out of range. Raises <code>Unix_error</code> in the case of output errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-writev_assume_fd_is_nonblocking" class="anchored"><a href="#val-writev_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> writev_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?count:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="#type-t">t</a> <a href="../Core_unix/IOVec/index.html#type-t">Core_unix.IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>writev_assume_fd_is_nonblocking fd ?count iovecs</code> writes <code>count</code> <code>iovecs</code> of bigstrings to file descriptor <code>fd</code> without yielding to other OCaml-threads. Returns the number of bytes actually written.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>Unix_error</code> in the case of output errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-recvmmsg_assume_fd_is_nonblocking" class="anchored"><a href="#val-recvmmsg_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> recvmmsg_assume_fd_is_nonblocking : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span>?count:int <span class="arrow">&#45;&gt;</span></span>
    <span>?srcs:<span><a href="../Core_unix/index.html#type-sockaddr">Core_unix.sockaddr</a> array</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span><a href="#type-t">t</a> <a href="../Core_unix/IOVec/index.html#type-t">Core_unix.IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
    <span>lens:<span>int array</span> <span class="arrow">&#45;&gt;</span></span>
    int )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_recvmmsg_assume_fd_is_nonblocking" class="anchored"><a href="#val-unsafe_recvmmsg_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_recvmmsg_assume_fd_is_nonblocking : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span><a href="#type-t">t</a> <a href="../Core_unix/IOVec/index.html#type-t">Core_unix.IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
    <span>int <span class="arrow">&#45;&gt;</span></span>
    <span><span><span><a href="../Core_unix/index.html#type-sockaddr">Core_unix.sockaddr</a> array</span> option</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
    int )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div></div><p><code>recvmmsg_assume_fd_is_nonblocking fd iovecs ~count ~lens</code> receives up to <code>count</code> messages into <code>iovecs</code> from file descriptor <code>fd</code> without yielding to other OCaml threads. If <code>~count</code> is supplied, it must be that <code>0 &lt;= count &lt;= Array.length
    iovecs</code>. If <code>~srcs</code> is supplied, saves the source addresses for corresponding received messages there. If supplied, <code>Array.length srcs</code> must be <code>&gt;= count</code>. Saves the lengths of the received messages in <code>lens</code>. It is required that <code>Array.length lens &gt;=
    count</code>.</p><p>If an IOVec isn't long enough for its corresponding message, excess bytes may be discarded, depending on the type of socket the message is received from. While the <code>recvmmsg</code> system call itself does return details of such truncation, etc., those details are not (yet) passed through this interface.</p><p>See <code>&quot;recvmmsg(2)&quot;</code> re. the underlying system call.</p><p>Returns the number of messages actually read, or a negative number to indicate <code>EWOULDBLOCK</code> or <code>EAGAIN</code>. This is a compromise to mitigate the exception overhead for what ends up being a very common result with our use of <code>recvmmsg</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds. Raises <code>Unix_error</code> in the case of output errors.</p><div class="odoc-spec"><div class="spec value" id="val-sendmsg_nonblocking_no_sigpipe" class="anchored"><a href="#val-sendmsg_nonblocking_no_sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> sendmsg_nonblocking_no_sigpipe : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span>?count:int <span class="arrow">&#45;&gt;</span></span>
    <span><span><span><a href="#type-t">t</a> <a href="../Core_unix/IOVec/index.html#type-t">Core_unix.IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
    <span>int option</span> )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>sendmsg_nonblocking_no_sigpipe sock ?count iovecs</code> sends <code>count</code> <code>iovecs</code> of bigstrings to socket <code>sock</code>. Returns <code>Some bytes_written</code>, or <code>None</code> if the operation would have blocked. This system call will not cause signal <code>SIGPIPE</code> if an attempt is made to write to a socket that was closed by the other side.</p><p>Raises <code>Invalid_argument</code> if <code>count</code> is out of range. Raises <code>Unix_error</code> in the case of output errors.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-output" class="anchored"><a href="#val-output" class="anchor"></a><code><span><span class="keyword">val</span> output : 
  <span>?min_len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>?len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>output ?min_len oc ?pos ?len bstr</code> tries to output <code>len</code> bytes (guarantees to write at least <code>min_len</code> bytes, which must be <code>&gt;= 0</code>), if possible, before returning, from bigstring <code>bstr</code> starting at position <code>pos</code> to output channel <code>oc</code>. Returns the number of bytes actually written.</p><p>NOTE: You may need to flush <code>oc</code> to make sure that the data is actually sent.</p><p>NOTE: If <code>len</code> characters fit into the channel buffer completely, they will be buffered. Otherwise writes will be attempted until at least <code>min_len</code> characters have been sent.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds.</p><p>Raises <code>IOError</code> in the case of output errors. The <code>IOError</code> argument counting the number of successful bytes includes those that have been transferred to the channel buffer before the error.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-really_output" class="anchored"><a href="#val-really_output" class="anchor"></a><code><span><span class="keyword">val</span> really_output : <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?pos:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>really_output oc ?pos ?len bstr</code> outputs exactly <code>len</code> bytes from bigstring <code>bstr</code> starting at position <code>pos</code> to output channel <code>oc</code>.</p><p>Raises <code>Invalid_argument</code> if the designated range is out of bounds.</p><p>Raises <code>IOError</code> in the case of output errors. The <code>IOError</code> argument counting the number of successful bytes includes those that have been transferred to the channel buffer before the error.</p></div></div><h3 id="unsafe-functions"><a href="#unsafe-functions" class="anchor"></a>Unsafe functions</h3><div class="odoc-spec"><div class="spec value external" id="val-unsafe_read_assume_fd_is_nonblocking" class="anchored"><a href="#val-unsafe_read_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_read_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Core_unix/Syscall_result/Int/index.html#type-t">Core_unix.Syscall_result.Int.t</a></span></code></div><div class="spec-doc"><p><code>unsafe_read_assume_fd_is_nonblocking fd ~pos ~len bstr</code> is similar to <code>Bigstring</code>.read_assume_fd_is_nonblocking, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_write" class="anchored"><a href="#val-unsafe_write" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_write : <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:int <span class="arrow">&#45;&gt;</span></span> <span>len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>unsafe_write fd ~pos ~len bstr</code> is similar to <code>Bigstring</code>.write, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_write_assume_fd_is_nonblocking" class="anchored"><a href="#val-unsafe_write_assume_fd_is_nonblocking" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_write_assume_fd_is_nonblocking : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>unsafe_write_assume_fd_is_nonblocking fd ~pos ~len bstr</code> is similar to <code>Bigstring</code>.write_assume_fd_is_nonblocking, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_read" class="anchored"><a href="#val-unsafe_read" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_read : 
  <span>min_len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>unsafe_read ~min_len fd ~pos ~len bstr</code> is similar to <code>Bigstring</code>.read, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_really_recv" class="anchored"><a href="#val-unsafe_really_recv" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_really_recv : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>unsafe_really_recv sock ~pos ~len bstr</code> is similar to <code>Bigstring</code>.really_recv, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_really_write" class="anchored"><a href="#val-unsafe_really_write" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_really_write : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>unsafe_really_write fd ~pos ~len bstr</code> is similar to <code>Bigstring</code>.write, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_really_send_no_sigpipe" class="anchored"><a href="#val-unsafe_really_send_no_sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_really_send_no_sigpipe : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>pos:int <span class="arrow">&#45;&gt;</span></span> <span>len:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>unsafe_really_send_no_sigpipe sock ~pos ~len bstr</code> is similar to <code>Bigstring</code>.send, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_send_nonblocking_no_sigpipe" class="anchored"><a href="#val-unsafe_send_nonblocking_no_sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_send_nonblocking_no_sigpipe : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span>pos:int <span class="arrow">&#45;&gt;</span></span>
    <span>len:int <span class="arrow">&#45;&gt;</span></span>
    <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
    <a href="../Core_unix/Syscall_result/Int/index.html#type-t">Core_unix.Syscall_result.Int.t</a> )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>unsafe_send_nonblocking_no_sigpipe sock ~pos ~len bstr</code> is similar to <code>Bigstring</code>.send_nonblocking_no_sigpipe, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_writev" class="anchored"><a href="#val-unsafe_writev" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_writev : 
  <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="#type-t">t</a> <a href="../Core_unix/IOVec/index.html#type-t">Core_unix.IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>unsafe_writev fd iovecs count</code> is similar to <code>Bigstring</code>.writev, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_sendmsg_nonblocking_no_sigpipe" class="anchored"><a href="#val-unsafe_sendmsg_nonblocking_no_sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_sendmsg_nonblocking_no_sigpipe : 
  <span><span>( <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span><a href="#type-t">t</a> <a href="../Core_unix/IOVec/index.html#type-t">Core_unix.IOVec.t</a></span> array</span> <span class="arrow">&#45;&gt;</span></span>
    <span>int <span class="arrow">&#45;&gt;</span></span>
    <span>int option</span> )</span>
    <a href="../../core/Core/Or_error/index.html#type-t">Core.Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>unsafe_sendmsg_nonblocking_no_sigpipe fd iovecs count</code> is similar to <code>Bigstring</code>.sendmsg_nonblocking_no_sigpipe, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_input" class="anchored"><a href="#val-unsafe_input" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_input : 
  <span>min_len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../stdio/Stdio/In_channel/index.html#type-t">Core.In_channel.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>unsafe_input ~min_len ic ~pos ~len bstr</code> is similar to <code>Bigstring</code>.input, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-unsafe_output" class="anchored"><a href="#val-unsafe_output" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_output : 
  <span>min_len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../stdio/Stdio/Out_channel/index.html#type-t">Core.Out_channel.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pos:int <span class="arrow">&#45;&gt;</span></span>
  <span>len:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>unsafe_output ~min_len oc ~pos ~len bstr</code> is similar to <code>Bigstring</code>.output, but does not perform any bounds checks. Will crash on bounds errors!</p></div></div><h3 id="memory-mapping"><a href="#memory-mapping" class="anchor"></a>Memory mapping</h3><div class="odoc-spec"><div class="spec value" id="val-map_file" class="anchored"><a href="#val-map_file" class="anchor"></a><code><span><span class="keyword">val</span> map_file : <span>shared:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Core_unix/File_descr/index.html#type-t">Core_unix.File_descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>map_file shared fd n</code> memory-maps <code>n</code> characters of the data associated with descriptor <code>fd</code> to a bigstring. Iff <code>shared</code> is <code>true</code>, all changes to the bigstring will be reflected in the file.</p><p>Users must keep in mind that operations on the resulting bigstring may result in disk operations which block the runtime. This is true for pure OCaml operations (such as <code>t.{1} &lt;- 1</code>), and for calls to <code>blit</code>. While some I/O operations may release the OCaml lock, users should not expect this to be done for all operations on a bigstring returned from <code>map_file</code>.</p></div></div></div></body></html>