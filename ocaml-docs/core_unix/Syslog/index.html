<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Syslog (core_unix.Syslog)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">core_unix</a> &#x00BB; Syslog</nav><header class="odoc-preamble"><h1>Module <code><span>Syslog</span></code></h1><p>Send log messages via the Unix Syslog interface.</p><p>Syslog is great for system daemons that log free-form human readable status messages or other debugging output, but not so great for archiving structured data. Access to read Syslog's messages may also be restricted. <code>syslogd</code>'s logs are also not necessarily kept forever. For application level logging consider <code>Core_extended</code>.Std.Logger instead.</p></header><nav class="odoc-toc"><ul><li><a href="#logging-functions">Logging functions</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Open_option" class="anchored"><a href="#module-Open_option" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Open_option/index.html">Open_option</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Facility" class="anchored"><a href="#module-Facility" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Facility/index.html">Facility</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Types of messages</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Level" class="anchored"><a href="#module-Level" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Level/index.html">Level</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-setlogmask" class="anchored"><a href="#val-setlogmask" class="anchor"></a><code><span><span class="keyword">val</span> setlogmask : 
  <span>?allowed_levels:<span><a href="Level/index.html#type-t">Level.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?from_level:<a href="Level/index.html#type-t">Level.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?to_level:<a href="Level/index.html#type-t">Level.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>All levels in <code>allowed_levels</code> will be allowed, and additionally all ranging from <code>from_level</code> to <code>to_level</code> (inclusive).</p></div></div><h3 id="logging-functions"><a href="#logging-functions" class="anchor"></a>Logging functions</h3><div class="odoc-spec"><div class="spec value" id="val-openlog" class="anchored"><a href="#val-openlog" class="anchor"></a><code><span><span class="keyword">val</span> openlog : 
  <span>?id:string <span class="arrow">&#45;&gt;</span></span>
  <span>?options:<span><a href="Open_option/index.html#type-t">Open_option.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?facility:<a href="Facility/index.html#type-t">Facility.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>openlog ~id ~options ~facility ()</code> opens a connection to the system logger (possibly delayed) using prefixed identifier <code>id</code>, <code>options</code>, and <code>facility</code>.</p><p>WARNING: this function leaks the <code>id</code> argument, if provided. There is no way around that if syslog is called in a multi-threaded environment! Therefore it shouldn't be called too often. What for, anyway?</p><p>Calling <code>openlog</code> before <code>syslog</code> is optional. If you forget, syslog will do it for you with the defaults.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-syslog" class="anchored"><a href="#val-syslog" class="anchor"></a><code><span><span class="keyword">val</span> syslog : <span>?facility:<a href="Facility/index.html#type-t">Facility.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?level:<a href="Level/index.html#type-t">Level.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>syslog ~facility ~level message</code> logs <code>message</code> using syslog with <code>facility</code> at <code>level</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-syslogf" class="anchored"><a href="#val-syslogf" class="anchor"></a><code><span><span class="keyword">val</span> syslogf : 
  <span>?facility:<a href="Facility/index.html#type-t">Facility.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?level:<a href="Level/index.html#type-t">Level.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, unit, string, string, string, unit )</span> <span class="xref-unresolved">CamlinternalFormatBasics</span>.format6</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>syslog_printf</code> acts like <code>syslog</code>, but allows <code>printf</code>-style specification of the message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-closelog" class="anchored"><a href="#val-closelog" class="anchor"></a><code><span><span class="keyword">val</span> closelog : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>closelog ()</code> closes the connection to the <code>syslog</code> daemon.</p></div></div></div></body></html>