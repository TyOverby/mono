<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Import (core_unix.Command_test_helpers_test.Import)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">core_unix</a> &#x00BB; <a href="../index.html">Command_test_helpers_test</a> &#x00BB; Import</nav><header class="odoc-preamble"><h1>Module <code><span>Command_test_helpers_test.Import</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="../../../core_kernel/Composition_infix/index.html">Composition_infix</a> <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;)" class="anchored"><a href="#val-(&gt;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;) : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;&lt;)" class="anchored"><a href="#val-(&lt;&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;&lt;) : <span><span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="../../../expect_test_helpers_core/Expect_test_helpers_core/index.html">Expect_test_helpers_core</a> <span class="keyword">end</span></span></code></summary><div class="odoc-include"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="../../../expect_test_helpers_core/Expect_test_helpers_base/index.html">Expect_test_helpers_base</a> <span class="keyword">end</span></span></code></summary><div class="odoc-include"><div class="odoc-spec"><div class="spec module-type" id="module-type-With_comparator" class="anchored"><a href="#module-type-With_comparator" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> With_comparator</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_base/module-type-With_comparator/index.html">Expect_test_helpers_core.With_comparator</a></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-With_compare" class="anchored"><a href="#module-type-With_compare" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> With_compare</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_base/module-type-With_compare/index.html">Expect_test_helpers_core.With_compare</a></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-With_equal" class="anchored"><a href="#module-type-With_equal" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> With_equal</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_base/module-type-With_equal/index.html">Expect_test_helpers_core.With_equal</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-CR" class="anchored"><a href="#module-CR" class="anchor"></a><code><span><span class="keyword">module</span> CR</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html">Expect_test_helpers_core.CR</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Phys_equal" class="anchored"><a href="#module-Phys_equal" class="anchor"></a><code><span><span class="keyword">module</span> Phys_equal</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_base/Phys_equal/index.html">Expect_test_helpers_core.Phys_equal</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Sexp_style" class="anchored"><a href="#module-Sexp_style" class="anchor"></a><code><span><span class="keyword">module</span> Sexp_style</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_base/Sexp_style/index.html">Expect_test_helpers_core.Sexp_style</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hide_positions_in_string" class="anchored"><a href="#val-hide_positions_in_string" class="anchor"></a><code><span><span class="keyword">val</span> hide_positions_in_string : <span><a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-string">Base.string</a></span></code></div><div class="spec-doc"><p><code>hide_positions_in_string</code> does line-based regexp matching to replace line numbers and column numbers that appear in source-code positions with constant text <code>LINE</code> and <code>COL</code>. This can be useful in making displayed test output less fragile.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hide_temp_files_in_string" class="anchored"><a href="#val-hide_temp_files_in_string" class="anchor"></a><code><span><span class="keyword">val</span> hide_temp_files_in_string : <span><a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-string">Base.string</a></span></code></div><div class="spec-doc"><p><code>hide_temp_files_in_string</code> replaces <code>.tmp.______</code>, where each <code>_</code> represents some alphanumeric character, with &quot;.tmp.RANDOM&quot;. This can make output deterministic when describing temporary files generated by, e.g., <code>Core_unix.mkstemp</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_to_string" class="anchored"><a href="#val-sexp_to_string" class="anchor"></a><code><span><span class="keyword">val</span> sexp_to_string : <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-string">Base.string</a></span></code></div><div class="spec-doc"><p>Renders an s-expression as a string. With <code>~hide_positions:true</code>, patterns in the string that match OCaml-style file positions are modified to hide the line number, column number, and character positions, to make output less fragile.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-replace" class="anchored"><a href="#val-replace" class="anchor"></a><code><span><span class="keyword">val</span> replace : 
  <span><a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pattern:<a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <span>with_:<a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-string">Base.string</a></span></code></div><div class="spec-doc"><p>Substitutes <code>with_</code> for every occurrence of <code>pattern</code> in a string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-replace_s" class="anchored"><a href="#val-replace_s" class="anchor"></a><code><span><span class="keyword">val</span> replace_s : 
  <span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pattern:<a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <span>with_:<a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a></span></code></div><div class="spec-doc"><p>Like <code>replace</code>, for every atom in a sexp.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-smash_sexp" class="anchored"><a href="#val-smash_sexp" class="anchor"></a><code><span><span class="keyword">val</span> smash_sexp : <span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a></span></code></div><div class="spec-doc"><p>Applies <code>f</code> at every node in the given sexp, top-down, recurring on the contents of the output. The word &quot;smash&quot; is used as in the sexp command-line tool's query language. See: https://github.com/janestreet/sexp</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_backtraces" class="anchored"><a href="#val-remove_backtraces" class="anchor"></a><code><span><span class="keyword">val</span> remove_backtraces : <span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a></span></code></div><div class="spec-doc"><p>Removes OCaml backtraces from sexps.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_s" class="anchored"><a href="#val-print_s" class="anchor"></a><code><span><span class="keyword">val</span> print_s : <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p>For printing an s-expression to stdout. <code>hide_positions</code> works as in <code>sexp_to_string</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_string" class="anchored"><a href="#val-print_string" class="anchor"></a><code><span><span class="keyword">val</span> print_string : <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-print_endline" class="anchored"><a href="#val-print_endline" class="anchor"></a><code><span><span class="keyword">val</span> print_endline : <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-expect_test_output" class="anchored"><a href="#val-expect_test_output" class="anchor"></a><code><span><span class="keyword">val</span> expect_test_output : <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-string">Base.string</a></span></code></div><div class="spec-doc"><p>Behaves like <code>[%expect.output]</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_cr" class="anchored"><a href="#val-print_cr" class="anchor"></a><code><span><span class="keyword">val</span> print_cr : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>print_cr here message</code> prints a <code>CR require-failed</code>, which will appear in expect-test output. The CR will appear in the feature owner's <code>fe todo</code>, thus preventing release of the feature. <code>print_cr</code> is an expect-test-friendly version of <code>assert false</code>. It works with the normal expect-test workflow because it does not raise, and it prevents mistakenly releasing features that violate a required property. There is no need to 'X' a <code>CR require-failed</code>; simply fix the property that triggered the <code>print_cr</code> and re-run the test to restore the empty output.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require" class="anchored"><a href="#val-require" class="anchor"></a><code><span><span class="keyword">val</span> require : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?if_false_then_print_s:<span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <a href="../../../base/Base/Lazy/index.html#type-t">Base.Lazy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require here bool</code> is a no-op if <code>bool = true</code>, but if not, prints a <code>CR
      require-failed</code> similarly to <code>print_cr</code>, with a message determined by the <code>if_false_then_print_s</code> argument, if any.</p><p><code>if_false_then_print_s</code> is useful for including information that may help debug the problem, but that would otherwise be too voluminous. <code>if_false_then_print_s</code> is lazy to avoid construction of the sexp except when needed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_equal" class="anchored"><a href="#val-require_equal" class="anchor"></a><code><span><span class="keyword">val</span> require_equal : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?if_false_then_print_s:<span><a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> <a href="../../../base/Base/Lazy/index.html#type-t">Base.Lazy.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?message:<a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="module-type-With_equal/index.html">With_equal</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-With_equal/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_equal</code> compares its two arguments using the equality predicate of the provided module. If the comparison fails, prints a message that renders the arguments as sexps.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_compare_equal" class="anchored"><a href="#val-require_compare_equal" class="anchor"></a><code><span><span class="keyword">val</span> require_compare_equal : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?message:<a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="module-type-With_compare/index.html">With_compare</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-With_compare/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p>Like <code>require_equal</code>, but derives an equality predicate from a comparison function.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_sets_are_equal" class="anchored"><a href="#val-require_sets_are_equal" class="anchor"></a><code><span><span class="keyword">val</span> require_sets_are_equal : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?names:<span>(<a href="../../../base/Base/index.html#type-string">Base.string</a> * <a href="../../../base/Base/index.html#type-string">Base.string</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="module-type-With_comparator/index.html">With_comparator</a>
    <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-With_comparator/index.html#type-comparator_witness">comparator_witness</a> = <span class="type-var">'cmp</span>
     <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-With_comparator/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'elt</span>, <span class="type-var">'cmp</span> )</span> <a href="../../../base/Base/Set/index.html#type-t">Base.Set.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'elt</span>, <span class="type-var">'cmp</span> )</span> <a href="../../../base/Base/Set/index.html#type-t">Base.Set.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p>Like <code>require_equal</code>, but when equality fails produces a message including sexps of both <code>Set.diff first second</code> and <code>Set.diff second first</code> to aid in debugging.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-show_raise" class="anchored"><a href="#val-show_raise" class="anchor"></a><code><span><span class="keyword">val</span> show_raise : 
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?show_backtrace:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><a href="../../../base/Base/index.html#type-unit">Base.unit</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">_</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>show_raise</code> calls <code>f ()</code> and prints the exception that it raises, or, if it doesn't raise, prints <code>did not raise</code>. <code>show_raise</code> ignores the result of <code>f</code> so that one doesn't have to put an <code>ignore</code> inside the body of an <code>f</code> that is expected to raise. <code>~hide_positions:true</code> operates as in <code>print_s</code>, to make output less fragile. Using <code>~show_backtrace:true</code> will result in a CR in the expectation, but it's still available here as it is still valuable when initially writing tests and debugging.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_does_not_raise" class="anchored"><a href="#val-require_does_not_raise" class="anchor"></a><code><span><span class="keyword">val</span> require_does_not_raise : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?show_backtrace:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><a href="../../../base/Base/index.html#type-unit">Base.unit</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-unit">Base.unit</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_does_not_raise</code> is like <code>show_raise</code>, but does not print anything if the function does not raise, and prints a CR along with the exception if it does raise. Unlike for <code>show_raise</code>, the supplied function is required to return <code>unit</code> to avoid mistakes like incomplete partial application that silently would not raise, but for the wrong reason.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_does_raise" class="anchored"><a href="#val-require_does_raise" class="anchor"></a><code><span><span class="keyword">val</span> require_does_raise : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?show_backtrace:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><a href="../../../base/Base/index.html#type-unit">Base.unit</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">_</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_does_raise</code> is like <code>show_raise</code>, but additionally prints a CR if the function does not raise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_some" class="anchored"><a href="#val-require_some" class="anchor"></a><code><span><span class="keyword">val</span> require_some : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?print_some:<span>( <span><span class="type-var">'some</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'some</span> <a href="../../../base/Base/index.html#type-option">Base.option</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_some here option</code> is like <code>require here (is_some option)</code>, with improved output. If <code>option = None</code>, it prints a CR. If <code>option = Some some</code> and <code>~print_some</code> is provided, it prints <code>print_some some</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_none" class="anchored"><a href="#val-require_none" class="anchor"></a><code><span><span class="keyword">val</span> require_none : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'some</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'some</span> <a href="../../../base/Base/index.html#type-option">Base.option</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_none here sexp_of_some option</code> is like <code>require here (is_none option)</code>, with improved output. If <code>option = Some some</code>, it prints a CR including <code>sexp_of_some some</code>. If <code>option = None</code>, it does not print.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_ok" class="anchored"><a href="#val-require_ok" class="anchor"></a><code><span><span class="keyword">val</span> require_ok : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?print_ok:<span>( <span><span class="type-var">'ok</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'ok</span> <a href="../../../base/Base/Or_error/index.html#type-t">Base.Or_error.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_ok here or_error</code> is like <code>require here (is_ok or_error)</code>, with improved output. If <code>or_error = Error error</code>, it prints a CR including <code>error</code>. If <code>or_error = Ok ok</code> and <code>~print_ok</code> is provided, it prints <code>print_ok ok</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_error" class="anchored"><a href="#val-require_error" class="anchor"></a><code><span><span class="keyword">val</span> require_error : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?print_error:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'ok</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'ok</span> <a href="../../../base/Base/Or_error/index.html#type-t">Base.Or_error.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_error here sexp_of_ok or_error</code> is like <code>require here (is_error or_error)</code>, with improved output. If <code>or_error = Ok ok</code>, it prints a CR including <code>sexp_of_ok
      ok</code>. If <code>or_error = Error error</code> and <code>print_error = true</code>, it prints <code>error</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_ok_result" class="anchored"><a href="#val-require_ok_result" class="anchor"></a><code><span><span class="keyword">val</span> require_ok_result : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?print_ok:<span>( <span><span class="type-var">'ok</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'error</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'ok</span>, <span class="type-var">'error</span> )</span> <a href="../../../base/Base/Result/index.html#type-t">Base.Result.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_ok_result here sexp_of_error result</code> is like <code>require here (is_ok
      or_error)</code>, with improved output. If <code>result = Error error</code>, it prints a CR including <code>sexp_of_error error</code>. If <code>result = Ok ok</code> and <code>~print_ok</code> is provided, it prints <code>print_ok ok</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_error_result" class="anchored"><a href="#val-require_error_result" class="anchor"></a><code><span><span class="keyword">val</span> require_error_result : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?print_error:<span>( <span><span class="type-var">'error</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'ok</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'ok</span>, <span class="type-var">'error</span> )</span> <a href="../../../base/Base/Result/index.html#type-t">Base.Result.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_error_result here sexp_of_ok result</code> is like <code>require here (is_error
      result)</code>, with improved output. If <code>result = Ok ok</code>, it prints a CR including <code>sexp_of_ok ok</code>. If <code>result = Error error</code> and <code>~print_error</code> is supplied, it prints <code>print_error error</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_first" class="anchored"><a href="#val-require_first" class="anchor"></a><code><span><span class="keyword">val</span> require_first : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?print_first:<span>( <span><span class="type-var">'first</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'second</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'first</span>, <span class="type-var">'second</span> )</span> <a href="../../../base/Base/Either/index.html#type-t">Base.Either.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_first here print_second either</code> is like <code>require here (is_first either)</code>, with improved output. If <code>either = Second second</code>, it prints a CR including <code>sexp_of_second second</code>. If <code>either = First first</code> and <code>~print_first</code> is provided, it prints <code>print_first first</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_second" class="anchored"><a href="#val-require_second" class="anchor"></a><code><span><span class="keyword">val</span> require_second : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?print_second:<span>( <span><span class="type-var">'second</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="type-var">'first</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'first</span>, <span class="type-var">'second</span> )</span> <a href="../../../base/Base/Either/index.html#type-t">Base.Either.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>require_second here sexp_of_first either</code> is like <code>require here (is_second
      either)</code>, with improved output. If <code>either = First first</code>, it prints a CR including <code>sexp_of_first first</code>. If <code>either = Second second</code> and <code>~print_second</code> is provided, it prints <code>print_second second</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-quickcheck" class="anchored"><a href="#val-quickcheck" class="anchor"></a><code><span><span class="keyword">val</span> quickcheck : 
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?seed:<a href="../../../base_quickcheck/Base_quickcheck/Test/Config/Seed/index.html#type-t">Base_quickcheck.Test.Config.Seed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?sizes:<span><a href="../../../base/Base/index.html#type-int">Base.int</a> <a href="../../../base/Base/Sequence/index.html#type-t">Base.Sequence.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?trials:<a href="../../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?shrinker:<span><span class="type-var">'a</span> <a href="../../../base_quickcheck/Base_quickcheck/Shrinker/index.html#type-t">Base_quickcheck.Shrinker.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?shrink_attempts:<a href="../../../base/Base/index.html#type-int">Base.int</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?examples:<span><span class="type-var">'a</span> <a href="../../../base/Base/index.html#type-list">Base.list</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>sexp_of:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/Sexp/index.html#type-t">Base.Sexp.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-unit">Base.unit</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../base_quickcheck/Base_quickcheck/Generator/index.html#type-t">Base_quickcheck.Generator.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>quickcheck</code> is similar to <code>Base_quickcheck.Test.run</code>, but</p><p>1. <code>quickcheck</code> takes separate arguments for the values which <code>Base_quickcheck.Test.run</code> takes in a first-class module.</p><p>2. <code>quickcheck</code> stops after the first iteration that raises or prints a CR, as detected by <code>on_print_cr</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-quickcheck_m" class="anchored"><a href="#val-quickcheck_m" class="anchor"></a><code><span><span class="keyword">val</span> quickcheck_m : 
  <span><a href="../../../base/Base/Source_code_position/index.html#type-t">Base.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?config:<a href="../../../base_quickcheck/Base_quickcheck/Test/Config/index.html#type-t">Base_quickcheck.Test.Config.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?examples:<span><span class="type-var">'a</span> <a href="../../../base/Base/index.html#type-list">Base.list</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:<a href="../../../base/Base/index.html#type-bool">Base.bool</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="../../../base_quickcheck/Base_quickcheck/Test/module-type-S/index.html">Base_quickcheck.Test.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../base_quickcheck/Base_quickcheck/Test/module-type-S/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-unit">Base.unit</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../base/Base/index.html#type-unit">Base.unit</a></span></code></div><div class="spec-doc"><p><code>quickcheck_m</code> is similar to <code>Base_quickcheck.Test.run</code>. It stops after the first iteration that raises or prints a CR, as detected by <code>on_print_cr</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_style" class="anchored"><a href="#val-sexp_style" class="anchor"></a><code><span><span class="keyword">val</span> sexp_style : <span><a href="../../../expect_test_helpers_core/Expect_test_helpers_base/Sexp_style/index.html#type-t">Sexp_style.t</a> <a href="../../../base/Base/index.html#type-ref">Base.ref</a></span></span></code></div><div class="spec-doc"><p><code>sexp_style</code> determines the sexp format used by <code>sexp_to_string</code>, <code>print_s</code>, and other functions in this module. Defaults to <code>Sexp_style.default_pretty</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-on_print_cr" class="anchored"><a href="#val-on_print_cr" class="anchor"></a><code><span><span class="keyword">val</span> on_print_cr : <span><span>( <span><a href="../../../base/Base/index.html#type-string">Base.string</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../base/Base/index.html#type-unit">Base.unit</a> )</span> <a href="../../../base/Base/index.html#type-ref">Base.ref</a></span></span></code></div><div class="spec-doc"><p><code>on_print_cr</code> determines the behavior of all functions above that print CRs, such as <code>print_cr</code> and <code>require</code>. The rendered string form of the CR is passed to <code>!on_print_cr</code>. The default value is <code>print_endline</code>; this can be overridden to replace or extend the default behavior. For example, some testing harnesses may choose to abort a series of tests after the first CR is printed.</p></div></div></div></details></div><div class="odoc-spec"><div class="spec module-type" id="module-type-With_containers" class="anchored"><a href="#module-type-With_containers" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> With_containers</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_core/module-type-With_containers/index.html">Expect_test_helpers_core.With_containers</a></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-With_comparable" class="anchored"><a href="#module-type-With_comparable" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> With_comparable</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_core/module-type-With_comparable/index.html">Expect_test_helpers_core.With_comparable</a></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-With_hashable" class="anchored"><a href="#module-type-With_hashable" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> With_hashable</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_core/module-type-With_hashable/index.html">Expect_test_helpers_core.With_hashable</a></span></code></div></div><h4 id="serialization-tests"><a href="#serialization-tests" class="anchor"></a>Serialization tests</h4><div class="odoc-spec"><div class="spec value" id="val-print_and_check_stable_type" class="anchored"><a href="#val-print_and_check_stable_type" class="anchor"></a><code><span><span class="keyword">val</span> print_and_check_stable_type : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?max_binable_length:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Source_code_position/index.html#type-t">Core.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="../../../core/Core/module-type-Stable_without_comparator/index.html">Core.Stable_without_comparator</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../core/Core/module-type-Stable_without_comparator/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>print_and_check_stable_type</code> prints the bin-io digest for the given type, and the bin-io and sexp serializations of the given values. Prints an error message for any serializations that fail to round-trip, and for any bin-io serializations that exceed <code>max_binable_length</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_and_check_stable_int63able_type" class="anchored"><a href="#val-print_and_check_stable_int63able_type" class="anchor"></a><code><span><span class="keyword">val</span> print_and_check_stable_int63able_type : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?max_binable_length:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Source_code_position/index.html#type-t">Core.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="../../../core/Core/module-type-Stable_int63able/index.html">Core.Stable_int63able</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../core/Core/module-type-Stable_int63able/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>print_and_check_stable_int63able_type</code> works like <code>print_and_check_stable_type</code>, and includes <code>Int63.t</code> serializations.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_and_check_container_sexps" class="anchored"><a href="#val-print_and_check_container_sexps" class="anchor"></a><code><span><span class="keyword">val</span> print_and_check_container_sexps : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Source_code_position/index.html#type-t">Core.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="module-type-With_containers/index.html">With_containers</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-With_containers/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>print_and_check_container_sexps</code> prints the sexp representation of maps, sets, hash tables, and hash sets based on the given values. For sets and hash sets, prints a CR if the sexp does not correspond to a list of elements. For maps and hash tables, prints a CR if the sexp does not correspond to an association list keyed on elements.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_and_check_comparable_sexps" class="anchored"><a href="#val-print_and_check_comparable_sexps" class="anchor"></a><code><span><span class="keyword">val</span> print_and_check_comparable_sexps : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Source_code_position/index.html#type-t">Core.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="module-type-With_comparable/index.html">With_comparable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-With_comparable/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>print_and_check_comparable_sexps</code> is like <code>print_and_check_container_sexps</code> for maps and sets only.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_and_check_hashable_sexps" class="anchored"><a href="#val-print_and_check_hashable_sexps" class="anchor"></a><code><span><span class="keyword">val</span> print_and_check_hashable_sexps : 
  <span>?cr:<a href="../../../expect_test_helpers_core/Expect_test_helpers_base/CR/index.html#type-t">CR.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?hide_positions:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Source_code_position/index.html#type-t">Core.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="module-type-With_hashable/index.html">With_hashable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-With_hashable/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>print_and_check_hashable_sexps</code> is like <code>print_and_check_container_sexps</code> for hash tables and hash sets only.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_time_spans" class="anchored"><a href="#val-remove_time_spans" class="anchor"></a><code><span><span class="keyword">val</span> remove_time_spans : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Removes strings that look like time spans; see <code>Time.Span</code>.</p></div></div><h4 id="allocation-tests"><a href="#allocation-tests" class="anchor"></a>Allocation tests</h4><div class="odoc-spec"><div class="spec module" id="module-Allocation_limit" class="anchored"><a href="#module-Allocation_limit" class="anchor"></a><code><span><span class="keyword">module</span> Allocation_limit</span><span> = <a href="../../../expect_test_helpers_core/Expect_test_helpers_core/Allocation_limit/index.html">Expect_test_helpers_core.Allocation_limit</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-require_allocation_does_not_exceed" class="anchored"><a href="#val-require_allocation_does_not_exceed" class="anchor"></a><code><span><span class="keyword">val</span> require_allocation_does_not_exceed : 
  <span>?hide_positions:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../expect_test_helpers_core/Expect_test_helpers_core/Allocation_limit/index.html#type-t">Allocation_limit.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Source_code_position/index.html#type-t">Core.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>require_allocation_does_not_exceed</code> is a specialized form of <code>require</code> that only produces output when <code>f ()</code> allocates more than the given limits. The output will include the actual number of major and minor words allocated. We do NOT include these numbers in the successful case because those numbers are not stable with respect to compiler versions and build flags.</p><p>If <code>f</code> returns a value that should be ignored, use this idiom:</p><pre><code>ignore (require_allocation_does_not_exceed ... f : t)</code></pre><p>rather than this idiom:</p><pre><code>require_allocation_does_not_exceed ... (fun () -&gt; ignore (f () : t))</code></pre><p>With the latter idiom, the compiler may optimize the computation of <code>f ()</code> taking advantage of the fact that the result is ignored, and eliminate allocation that is intended to be measured. With the former idiom, the compiler cannot do such optimization and must compute the result of <code>f ()</code>.</p><p>See documentation above about CRs and workflows for failing allocation tests.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-require_no_allocation" class="anchored"><a href="#val-require_no_allocation" class="anchor"></a><code><span><span class="keyword">val</span> require_no_allocation : 
  <span>?hide_positions:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../core/Core/Source_code_position/index.html#type-t">Core.Source_code_position.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>require_no_allocation here f</code> is equivalent to <code>require_allocation_does_not_exceed
      (Minor_words 0) here f</code>.</p><p>See documentation above about CRs and workflows for failing allocation tests.</p></div></div></div></details></div></div></body></html>