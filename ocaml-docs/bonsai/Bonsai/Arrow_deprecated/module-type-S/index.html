<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (bonsai.Bonsai.Arrow_deprecated.S)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">bonsai</a> &#x00BB; <a href="../../index.html">Bonsai</a> &#x00BB; <a href="../index.html">Arrow_deprecated</a> &#x00BB; S</nav><header class="odoc-preamble"><h1>Module type <code><span>Arrow_deprecated.S</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-name" class="anchored"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : string</span></code></div><div class="spec-doc"><p>The name of the component. This is used to identify the component while debugging, and to annotate error messages. If you can't think of a good name, a reasonable fallback is <code>Source_code_position.to_string [%here]</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Input" class="anchored"><a href="#module-Input" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Input/index.html">Input</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A component receives read-only input, either from the output of other components or from an external system (e.g. data from a server). The input is frequently dynamic, but may also be constant.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Model" class="anchored"><a href="#module-Model" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Model/index.html">Model</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A component's &quot;model&quot; is a state machine that the component can both read and write to. Because both the input and model are readable, it can be hard to decide whether to request some data from the input or the model. It is highly recommended to put only the data that needs mutation in <code>Model.t</code>, and the rest in <code>Input.t</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Action" class="anchored"><a href="#module-Action" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Action/index.html">Action</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Components can change their own model by issuing &quot;actions&quot; that perform the state transition. If you think of the state machine as having states of type <code>Model.t</code>, then the transitions between those nodes would be of type <code>Action.t</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Result" class="anchored"><a href="#module-Result" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Result/index.html">Result</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>While UI components stereotypically produce some kind of &quot;view&quot;, with Bonsai, components are small and easy enough to compose that Bonsai components frequently produce intermediate results which are then wired into other components.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-apply_action" class="anchored"><a href="#val-apply_action" class="anchor"></a><code><span><span class="keyword">val</span> apply_action : 
  <span>inject:<span>( <span><a href="Action/index.html#type-t">Action.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../../virtual_dom/Ui_effect/index.html#type-t">Ui_effect.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>schedule_event:<span>( <span><span>unit <a href="../../../../virtual_dom/Ui_effect/index.html#type-t">Ui_effect.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Input/index.html#type-t">Input.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Model/index.html#type-t">Model.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Action/index.html#type-t">Action.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="Model/index.html#type-t">Model.t</a></span></code></div><div class="spec-doc"><p>When an action is raised by this component (via an Event.t), Bonsai will eventually pass that action back to this component's <code>apply_action</code> function. This function is responsible for producing a new model given the current model and the incoming action.</p><p><code>apply_action</code> may emit further actions via <code>schedule_event</code> or use Async to arrange for <code>schedule_event</code> to be called later.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compute" class="anchored"><a href="#val-compute" class="anchor"></a><code><span><span class="keyword">val</span> compute : 
  <span>inject:<span>( <span><a href="Action/index.html#type-t">Action.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../../virtual_dom/Ui_effect/index.html#type-t">Ui_effect.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Input/index.html#type-t">Input.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Model/index.html#type-t">Model.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="Result/index.html#type-t">Result.t</a></span></code></div><div class="spec-doc"><p><code>compute</code> is a function from input and model to the component's result. In a component that produces a view, this function could be thought of as the &quot;view computation function&quot;.</p><p>This function is also given an &quot;inject&quot; function which converts this component's <code>Action.t</code> to a global <code>Event.t</code> which can be given to Bonsai to schedule. Frequently, <code>inject</code> (or some wrapper around it) is included in the result as a handler for some kind of user input.</p><p>For example, the result may contain a Vdom button node that has an &quot;on click&quot; handler which calls <code>inject</code> to trigger an action.</p></div></div></div></body></html>